name: Bug Report
description: Report a bug or unexpected behavior
title: "[Bug]: "
labels: ["bug", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! Please fill out the form below.

  - type: textarea
    id: description
    attributes:
      label: Description
      description: A clear and concise description of the bug
      placeholder: What went wrong?
    validations:
      required: true

  - type: textarea
    id: steps
    attributes:
      label: Steps to Reproduce
      description: How can we reproduce this issue?
      placeholder: |
        1. Run `uptool scan`
        2. See error...
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: Expected Behavior
      description: What did you expect to happen?
      placeholder: It should have...
    validations:
      required: true

  - type: textarea
    id: actual
    attributes:
      label: Actual Behavior
      description: What actually happened?
      placeholder: Instead, it...
    validations:
      required: true

  - type: textarea
    id: logs
    attributes:
      label: Logs/Output
      description: Relevant command output or error messages
      render: shell
      placeholder: |
        $ uptool scan
        Error: ...

  - type: input
    id: version
    attributes:
      label: uptool Version
      description: Output of `uptool version`
      placeholder: v0.1.0
    validations:
      required: true

  - type: dropdown
    id: os
    attributes:
      label: Operating System
      options:
        - Linux
        - macOS
        - Windows
        - Other
    validations:
      required: true

  - type: input
    id: go-version
    attributes:
      label: Go Version (if building from source)
      placeholder: go version go1.25.0 darwin/arm64

  - type: dropdown
    id: usage
    attributes:
      label: Usage Mode
      description: How are you running uptool?
      options:
        - CLI (local)
        - GitHub Action
        - Both
    validations:
      required: true

  - type: dropdown
    id: integration
    attributes:
      label: Affected Integration(s)
      description: Which integration(s) are affected?
      multiple: true
      options:
        - npm
        - helm
        - precommit
        - terraform
        - tflint
        - all/multiple
        - other

  - type: textarea
    id: context
    attributes:
      label: Additional Context
      description: Any other information that might be relevant
      placeholder: This started happening after...

  - type: checkboxes
    id: checklist
    attributes:
      label: Pre-submission Checklist
      options:
        - label: I searched existing issues and didn't find a duplicate
          required: true
        - label: I'm using the latest version of uptool
          required: false
        - label: I can reliably reproduce this issue
          required: false
