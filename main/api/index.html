
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Universal, Manifest-First Dependency Updater">
      
      
        <meta name="author" content="santosr2">
      
      
        <link rel="canonical" href="https://santosr2.github.io/uptool/main/api/">
      
      
        <link rel="prev" href="../architecture/">
      
      
        <link rel="next" href="../cli/commands/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>API Documentation - uptool</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#uptool" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="uptool" class="md-header__button md-logo" aria-label="uptool" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.94 17.94a3.3 3.3 0 0 0 0-.89l.97-.73a.22.22 0 0 0 .06-.29l-.92-1.56c-.05-.1-.19-.14-.29-.1l-1.15.45c-.24-.17-.49-.32-.78-.44l-.17-1.19a.235.235 0 0 0-.23-.19h-1.85c-.12 0-.22.08-.24.19l-.17 1.19c-.29.12-.54.27-.78.44l-1.15-.45c-.1-.04-.24 0-.28.1l-.93 1.56c-.06.1-.03.22.06.29l.97.73c-.01.15-.03.3-.03.45s.02.29.03.44l-.97.74a.22.22 0 0 0-.06.29l.93 1.56c.04.1.18.13.28.1l1.15-.46c.24.18.49.33.78.45l.17 1.19c.02.11.12.19.24.19h1.85c.11 0 .21-.08.23-.19l.17-1.19c.29-.12.54-.27.78-.45l1.15.46c.1.03.24 0 .29-.1l.92-1.56a.22.22 0 0 0-.06-.29zM16.5 19c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M9 2c1.8.6 3 2.3 3 4.2 0 2-1.2 3.7-3 4.3v11c0 .3-.2.5-.5.5h-2c-.3 0-.5-.2-.5-.6v-11c-1.8-.6-3-2.3-3-4.2S4.2 2.6 6 2v3.7h3z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            uptool
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Documentation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/santosr2/uptool" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    santosr2/uptool
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../overview/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../configuration/" class="md-tabs__link">
          
  
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../integrations/" class="md-tabs__link">
          
  
  
    
  
  Integrations

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../CONTRIBUTING/" class="md-tabs__link">
          
  
  
    
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../CHANGELOG/" class="md-tabs__link">
          
  
  
    
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="uptool" class="md-nav__button md-logo" aria-label="uptool" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.94 17.94a3.3 3.3 0 0 0 0-.89l.97-.73a.22.22 0 0 0 .06-.29l-.92-1.56c-.05-.1-.19-.14-.29-.1l-1.15.45c-.24-.17-.49-.32-.78-.44l-.17-1.19a.235.235 0 0 0-.23-.19h-1.85c-.12 0-.22.08-.24.19l-.17 1.19c-.29.12-.54.27-.78.44l-1.15-.45c-.1-.04-.24 0-.28.1l-.93 1.56c-.06.1-.03.22.06.29l.97.73c-.01.15-.03.3-.03.45s.02.29.03.44l-.97.74a.22.22 0 0 0-.06.29l.93 1.56c.04.1.18.13.28.1l1.15-.46c.24.18.49.33.78.45l.17 1.19c.02.11.12.19.24.19h1.85c.11 0 .21-.08.23-.19l.17-1.19c.29-.12.54-.27.78-.45l1.15.46c.1.03.24 0 .29-.1l.92-1.56a.22.22 0 0 0-.06-.29zM16.5 19c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M9 2c1.8.6 3 2.3 3 4.2 0 2-1.2 3.7-3 4.3v11c0 .3-.2.5-.5.5h-2c-.3 0-.5-.2-.5-.6v-11c-1.8-.6-3-2.3-3-4.2S4.2 2.6 6 2v3.7h3z"/></svg>

    </a>
    uptool
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/santosr2/uptool" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    santosr2/uptool
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manifests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manifests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Organization Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Guard Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../action-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GitHub Action Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../integrations/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/npm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    npm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/helm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Helm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/terraform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terraform
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/tflint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    TFLint
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/precommit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pre-commit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/asdf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    asdf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/mise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTRIBUTING/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../patch-release-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Patch Release Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CLI Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    About
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SECURITY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../GOVERNANCE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Governance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code of Conduct
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LICENSE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href=".." class="md-path__link">
        
  <span class="md-ellipsis">
    Home
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="./" class="md-path__link">
          
  <span class="md-ellipsis">
    Reference
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<!-- Code generated by gomarkdoc. DO NOT EDIT -->

<h1 id="uptool">uptool<a class="headerlink" href="#uptool" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/cmd/uptool&quot;</span>
</span></code></pre></div>
<p>uptool is a manifest-first dependency updater for multiple ecosystems. It scans repositories for dependency manifest files <span class="arithmatex">\(package.json, Chart.yaml, .pre\-commit\-config.yaml, etc.\)</span>, checks for available updates, and rewrites manifests with new versions while preserving formatting.</p>
<h2 id="index">Index<a class="headerlink" href="#index" title="Permanent link">&para;</a></h2>
<h1 id="datasource">datasource<a class="headerlink" href="#datasource" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/datasource&quot;</span>
</span></code></pre></div>
<p>Package datasource provides a unified interface for querying package registries. This abstraction allows multiple integrations to share the same registry client.</p>
<h2 id="index_1">Index<a class="headerlink" href="#index_1" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#List">func List() []string</a></li>
<li><a href="#Register">func Register<span class="arithmatex">\(ds Datasource\)</span></a></li>
<li><a href="#Datasource">type Datasource</a></li>
<li><a href="#Get">func Get<span class="arithmatex">\(name string\)</span> <span class="arithmatex">\(Datasource, error\)</span></a></li>
<li><a href="#GitHubDatasource">type GitHubDatasource</a></li>
<li><a href="#NewGitHubDatasource">func NewGitHubDatasource() *GitHubDatasource</a></li>
<li><a href="#GitHubDatasource.GetLatestVersion">func <span class="arithmatex">\(d \*GitHubDatasource\)</span> GetLatestVersion<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#GitHubDatasource.GetPackageInfo">func <span class="arithmatex">\(d \*GitHubDatasource\)</span> GetPackageInfo<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\*PackageInfo, error\)</span></a></li>
<li><a href="#GitHubDatasource.GetVersions">func <span class="arithmatex">\(d \*GitHubDatasource\)</span> GetVersions<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\[\]string, error\)</span></a></li>
<li><a href="#GitHubDatasource.Name">func <span class="arithmatex">\(d \*GitHubDatasource\)</span> Name() string</a></li>
<li><a href="#HelmDatasource">type HelmDatasource</a></li>
<li><a href="#NewHelmDatasource">func NewHelmDatasource() *HelmDatasource</a></li>
<li><a href="#HelmDatasource.GetLatestVersion">func <span class="arithmatex">\(d \*HelmDatasource\)</span> GetLatestVersion<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#HelmDatasource.GetPackageInfo">func <span class="arithmatex">\(d \*HelmDatasource\)</span> GetPackageInfo<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\*PackageInfo, error\)</span></a></li>
<li><a href="#HelmDatasource.GetVersions">func <span class="arithmatex">\(d \*HelmDatasource\)</span> GetVersions<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\[\]string, error\)</span></a></li>
<li><a href="#HelmDatasource.Name">func <span class="arithmatex">\(d \*HelmDatasource\)</span> Name() string</a></li>
<li><a href="#NPMDatasource">type NPMDatasource</a></li>
<li><a href="#NewNPMDatasource">func NewNPMDatasource() *NPMDatasource</a></li>
<li><a href="#NPMDatasource.GetLatestVersion">func <span class="arithmatex">\(d \*NPMDatasource\)</span> GetLatestVersion<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#NPMDatasource.GetPackageInfo">func <span class="arithmatex">\(d \*NPMDatasource\)</span> GetPackageInfo<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\*PackageInfo, error\)</span></a></li>
<li><a href="#NPMDatasource.GetVersions">func <span class="arithmatex">\(d \*NPMDatasource\)</span> GetVersions<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\[\]string, error\)</span></a></li>
<li><a href="#NPMDatasource.Name">func <span class="arithmatex">\(d \*NPMDatasource\)</span> Name() string</a></li>
<li><a href="#PackageInfo">type PackageInfo</a></li>
<li><a href="#TerraformDatasource">type TerraformDatasource</a></li>
<li><a href="#NewTerraformDatasource">func NewTerraformDatasource() *TerraformDatasource</a></li>
<li><a href="#TerraformDatasource.GetLatestVersion">func <span class="arithmatex">\(d \*TerraformDatasource\)</span> GetLatestVersion<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#TerraformDatasource.GetPackageInfo">func <span class="arithmatex">\(d \*TerraformDatasource\)</span> GetPackageInfo<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\*PackageInfo, error\)</span></a></li>
<li><a href="#TerraformDatasource.GetVersions">func <span class="arithmatex">\(d \*TerraformDatasource\)</span> GetVersions<span class="arithmatex">\(ctx context.Context, pkg string\)</span> <span class="arithmatex">\(\[\]string, error\)</span></a></li>
<li><a href="#TerraformDatasource.Name">func <span class="arithmatex">\(d \*TerraformDatasource\)</span> Name() string</a></li>
<li><a href="#VersionInfo">type VersionInfo</a></li>
</ul>
<p><a name="List"></a></p>
<h2 id="func-list">func List<a class="headerlink" href="#func-list" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">List</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>List returns all registered datasource names.</p>
<p><a name="Register"></a></p>
<h2 id="func-register">func Register<a class="headerlink" href="#func-register" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Register</span><span class="p">(</span><span class="nx">ds</span><span class="w"> </span><span class="nx">Datasource</span><span class="p">)</span>
</span></code></pre></div>
<p>Register adds a datasource to the global registry.</p>
<p><a name="Datasource"></a></p>
<h2 id="type-datasource">type Datasource<a class="headerlink" href="#type-datasource" title="Permanent link">&para;</a></h2>
<p>Datasource represents a package registry or version source.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Datasource</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="c1">// Name returns the datasource identifier (e.g., &quot;npm&quot;, &quot;pypi&quot;, &quot;github-releases&quot;)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="c1">// GetLatestVersion returns the latest stable version for a package.</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="c1">// GetVersions returns all available versions for a package.</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="nx">GetVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="c1">// GetPackageInfo returns detailed information about a package.</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="nx">GetPackageInfo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PackageInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Get"></a></p>
<h3 id="func-get">func Get<a class="headerlink" href="#func-get" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Get</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">Datasource</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Get returns a datasource by name.</p>
<p><a name="GitHubDatasource"></a></p>
<h2 id="type-githubdatasource">type GitHubDatasource<a class="headerlink" href="#type-githubdatasource" title="Permanent link">&para;</a></h2>
<p>GitHubDatasource implements the Datasource interface for GitHub Releases.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">GitHubDatasource</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewGitHubDatasource"></a></p>
<h3 id="func-newgithubdatasource">func NewGitHubDatasource<a class="headerlink" href="#func-newgithubdatasource" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewGitHubDatasource</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubDatasource</span>
</span></code></pre></div>
<p>NewGitHubDatasource creates a new GitHub datasource.</p>
<p><a name="GitHubDatasource.GetLatestVersion"></a></p>
<h3 id="func-githubdatasource-getlatestversion">func <span class="arithmatex">\(\*GitHubDatasource\)</span> GetLatestVersion<a class="headerlink" href="#func-githubdatasource-getlatestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestVersion returns the latest stable release for a GitHub repository.</p>
<p><a name="GitHubDatasource.GetPackageInfo"></a></p>
<h3 id="func-githubdatasource-getpackageinfo">func <span class="arithmatex">\(\*GitHubDatasource\)</span> GetPackageInfo<a class="headerlink" href="#func-githubdatasource-getpackageinfo" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetPackageInfo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PackageInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetPackageInfo returns detailed information about a GitHub repository's releases.</p>
<p><a name="GitHubDatasource.GetVersions"></a></p>
<h3 id="func-githubdatasource-getversions">func <span class="arithmatex">\(\*GitHubDatasource\)</span> GetVersions<a class="headerlink" href="#func-githubdatasource-getversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetVersions returns all available releases for a GitHub repository.</p>
<p><a name="GitHubDatasource.Name"></a></p>
<h3 id="func-githubdatasource-name">func <span class="arithmatex">\(\*GitHubDatasource\)</span> Name<a class="headerlink" href="#func-githubdatasource-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the datasource identifier.</p>
<p><a name="HelmDatasource"></a></p>
<h2 id="type-helmdatasource">type HelmDatasource<a class="headerlink" href="#type-helmdatasource" title="Permanent link">&para;</a></h2>
<p>HelmDatasource implements the Datasource interface for Helm chart repositories.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">HelmDatasource</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewHelmDatasource"></a></p>
<h3 id="func-newhelmdatasource">func NewHelmDatasource<a class="headerlink" href="#func-newhelmdatasource" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewHelmDatasource</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmDatasource</span>
</span></code></pre></div>
<p>NewHelmDatasource creates a new Helm datasource.</p>
<p><a name="HelmDatasource.GetLatestVersion"></a></p>
<h3 id="func-helmdatasource-getlatestversion">func <span class="arithmatex">\(\*HelmDatasource\)</span> GetLatestVersion<a class="headerlink" href="#func-helmdatasource-getlatestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestVersion returns the latest stable version for a Helm chart.</p>
<p><a name="HelmDatasource.GetPackageInfo"></a></p>
<h3 id="func-helmdatasource-getpackageinfo">func <span class="arithmatex">\(\*HelmDatasource\)</span> GetPackageInfo<a class="headerlink" href="#func-helmdatasource-getpackageinfo" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetPackageInfo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PackageInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetPackageInfo returns detailed information about a Helm chart.</p>
<p><a name="HelmDatasource.GetVersions"></a></p>
<h3 id="func-helmdatasource-getversions">func <span class="arithmatex">\(\*HelmDatasource\)</span> GetVersions<a class="headerlink" href="#func-helmdatasource-getversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetVersions returns all available versions for a Helm chart.</p>
<p><a name="HelmDatasource.Name"></a></p>
<h3 id="func-helmdatasource-name">func <span class="arithmatex">\(\*HelmDatasource\)</span> Name<a class="headerlink" href="#func-helmdatasource-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the datasource identifier.</p>
<p><a name="NPMDatasource"></a></p>
<h2 id="type-npmdatasource">type NPMDatasource<a class="headerlink" href="#type-npmdatasource" title="Permanent link">&para;</a></h2>
<p>NPMDatasource implements the Datasource interface for the npm registry.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">NPMDatasource</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewNPMDatasource"></a></p>
<h3 id="func-newnpmdatasource">func NewNPMDatasource<a class="headerlink" href="#func-newnpmdatasource" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewNPMDatasource</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMDatasource</span>
</span></code></pre></div>
<p>NewNPMDatasource creates a new npm datasource.</p>
<p><a name="NPMDatasource.GetLatestVersion"></a></p>
<h3 id="func-npmdatasource-getlatestversion">func <span class="arithmatex">\(\*NPMDatasource\)</span> GetLatestVersion<a class="headerlink" href="#func-npmdatasource-getlatestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestVersion returns the latest stable version for an npm package.</p>
<p><a name="NPMDatasource.GetPackageInfo"></a></p>
<h3 id="func-npmdatasource-getpackageinfo">func <span class="arithmatex">\(\*NPMDatasource\)</span> GetPackageInfo<a class="headerlink" href="#func-npmdatasource-getpackageinfo" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetPackageInfo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PackageInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetPackageInfo returns detailed information about an npm package.</p>
<p><a name="NPMDatasource.GetVersions"></a></p>
<h3 id="func-npmdatasource-getversions">func <span class="arithmatex">\(\*NPMDatasource\)</span> GetVersions<a class="headerlink" href="#func-npmdatasource-getversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetVersions returns all available versions for an npm package.</p>
<p><a name="NPMDatasource.Name"></a></p>
<h3 id="func-npmdatasource-name">func <span class="arithmatex">\(\*NPMDatasource\)</span> Name<a class="headerlink" href="#func-npmdatasource-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the datasource identifier.</p>
<p><a name="PackageInfo"></a></p>
<h2 id="type-packageinfo">type PackageInfo<a class="headerlink" href="#type-packageinfo" title="Permanent link">&para;</a></h2>
<p>PackageInfo contains metadata about a package.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PackageInfo</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w">        </span><span class="kt">string</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="nx">Description</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="nx">Homepage</span><span class="w">    </span><span class="kt">string</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="nx">Repository</span><span class="w">  </span><span class="kt">string</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">    </span><span class="nx">Versions</span><span class="w">    </span><span class="p">[]</span><span class="nx">VersionInfo</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="TerraformDatasource"></a></p>
<h2 id="type-terraformdatasource">type TerraformDatasource<a class="headerlink" href="#type-terraformdatasource" title="Permanent link">&para;</a></h2>
<p>TerraformDatasource implements the Datasource interface for the Terraform Registry.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">TerraformDatasource</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewTerraformDatasource"></a></p>
<h3 id="func-newterraformdatasource">func NewTerraformDatasource<a class="headerlink" href="#func-newterraformdatasource" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewTerraformDatasource</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformDatasource</span>
</span></code></pre></div>
<p>NewTerraformDatasource creates a new Terraform datasource.</p>
<p><a name="TerraformDatasource.GetLatestVersion"></a></p>
<h3 id="func-terraformdatasource-getlatestversion">func <span class="arithmatex">\(\*TerraformDatasource\)</span> GetLatestVersion<a class="headerlink" href="#func-terraformdatasource-getlatestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestVersion returns the latest stable version for a Terraform module or provider.</p>
<p><a name="TerraformDatasource.GetPackageInfo"></a></p>
<h3 id="func-terraformdatasource-getpackageinfo">func <span class="arithmatex">\(\*TerraformDatasource\)</span> GetPackageInfo<a class="headerlink" href="#func-terraformdatasource-getpackageinfo" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetPackageInfo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PackageInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetPackageInfo returns detailed information about a Terraform module or provider.</p>
<p><a name="TerraformDatasource.GetVersions"></a></p>
<h3 id="func-terraformdatasource-getversions">func <span class="arithmatex">\(\*TerraformDatasource\)</span> GetVersions<a class="headerlink" href="#func-terraformdatasource-getversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">GetVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">pkg</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetVersions returns all available versions for a Terraform module or provider.</p>
<p><a name="TerraformDatasource.Name"></a></p>
<h3 id="func-terraformdatasource-name">func <span class="arithmatex">\(\*TerraformDatasource\)</span> Name<a class="headerlink" href="#func-terraformdatasource-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">d</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformDatasource</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the datasource identifier.</p>
<p><a name="VersionInfo"></a></p>
<h2 id="type-versioninfo">type VersionInfo<a class="headerlink" href="#type-versioninfo" title="Permanent link">&para;</a></h2>
<p>VersionInfo contains metadata about a specific version.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">VersionInfo</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">    </span><span class="nx">Version</span><span class="w">      </span><span class="kt">string</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="nx">PublishedAt</span><span class="w">  </span><span class="kt">string</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span><span class="nx">IsPrerelease</span><span class="w"> </span><span class="kt">bool</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">    </span><span class="nx">Deprecated</span><span class="w">   </span><span class="kt">bool</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="engine">engine<a class="headerlink" href="#engine" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/engine&quot;</span>
</span></code></pre></div>
<p>Package engine provides the core orchestration layer for uptool. It manages integration registration, manifest scanning, update planning, and update application. The Engine coordinates concurrent operations across multiple integrations while handling errors and logging.</p>
<p>Package engine provides the core orchestration layer for uptool's dependency scanning and updating. It defines the fundamental types and interfaces used across all integrations, including Manifest, Dependency, UpdatePlan, and the Integration interface.</p>
<h2 id="index_2">Index<a class="headerlink" href="#index_2" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#ApplyResult">type ApplyResult</a></li>
<li><a href="#CLIFlags">type CLIFlags</a></li>
<li><a href="#Dependency">type Dependency</a></li>
<li><a href="#Engine">type Engine</a></li>
<li><a href="#NewEngine">func NewEngine<span class="arithmatex">\(logger \*slog.Logger\)</span> *Engine</a></li>
<li><a href="#Engine.GetIntegration">func <span class="arithmatex">\(e \*Engine\)</span> GetIntegration<span class="arithmatex">\(name string\)</span> <span class="arithmatex">\(Integration, bool\)</span></a></li>
<li><a href="#Engine.ListIntegrations">func <span class="arithmatex">\(e \*Engine\)</span> ListIntegrations() []string</a></li>
<li><a href="#Engine.Plan">func <span class="arithmatex">\(e \*Engine\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifests \[\]\*Manifest\)</span> <span class="arithmatex">\(\*PlanResult, error\)</span></a></li>
<li><a href="#Engine.Register">func <span class="arithmatex">\(e \*Engine\)</span> Register<span class="arithmatex">\(integration Integration\)</span></a></li>
<li><a href="#Engine.Scan">func <span class="arithmatex">\(e \*Engine\)</span> Scan<span class="arithmatex">\(ctx context.Context, repoRoot string, only, exclude \[\]string\)</span> <span class="arithmatex">\(\*ScanResult, error\)</span></a></li>
<li><a href="#Engine.SetCLIFlags">func <span class="arithmatex">\(e \*Engine\)</span> SetCLIFlags<span class="arithmatex">\(flags \*CLIFlags\)</span></a></li>
<li><a href="#Engine.SetMatchConfigs">func <span class="arithmatex">\(e \*Engine\)</span> SetMatchConfigs<span class="arithmatex">\(configs map\[string\]\*MatchConfig\)</span></a></li>
<li><a href="#Engine.SetPolicies">func <span class="arithmatex">\(e \*Engine\)</span> SetPolicies<span class="arithmatex">\(policies map\[string\]IntegrationPolicy\)</span></a></li>
<li><a href="#Engine.Update">func <span class="arithmatex">\(e \*Engine\)</span> Update<span class="arithmatex">\(ctx context.Context, plans \[\]\*UpdatePlan, dryRun bool\)</span> <span class="arithmatex">\(\*UpdateResult, error\)</span></a></li>
<li><a href="#Impact">type Impact</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#IntegrationPolicy">type IntegrationPolicy</a></li>
<li><a href="#Manifest">type Manifest</a></li>
<li><a href="#MatchConfig">type MatchConfig</a></li>
<li><a href="#PlanContext">type PlanContext</a></li>
<li><a href="#NewPlanContext">func NewPlanContext() *PlanContext</a></li>
<li><a href="#PlanContext.EffectiveAllowPrerelease">func <span class="arithmatex">\(pc \*PlanContext\)</span> EffectiveAllowPrerelease() bool</a></li>
<li><a href="#PlanContext.EffectiveUpdateLevel">func <span class="arithmatex">\(pc \*PlanContext\)</span> EffectiveUpdateLevel() string</a></li>
<li><a href="#PlanContext.GetPolicySource">func <span class="arithmatex">\(pc \*PlanContext\)</span> GetPolicySource() PolicySource</a></li>
<li><a href="#PlanContext.ShouldRespectConstraints">func <span class="arithmatex">\(pc \*PlanContext\)</span> ShouldRespectConstraints() bool</a></li>
<li><a href="#PlanContext.WithCLIFlags">func <span class="arithmatex">\(pc \*PlanContext\)</span> WithCLIFlags<span class="arithmatex">\(flags \*CLIFlags\)</span> *PlanContext</a></li>
<li><a href="#PlanContext.WithPolicy">func <span class="arithmatex">\(pc \*PlanContext\)</span> WithPolicy<span class="arithmatex">\(p \*IntegrationPolicy\)</span> *PlanContext</a></li>
<li><a href="#PlanResult">type PlanResult</a></li>
<li><a href="#PolicySource">type PolicySource</a></li>
<li><a href="#ScanResult">type ScanResult</a></li>
<li><a href="#Update">type Update</a></li>
<li><a href="#UpdatePlan">type UpdatePlan</a></li>
<li><a href="#UpdateResult">type UpdateResult</a></li>
</ul>
<p><a name="ApplyResult"></a></p>
<h2 id="type-applyresult">type ApplyResult<a class="headerlink" href="#type-applyresult" title="Permanent link">&para;</a></h2>
<p>ApplyResult contains the outcome of applying updates.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ApplyResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">    </span><span class="nx">Manifest</span><span class="w">     </span><span class="o">*</span><span class="nx">Manifest</span><span class="w"> </span><span class="s">`json:&quot;manifest&quot;`</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="nx">ManifestDiff</span><span class="w"> </span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;manifest_diff,omitempty&quot;`</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">    </span><span class="nx">LockfileDiff</span><span class="w"> </span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;lockfile_diff,omitempty&quot;`</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="nx">Errors</span><span class="w">       </span><span class="p">[]</span><span class="kt">string</span><span class="w">  </span><span class="s">`json:&quot;errors,omitempty&quot;`</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">    </span><span class="nx">Applied</span><span class="w">      </span><span class="kt">int</span><span class="w">       </span><span class="s">`json:&quot;applied&quot;`</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">    </span><span class="nx">Failed</span><span class="w">       </span><span class="kt">int</span><span class="w">       </span><span class="s">`json:&quot;failed&quot;`</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="CLIFlags"></a></p>
<h2 id="type-cliflags">type CLIFlags<a class="headerlink" href="#type-cliflags" title="Permanent link">&para;</a></h2>
<p>CLIFlags represents command-line flag overrides for update behavior.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CLIFlags</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="nx">AllowPrerelease</span><span class="w"> </span><span class="o">*</span><span class="kt">bool</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="nx">UpdateLevel</span><span class="w">     </span><span class="kt">string</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Dependency"></a></p>
<h2 id="type-dependency">type Dependency<a class="headerlink" href="#type-dependency" title="Permanent link">&para;</a></h2>
<p>Dependency represents a single dependency in a manifest.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Dependency</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w">           </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;name&quot;`</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="nx">CurrentVersion</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;current_version&quot;`</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="nx">Constraint</span><span class="w">     </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;constraint,omitempty&quot;`</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span><span class="nx">Type</span><span class="w">           </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;type&quot;`</span><span class="w"> </span><span class="c1">// direct, dev, peer, optional</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span><span class="nx">Registry</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;registry,omitempty&quot;`</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Engine"></a></p>
<h2 id="type-engine">type Engine<a class="headerlink" href="#type-engine" title="Permanent link">&para;</a></h2>
<p>Engine orchestrates the scan, plan, and update operations.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Engine</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewEngine"></a></p>
<h3 id="func-newengine">func NewEngine<a class="headerlink" href="#func-newengine" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewEngine</span><span class="p">(</span><span class="nx">logger</span><span class="w"> </span><span class="o">*</span><span class="nx">slog</span><span class="p">.</span><span class="nx">Logger</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span>
</span></code></pre></div>
<p>NewEngine creates a new engine with the given integrations.</p>
<p><a name="Engine.GetIntegration"></a></p>
<h3 id="func-engine-getintegration">func <span class="arithmatex">\(\*Engine\)</span> GetIntegration<a class="headerlink" href="#func-engine-getintegration" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">GetIntegration</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">Integration</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span>
</span></code></pre></div>
<p>GetIntegration retrieves a registered integration by name.</p>
<p><a name="Engine.ListIntegrations"></a></p>
<h3 id="func-engine-listintegrations">func <span class="arithmatex">\(\*Engine\)</span> ListIntegrations<a class="headerlink" href="#func-engine-listintegrations" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">ListIntegrations</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>ListIntegrations returns all registered integration names.</p>
<p><a name="Engine.Plan"></a></p>
<h3 id="func-engine-plan">func <span class="arithmatex">\(\*Engine\)</span> Plan<a class="headerlink" href="#func-engine-plan" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifests</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PlanResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan generates update plans for all manifests. It applies policy precedence: CLI flags &gt; uptool.yaml &gt; manifest constraints. If cadence policies are configured, manifests are filtered based on their last check time.</p>
<p><a name="Engine.Register"></a></p>
<h3 id="func-engine-register">func <span class="arithmatex">\(\*Engine\)</span> Register<a class="headerlink" href="#func-engine-register" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">Register</span><span class="p">(</span><span class="nx">integration</span><span class="w"> </span><span class="nx">Integration</span><span class="p">)</span>
</span></code></pre></div>
<p>Register adds an integration to the engine.</p>
<p><a name="Engine.Scan"></a></p>
<h3 id="func-engine-scan">func <span class="arithmatex">\(\*Engine\)</span> Scan<a class="headerlink" href="#func-engine-scan" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">Scan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">only</span><span class="p">,</span><span class="w"> </span><span class="nx">exclude</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">ScanResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Scan discovers all manifests across registered integrations.</p>
<p><a name="Engine.SetCLIFlags"></a></p>
<h3 id="func-engine-setcliflags">func <span class="arithmatex">\(\*Engine\)</span> SetCLIFlags<a class="headerlink" href="#func-engine-setcliflags" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">SetCLIFlags</span><span class="p">(</span><span class="nx">flags</span><span class="w"> </span><span class="o">*</span><span class="nx">CLIFlags</span><span class="p">)</span>
</span></code></pre></div>
<p>SetCLIFlags configures CLI flag overrides for update behavior. These override manifest constraints but not uptool.yaml policies.</p>
<p><a name="Engine.SetMatchConfigs"></a></p>
<h3 id="func-engine-setmatchconfigs">func <span class="arithmatex">\(\*Engine\)</span> SetMatchConfigs<a class="headerlink" href="#func-engine-setmatchconfigs" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">SetMatchConfigs</span><span class="p">(</span><span class="nx">configs</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="o">*</span><span class="nx">MatchConfig</span><span class="p">)</span>
</span></code></pre></div>
<p>SetMatchConfigs configures file pattern matching for integrations. Manifests will be filtered to only include those matching the configured patterns and exclude those matching exclude patterns.</p>
<p><a name="Engine.SetPolicies"></a></p>
<h3 id="func-engine-setpolicies">func <span class="arithmatex">\(\*Engine\)</span> SetPolicies<a class="headerlink" href="#func-engine-setpolicies" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">SetPolicies</span><span class="p">(</span><span class="nx">policies</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">IntegrationPolicy</span><span class="p">)</span>
</span></code></pre></div>
<p>SetPolicies configures integration policies from uptool.yaml. These policies have the highest precedence in determining allowed updates.</p>
<p><a name="Engine.Update"></a></p>
<h3 id="func-engine-update">func <span class="arithmatex">\(\*Engine\)</span> Update<a class="headerlink" href="#func-engine-update" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Engine</span><span class="p">)</span><span class="w"> </span><span class="nx">Update</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plans</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="nx">dryRun</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">UpdateResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Update applies update plans.</p>
<p><a name="Impact"></a></p>
<h2 id="type-impact">type Impact<a class="headerlink" href="#type-impact" title="Permanent link">&para;</a></h2>
<p>Impact describes the severity of an update.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Impact</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p><a name="ImpactNone"></a>Impact levels for update severity</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">    </span><span class="nx">ImpactNone</span><span class="w">  </span><span class="nx">Impact</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="nx">ImpactPatch</span><span class="w"> </span><span class="nx">Impact</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;patch&quot;</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">    </span><span class="nx">ImpactMinor</span><span class="w"> </span><span class="nx">Impact</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;minor&quot;</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">    </span><span class="nx">ImpactMajor</span><span class="w"> </span><span class="nx">Impact</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;major&quot;</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="p">)</span>
</span></code></pre></div>
<p><a name="Integration"></a></p>
<h2 id="type-integration">type Integration<a class="headerlink" href="#type-integration" title="Permanent link">&para;</a></h2>
<p>Integration defines the interface for ecosystem integrations.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span><span class="c1">// Name returns the integration identifier</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">    </span><span class="c1">// Detect finds manifest files for this integration</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">    </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">    </span><span class="c1">// Plan determines available updates for a manifest.</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">    </span><span class="c1">// The planCtx parameter provides policy configuration following the precedence order:</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="w">    </span><span class="c1">// uptool.yaml policy &gt; CLI flags &gt; manifest constraints.</span>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="w">    </span><span class="c1">// If planCtx is nil, the integration should use default behavior (respect constraints only).</span>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="w">    </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a>
</span><span id="__span-49-14"><a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="w">    </span><span class="c1">// Apply executes the update plan</span>
</span><span id="__span-49-15"><a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="w">    </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-49-16"><a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a>
</span><span id="__span-49-17"><a id="__codelineno-49-17" name="__codelineno-49-17" href="#__codelineno-49-17"></a><span class="w">    </span><span class="c1">// Validate checks if changes are valid (optional)</span>
</span><span id="__span-49-18"><a id="__codelineno-49-18" name="__codelineno-49-18" href="#__codelineno-49-18"></a><span class="w">    </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span><span id="__span-49-19"><a id="__codelineno-49-19" name="__codelineno-49-19" href="#__codelineno-49-19"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="IntegrationPolicy"></a></p>
<h2 id="type-integrationpolicy">type IntegrationPolicy<a class="headerlink" href="#type-integrationpolicy" title="Permanent link">&para;</a></h2>
<p>IntegrationPolicy contains policy settings that apply to a specific integration.</p>
<p>Policy settings control update behavior at the integration level <span class="arithmatex">\(per manifest type\)</span>. These settings are configured in uptool.yaml under integrations[*].policy and can be overridden by CLI flags.</p>
<h3 id="policy-precedence">Policy Precedence<a class="headerlink" href="#policy-precedence" title="Permanent link">&para;</a></h3>
<p>The effective policy follows this precedence order <span class="arithmatex">\(highest to lowest\)</span>:</p>
<ol>
<li>CLI flags <span class="arithmatex">\(\-\-update\-level, \-\-allow\-prerelease, etc.\)</span></li>
<li>uptool.yaml integration policy <span class="arithmatex">\(this struct\)</span></li>
<li>Manifest constraints <span class="arithmatex">\(^, \~, \&gt;=, etc. from package.json, Chart.yaml, etc.\)</span></li>
<li>Default behavior <span class="arithmatex">\(allow all updates, respect constraints\)</span></li>
</ol>
<h3 id="example-configuration">Example Configuration<a class="headerlink" href="#example-configuration" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>integrations:
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>  - id: npm
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>    policy:
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>      enabled: true
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>      update: minor              # Allow patch + minor updates only
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>      allow_prerelease: false    # Exclude beta/alpha versions
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a>      pin: false                 # Keep version ranges (^1.2.3)
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a>      cadence: weekly            # Check for updates weekly
</span></code></pre></div>
<p>See docs/configuration.md for comprehensive policy documentation.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">IntegrationPolicy</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span><span class="c1">// Custom holds integration-specific custom fields that don&#39;t fit the standard policy model.</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="c1">// These are preserved during YAML parsing via the inline directive but aren&#39;t used by</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">    </span><span class="c1">// the core policy system. Integrations can access these via type assertions.</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">    </span><span class="nx">Custom</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="s">`yaml:&quot;,inline&quot; json:&quot;custom,omitempty&quot;`</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">    </span><span class="c1">// Update specifies the maximum version bump to allow.</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-9"><a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">    </span><span class="c1">// Valid values:</span>
</span><span id="__span-51-10"><a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="w">    </span><span class="c1">//   - &quot;none&quot;:  No updates (scan/plan only mode)</span>
</span><span id="__span-51-11"><a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="w">    </span><span class="c1">//   - &quot;patch&quot;: Allow patch updates only (1.2.3  1.2.4)</span>
</span><span id="__span-51-12"><a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a><span class="w">    </span><span class="c1">//   - &quot;minor&quot;: Allow patch + minor updates (1.2.3  1.3.0)</span>
</span><span id="__span-51-13"><a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a><span class="w">    </span><span class="c1">//   - &quot;major&quot;: Allow all updates (1.2.3  2.0.0)</span>
</span><span id="__span-51-14"><a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-15"><a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a><span class="w">    </span><span class="c1">// Default: &quot;major&quot; (allow all updates, let manifest constraints filter)</span>
</span><span id="__span-51-16"><a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-17"><a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a><span class="w">    </span><span class="c1">// Note: Manifest constraints (e.g., ^1.2.3) further restrict allowed updates.</span>
</span><span id="__span-51-18"><a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a><span class="w">    </span><span class="c1">// If a manifest specifies ^1.2.0, setting update=&quot;major&quot; won&#39;t allow 2.x updates</span>
</span><span id="__span-51-19"><a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a><span class="w">    </span><span class="c1">// unless the manifest constraint is also updated.</span>
</span><span id="__span-51-20"><a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a><span class="w">    </span><span class="nx">Update</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;update&quot; json:&quot;update&quot;`</span>
</span><span id="__span-51-21"><a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a>
</span><span id="__span-51-22"><a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a><span class="w">    </span><span class="c1">// Cadence specifies how often to check for updates in scheduled/automated runs.</span>
</span><span id="__span-51-23"><a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-24"><a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a><span class="w">    </span><span class="c1">// Valid values:</span>
</span><span id="__span-51-25"><a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a><span class="w">    </span><span class="c1">//   - &quot;daily&quot;:   Check for updates every day</span>
</span><span id="__span-51-26"><a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a><span class="w">    </span><span class="c1">//   - &quot;weekly&quot;:  Check for updates once per week</span>
</span><span id="__span-51-27"><a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a><span class="w">    </span><span class="c1">//   - &quot;monthly&quot;: Check for updates once per month</span>
</span><span id="__span-51-28"><a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a><span class="w">    </span><span class="c1">//   - &quot;&quot; (empty): No cadence restriction</span>
</span><span id="__span-51-29"><a id="__codelineno-51-29" name="__codelineno-51-29" href="#__codelineno-51-29"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-30"><a id="__codelineno-51-30" name="__codelineno-51-30" href="#__codelineno-51-30"></a><span class="w">    </span><span class="c1">// Default: &quot;&quot; (no restriction)</span>
</span><span id="__span-51-31"><a id="__codelineno-51-31" name="__codelineno-51-31" href="#__codelineno-51-31"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-32"><a id="__codelineno-51-32" name="__codelineno-51-32" href="#__codelineno-51-32"></a><span class="w">    </span><span class="c1">// This field is primarily used by GitHub Actions workflows to control update frequency.</span>
</span><span id="__span-51-33"><a id="__codelineno-51-33" name="__codelineno-51-33" href="#__codelineno-51-33"></a><span class="w">    </span><span class="c1">// The CLI ignores this field and always checks for updates when run manually.</span>
</span><span id="__span-51-34"><a id="__codelineno-51-34" name="__codelineno-51-34" href="#__codelineno-51-34"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-35"><a id="__codelineno-51-35" name="__codelineno-51-35" href="#__codelineno-51-35"></a><span class="w">    </span><span class="c1">// Example: Set cadence=&quot;monthly&quot; for production dependencies that change infrequently.</span>
</span><span id="__span-51-36"><a id="__codelineno-51-36" name="__codelineno-51-36" href="#__codelineno-51-36"></a><span class="w">    </span><span class="nx">Cadence</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;cadence,omitempty&quot; json:&quot;cadence,omitempty&quot;`</span>
</span><span id="__span-51-37"><a id="__codelineno-51-37" name="__codelineno-51-37" href="#__codelineno-51-37"></a>
</span><span id="__span-51-38"><a id="__codelineno-51-38" name="__codelineno-51-38" href="#__codelineno-51-38"></a><span class="w">    </span><span class="c1">// Enabled controls whether this policy is applied.</span>
</span><span id="__span-51-39"><a id="__codelineno-51-39" name="__codelineno-51-39" href="#__codelineno-51-39"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-40"><a id="__codelineno-51-40" name="__codelineno-51-40" href="#__codelineno-51-40"></a><span class="w">    </span><span class="c1">// When false, the integration still runs but uses default policy settings:</span>
</span><span id="__span-51-41"><a id="__codelineno-51-41" name="__codelineno-51-41" href="#__codelineno-51-41"></a><span class="w">    </span><span class="c1">//   - update: major (allow all updates)</span>
</span><span id="__span-51-42"><a id="__codelineno-51-42" name="__codelineno-51-42" href="#__codelineno-51-42"></a><span class="w">    </span><span class="c1">//   - allow_prerelease: false</span>
</span><span id="__span-51-43"><a id="__codelineno-51-43" name="__codelineno-51-43" href="#__codelineno-51-43"></a><span class="w">    </span><span class="c1">//   - pin: default per integration</span>
</span><span id="__span-51-44"><a id="__codelineno-51-44" name="__codelineno-51-44" href="#__codelineno-51-44"></a><span class="w">    </span><span class="c1">//   - Respects manifest constraints (^, ~, &gt;=, etc.)</span>
</span><span id="__span-51-45"><a id="__codelineno-51-45" name="__codelineno-51-45" href="#__codelineno-51-45"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-46"><a id="__codelineno-51-46" name="__codelineno-51-46" href="#__codelineno-51-46"></a><span class="w">    </span><span class="c1">// When true, the configured policy settings are applied.</span>
</span><span id="__span-51-47"><a id="__codelineno-51-47" name="__codelineno-51-47" href="#__codelineno-51-47"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-48"><a id="__codelineno-51-48" name="__codelineno-51-48" href="#__codelineno-51-48"></a><span class="w">    </span><span class="c1">// Default: true</span>
</span><span id="__span-51-49"><a id="__codelineno-51-49" name="__codelineno-51-49" href="#__codelineno-51-49"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-50"><a id="__codelineno-51-50" name="__codelineno-51-50" href="#__codelineno-51-50"></a><span class="w">    </span><span class="c1">// Note: This is different from integrations[*].enabled, which controls whether</span>
</span><span id="__span-51-51"><a id="__codelineno-51-51" name="__codelineno-51-51" href="#__codelineno-51-51"></a><span class="w">    </span><span class="c1">// the integration is registered at all. Use policy.enabled to disable policies</span>
</span><span id="__span-51-52"><a id="__codelineno-51-52" name="__codelineno-51-52" href="#__codelineno-51-52"></a><span class="w">    </span><span class="c1">// while keeping the integration active.</span>
</span><span id="__span-51-53"><a id="__codelineno-51-53" name="__codelineno-51-53" href="#__codelineno-51-53"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-54"><a id="__codelineno-51-54" name="__codelineno-51-54" href="#__codelineno-51-54"></a><span class="w">    </span><span class="c1">// Example use case: Temporarily allow all updates for an integration without</span>
</span><span id="__span-51-55"><a id="__codelineno-51-55" name="__codelineno-51-55" href="#__codelineno-51-55"></a><span class="w">    </span><span class="c1">// modifying other policy settings.</span>
</span><span id="__span-51-56"><a id="__codelineno-51-56" name="__codelineno-51-56" href="#__codelineno-51-56"></a><span class="w">    </span><span class="nx">Enabled</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="s">`yaml:&quot;enabled&quot; json:&quot;enabled&quot;`</span>
</span><span id="__span-51-57"><a id="__codelineno-51-57" name="__codelineno-51-57" href="#__codelineno-51-57"></a>
</span><span id="__span-51-58"><a id="__codelineno-51-58" name="__codelineno-51-58" href="#__codelineno-51-58"></a><span class="w">    </span><span class="c1">// AllowPrerelease controls whether to include pre-release versions in updates.</span>
</span><span id="__span-51-59"><a id="__codelineno-51-59" name="__codelineno-51-59" href="#__codelineno-51-59"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-60"><a id="__codelineno-51-60" name="__codelineno-51-60" href="#__codelineno-51-60"></a><span class="w">    </span><span class="c1">// When true, considers versions like:</span>
</span><span id="__span-51-61"><a id="__codelineno-51-61" name="__codelineno-51-61" href="#__codelineno-51-61"></a><span class="w">    </span><span class="c1">//   - 1.2.3-alpha.1</span>
</span><span id="__span-51-62"><a id="__codelineno-51-62" name="__codelineno-51-62" href="#__codelineno-51-62"></a><span class="w">    </span><span class="c1">//   - 1.2.3-beta.2</span>
</span><span id="__span-51-63"><a id="__codelineno-51-63" name="__codelineno-51-63" href="#__codelineno-51-63"></a><span class="w">    </span><span class="c1">//   - 1.2.3-rc.1</span>
</span><span id="__span-51-64"><a id="__codelineno-51-64" name="__codelineno-51-64" href="#__codelineno-51-64"></a><span class="w">    </span><span class="c1">//   - 1.2.3-20250708</span>
</span><span id="__span-51-65"><a id="__codelineno-51-65" name="__codelineno-51-65" href="#__codelineno-51-65"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-66"><a id="__codelineno-51-66" name="__codelineno-51-66" href="#__codelineno-51-66"></a><span class="w">    </span><span class="c1">// When false (default), only stable releases are considered.</span>
</span><span id="__span-51-67"><a id="__codelineno-51-67" name="__codelineno-51-67" href="#__codelineno-51-67"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-68"><a id="__codelineno-51-68" name="__codelineno-51-68" href="#__codelineno-51-68"></a><span class="w">    </span><span class="c1">// Default: false</span>
</span><span id="__span-51-69"><a id="__codelineno-51-69" name="__codelineno-51-69" href="#__codelineno-51-69"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-70"><a id="__codelineno-51-70" name="__codelineno-51-70" href="#__codelineno-51-70"></a><span class="w">    </span><span class="c1">// Recommendation: Only enable for development dependencies or when you explicitly</span>
</span><span id="__span-51-71"><a id="__codelineno-51-71" name="__codelineno-51-71" href="#__codelineno-51-71"></a><span class="w">    </span><span class="c1">// want to test pre-release versions. Never enable for production dependencies.</span>
</span><span id="__span-51-72"><a id="__codelineno-51-72" name="__codelineno-51-72" href="#__codelineno-51-72"></a><span class="w">    </span><span class="nx">AllowPrerelease</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="s">`yaml:&quot;allow_prerelease&quot; json:&quot;allow_prerelease&quot;`</span>
</span><span id="__span-51-73"><a id="__codelineno-51-73" name="__codelineno-51-73" href="#__codelineno-51-73"></a>
</span><span id="__span-51-74"><a id="__codelineno-51-74" name="__codelineno-51-74" href="#__codelineno-51-74"></a><span class="w">    </span><span class="c1">// Pin controls whether to write exact versions or preserve version constraints.</span>
</span><span id="__span-51-75"><a id="__codelineno-51-75" name="__codelineno-51-75" href="#__codelineno-51-75"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-76"><a id="__codelineno-51-76" name="__codelineno-51-76" href="#__codelineno-51-76"></a><span class="w">    </span><span class="c1">// Behavior varies by integration type:</span>
</span><span id="__span-51-77"><a id="__codelineno-51-77" name="__codelineno-51-77" href="#__codelineno-51-77"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-78"><a id="__codelineno-51-78" name="__codelineno-51-78" href="#__codelineno-51-78"></a><span class="w">    </span><span class="c1">// npm (pin=true):  Write exact versions: &quot;4.19.2&quot;</span>
</span><span id="__span-51-79"><a id="__codelineno-51-79" name="__codelineno-51-79" href="#__codelineno-51-79"></a><span class="w">    </span><span class="c1">// npm (pin=false): Preserve constraints:  &quot;^4.19.2&quot;, &quot;~4.19.2&quot;</span>
</span><span id="__span-51-80"><a id="__codelineno-51-80" name="__codelineno-51-80" href="#__codelineno-51-80"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-81"><a id="__codelineno-51-81" name="__codelineno-51-81" href="#__codelineno-51-81"></a><span class="w">    </span><span class="c1">// helm, terraform, mise: Always write exact versions (pin setting ignored)</span>
</span><span id="__span-51-82"><a id="__codelineno-51-82" name="__codelineno-51-82" href="#__codelineno-51-82"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-83"><a id="__codelineno-51-83" name="__codelineno-51-83" href="#__codelineno-51-83"></a><span class="w">    </span><span class="c1">// Default: Varies by integration</span>
</span><span id="__span-51-84"><a id="__codelineno-51-84" name="__codelineno-51-84" href="#__codelineno-51-84"></a><span class="w">    </span><span class="c1">//   - npm: false (preserve constraints)</span>
</span><span id="__span-51-85"><a id="__codelineno-51-85" name="__codelineno-51-85" href="#__codelineno-51-85"></a><span class="w">    </span><span class="c1">//   - helm: true (always pinned)</span>
</span><span id="__span-51-86"><a id="__codelineno-51-86" name="__codelineno-51-86" href="#__codelineno-51-86"></a><span class="w">    </span><span class="c1">//   - terraform: true (always pinned)</span>
</span><span id="__span-51-87"><a id="__codelineno-51-87" name="__codelineno-51-87" href="#__codelineno-51-87"></a><span class="w">    </span><span class="c1">//   - mise: true (always pinned)</span>
</span><span id="__span-51-88"><a id="__codelineno-51-88" name="__codelineno-51-88" href="#__codelineno-51-88"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-51-89"><a id="__codelineno-51-89" name="__codelineno-51-89" href="#__codelineno-51-89"></a><span class="w">    </span><span class="c1">// Recommendation: Use pin=false for libraries to allow downstream consumers</span>
</span><span id="__span-51-90"><a id="__codelineno-51-90" name="__codelineno-51-90" href="#__codelineno-51-90"></a><span class="w">    </span><span class="c1">// to resolve compatible versions. Use pin=true for applications to ensure</span>
</span><span id="__span-51-91"><a id="__codelineno-51-91" name="__codelineno-51-91" href="#__codelineno-51-91"></a><span class="w">    </span><span class="c1">// reproducible builds.</span>
</span><span id="__span-51-92"><a id="__codelineno-51-92" name="__codelineno-51-92" href="#__codelineno-51-92"></a><span class="w">    </span><span class="nx">Pin</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="s">`yaml:&quot;pin&quot; json:&quot;pin&quot;`</span>
</span><span id="__span-51-93"><a id="__codelineno-51-93" name="__codelineno-51-93" href="#__codelineno-51-93"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Manifest"></a></p>
<h2 id="type-manifest">type Manifest<a class="headerlink" href="#type-manifest" title="Permanent link">&para;</a></h2>
<p>Manifest represents a dependency manifest file.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Manifest</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">    </span><span class="nx">Metadata</span><span class="w">     </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="s">`json:&quot;metadata,omitempty&quot;`</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">    </span><span class="nx">Path</span><span class="w">         </span><span class="kt">string</span><span class="w">                 </span><span class="s">`json:&quot;path&quot;`</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">    </span><span class="nx">Type</span><span class="w">         </span><span class="kt">string</span><span class="w">                 </span><span class="s">`json:&quot;type&quot;`</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">    </span><span class="nx">Dependencies</span><span class="w"> </span><span class="p">[]</span><span class="nx">Dependency</span><span class="w">           </span><span class="s">`json:&quot;dependencies&quot;`</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">    </span><span class="nx">Content</span><span class="w">      </span><span class="p">[]</span><span class="kt">byte</span><span class="w">                 </span><span class="s">`json:&quot;-&quot;`</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="MatchConfig"></a></p>
<h2 id="type-matchconfig">type MatchConfig<a class="headerlink" href="#type-matchconfig" title="Permanent link">&para;</a></h2>
<p>MatchConfig specifies file patterns for integration detection. It supports both include patterns <span class="arithmatex">\(files to match\)</span> and exclude patterns <span class="arithmatex">\(files to ignore\)</span>.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">MatchConfig</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">    </span><span class="c1">// Files is a list of glob patterns matching manifest files.</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="c1">// If empty, all files detected by the integration are included.</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="nx">Files</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="c1">// Exclude is a list of glob patterns to exclude from matches.</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">    </span><span class="c1">// Files matching any exclude pattern are filtered out even if they match a files pattern.</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">    </span><span class="c1">// Exclude patterns are applied AFTER files patterns.</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="w">    </span><span class="nx">Exclude</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="PlanContext"></a></p>
<h2 id="type-plancontext">type PlanContext<a class="headerlink" href="#type-plancontext" title="Permanent link">&para;</a></h2>
<p>PlanContext provides policy and configuration context for planning operations. It implements a precedence order: CLI flags &gt; uptool.yaml policy &gt; manifest constraints. This allows fine-grained control over which updates are allowed.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PlanContext</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="w">    </span><span class="c1">// Policy contains the integration-specific policy from uptool.yaml.</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="w">    </span><span class="c1">// This has medium precedence (after CLI flags) when determining allowed updates.</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="w">    </span><span class="nx">Policy</span><span class="w"> </span><span class="o">*</span><span class="nx">IntegrationPolicy</span>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="w">    </span><span class="c1">// CLIFlags contains any command-line overrides.</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="w">    </span><span class="c1">// These have the highest precedence and override all other policy sources.</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="w">    </span><span class="nx">CLIFlags</span><span class="w"> </span><span class="o">*</span><span class="nx">CLIFlags</span>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a>
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a><span class="w">    </span><span class="c1">// RespectConstraints indicates whether manifest constraints (e.g., ~&gt; 5.0)</span>
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="w">    </span><span class="c1">// should be respected when no policy or flag overrides them.</span>
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="w">    </span><span class="c1">// Defaults to true.</span>
</span><span id="__span-54-13"><a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="w">    </span><span class="nx">RespectConstraints</span><span class="w"> </span><span class="kt">bool</span>
</span><span id="__span-54-14"><a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewPlanContext"></a></p>
<h3 id="func-newplancontext">func NewPlanContext<a class="headerlink" href="#func-newplancontext" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewPlanContext</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span>
</span></code></pre></div>
<p>NewPlanContext creates a new PlanContext with default settings. By default, constraints are respected when no policy overrides them.</p>
<p><a name="PlanContext.EffectiveAllowPrerelease"></a></p>
<h3 id="func-plancontext-effectiveallowprerelease">func <span class="arithmatex">\(\*PlanContext\)</span> EffectiveAllowPrerelease<a class="headerlink" href="#func-plancontext-effectiveallowprerelease" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="nx">EffectiveAllowPrerelease</span><span class="p">()</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>EffectiveAllowPrerelease returns whether prereleases are allowed, following precedence: 1. CLI flags <span class="arithmatex">\(highest\)</span> 2. uptool.yaml policy 3. Default <span class="arithmatex">\(false\)</span></p>
<p><a name="PlanContext.EffectiveUpdateLevel"></a></p>
<h3 id="func-plancontext-effectiveupdatelevel">func <span class="arithmatex">\(\*PlanContext\)</span> EffectiveUpdateLevel<a class="headerlink" href="#func-plancontext-effectiveupdatelevel" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="nx">EffectiveUpdateLevel</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>EffectiveUpdateLevel returns the update level to use, following precedence: 1. CLI flags <span class="arithmatex">\(highest\)</span> 2. uptool.yaml policy 3. Default <span class="arithmatex">\("major" \- allow all updates, let constraints filter\)</span></p>
<p><a name="PlanContext.GetPolicySource"></a></p>
<h3 id="func-plancontext-getpolicysource">func <span class="arithmatex">\(\*PlanContext\)</span> GetPolicySource<a class="headerlink" href="#func-plancontext-getpolicysource" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="nx">GetPolicySource</span><span class="p">()</span><span class="w"> </span><span class="nx">PolicySource</span>
</span></code></pre></div>
<p>GetPolicySource determines the source of the effective policy based on precedence. Returns the policy source following the precedence order: 1. CLI flags <span class="arithmatex">\(highest\)</span> - overrides all other sources 2. uptool.yaml policy - overrides constraints 3. Manifest constraints <span class="arithmatex">\(when no higher precedence policy exists\)</span> 4. Default</p>
<p><a name="PlanContext.ShouldRespectConstraints"></a></p>
<h3 id="func-plancontext-shouldrespectconstraints">func <span class="arithmatex">\(\*PlanContext\)</span> ShouldRespectConstraints<a class="headerlink" href="#func-plancontext-shouldrespectconstraints" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="nx">ShouldRespectConstraints</span><span class="p">()</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>ShouldRespectConstraints returns whether manifest constraints should be respected. Constraints are always respected unless explicitly disabled.</p>
<p><a name="PlanContext.WithCLIFlags"></a></p>
<h3 id="func-plancontext-withcliflags">func <span class="arithmatex">\(\*PlanContext\)</span> WithCLIFlags<a class="headerlink" href="#func-plancontext-withcliflags" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="nx">WithCLIFlags</span><span class="p">(</span><span class="nx">flags</span><span class="w"> </span><span class="o">*</span><span class="nx">CLIFlags</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span>
</span></code></pre></div>
<p>WithCLIFlags returns a copy of the context with the given CLI flags.</p>
<p><a name="PlanContext.WithPolicy"></a></p>
<h3 id="func-plancontext-withpolicy">func <span class="arithmatex">\(\*PlanContext\)</span> WithPolicy<a class="headerlink" href="#func-plancontext-withpolicy" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="nx">WithPolicy</span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="o">*</span><span class="nx">IntegrationPolicy</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">PlanContext</span>
</span></code></pre></div>
<p>WithPolicy returns a copy of the context with the given policy.</p>
<p><a name="PlanResult"></a></p>
<h2 id="type-planresult">type PlanResult<a class="headerlink" href="#type-planresult" title="Permanent link">&para;</a></h2>
<p>PlanResult aggregates all update plans.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PlanResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">    </span><span class="nx">Plans</span><span class="w">     </span><span class="p">[]</span><span class="o">*</span><span class="nx">UpdatePlan</span><span class="w"> </span><span class="s">`json:&quot;plans&quot;`</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="nx">Timestamp</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w">     </span><span class="s">`json:&quot;timestamp&quot;`</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">    </span><span class="nx">Errors</span><span class="w">    </span><span class="p">[]</span><span class="kt">string</span><span class="w">      </span><span class="s">`json:&quot;errors,omitempty&quot;`</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="PolicySource"></a></p>
<h2 id="type-policysource">type PolicySource<a class="headerlink" href="#type-policysource" title="Permanent link">&para;</a></h2>
<p>PolicySource indicates where the update policy originated from.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PolicySource</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p><a name="PolicySourceUptoolYAML"></a>PolicySource values for policy precedence tracking</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="w">    </span><span class="c1">// PolicySourceUptoolYAML indicates the policy came from uptool.yaml (highest precedence)</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="w">    </span><span class="nx">PolicySourceUptoolYAML</span><span class="w"> </span><span class="nx">PolicySource</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;uptool.yaml&quot;</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="w">    </span><span class="c1">// PolicySourceCLIFlag indicates the policy came from a CLI flag</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="w">    </span><span class="nx">PolicySourceCLIFlag</span><span class="w"> </span><span class="nx">PolicySource</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;cli-flag&quot;</span>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a>
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="w">    </span><span class="c1">// PolicySourceConstraint indicates the policy came from manifest constraints (e.g., ~&gt; 5.0)</span>
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="w">    </span><span class="nx">PolicySourceConstraint</span><span class="w"> </span><span class="nx">PolicySource</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;constraint&quot;</span>
</span><span id="__span-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a>
</span><span id="__span-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="w">    </span><span class="c1">// PolicySourceDefault indicates the default policy was used</span>
</span><span id="__span-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="w">    </span><span class="nx">PolicySourceDefault</span><span class="w"> </span><span class="nx">PolicySource</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;default&quot;</span>
</span><span id="__span-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a><span class="p">)</span>
</span></code></pre></div>
<p><a name="ScanResult"></a></p>
<h2 id="type-scanresult">type ScanResult<a class="headerlink" href="#type-scanresult" title="Permanent link">&para;</a></h2>
<p>ScanResult aggregates all discovered manifests.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ScanResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">    </span><span class="nx">Manifests</span><span class="w"> </span><span class="p">[]</span><span class="o">*</span><span class="nx">Manifest</span><span class="w"> </span><span class="s">`json:&quot;manifests&quot;`</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">    </span><span class="nx">Timestamp</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w">   </span><span class="s">`json:&quot;timestamp&quot;`</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">    </span><span class="nx">RepoRoot</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="s">`json:&quot;repo_root&quot;`</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">    </span><span class="nx">Errors</span><span class="w">    </span><span class="p">[]</span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;errors,omitempty&quot;`</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Update"></a></p>
<h2 id="type-update">type Update<a class="headerlink" href="#type-update" title="Permanent link">&para;</a></h2>
<p>Update represents a planned update for a dependency.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Update</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">    </span><span class="nx">Dependency</span><span class="w">    </span><span class="nx">Dependency</span><span class="w">   </span><span class="s">`json:&quot;dependency&quot;`</span>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="w">    </span><span class="nx">TargetVersion</span><span class="w"> </span><span class="kt">string</span><span class="w">       </span><span class="s">`json:&quot;target_version&quot;`</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="w">    </span><span class="nx">Impact</span><span class="w">        </span><span class="kt">string</span><span class="w">       </span><span class="s">`json:&quot;impact&quot;`</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="w">    </span><span class="nx">ChangelogURL</span><span class="w">  </span><span class="kt">string</span><span class="w">       </span><span class="s">`json:&quot;changelog_url,omitempty&quot;`</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="w">    </span><span class="nx">PolicySource</span><span class="w">  </span><span class="nx">PolicySource</span><span class="w"> </span><span class="s">`json:&quot;policy_source,omitempty&quot;`</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="w">    </span><span class="nx">Breaking</span><span class="w">      </span><span class="kt">bool</span><span class="w">         </span><span class="s">`json:&quot;breaking&quot;`</span>
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="UpdatePlan"></a></p>
<h2 id="type-updateplan">type UpdatePlan<a class="headerlink" href="#type-updateplan" title="Permanent link">&para;</a></h2>
<p>UpdatePlan describes planned updates for a manifest.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">UpdatePlan</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">    </span><span class="nx">Manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">Manifest</span><span class="w"> </span><span class="s">`json:&quot;manifest&quot;`</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">    </span><span class="nx">Strategy</span><span class="w"> </span><span class="kt">string</span><span class="w">    </span><span class="s">`json:&quot;strategy&quot;`</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">    </span><span class="nx">Updates</span><span class="w">  </span><span class="p">[]</span><span class="nx">Update</span><span class="w">  </span><span class="s">`json:&quot;updates&quot;`</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="UpdateResult"></a></p>
<h2 id="type-updateresult">type UpdateResult<a class="headerlink" href="#type-updateresult" title="Permanent link">&para;</a></h2>
<p>UpdateResult aggregates all apply results.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">UpdateResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w">    </span><span class="nx">Results</span><span class="w">   </span><span class="p">[]</span><span class="o">*</span><span class="nx">ApplyResult</span><span class="w"> </span><span class="s">`json:&quot;results&quot;`</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w">    </span><span class="nx">Timestamp</span><span class="w"> </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w">      </span><span class="s">`json:&quot;timestamp&quot;`</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="w">    </span><span class="nx">Errors</span><span class="w">    </span><span class="p">[]</span><span class="kt">string</span><span class="w">       </span><span class="s">`json:&quot;errors,omitempty&quot;`</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="integrations">integrations<a class="headerlink" href="#integrations" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations&quot;</span>
</span></code></pre></div>
<p>Package integrations provides metadata about available integrations.</p>
<p>Package integrations provides a central registry for all integration implementations. Integrations can be built-in <span class="arithmatex">\(compiled into the binary\)</span> or external <span class="arithmatex">\(loaded as plugins\)</span>.</p>
<p>Package integrations provides shared utilities for integration implementations.</p>
<h2 id="index_3">Index<a class="headerlink" href="#index_3" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#ClearCache">func ClearCache()</a></li>
<li><a href="#Count">func Count() int</a></li>
<li><a href="#Get">func Get<span class="arithmatex">\(name string\)</span> <span class="arithmatex">\(engine.Integration, error\)</span></a></li>
<li><a href="#GetAll">func GetAll() map[string]engine.Integration</a></li>
<li><a href="#GetLazy">func GetLazy() map[string]func() engine.Integration</a></li>
<li><a href="#IsDisabled">func IsDisabled<span class="arithmatex">\(name string\)</span> bool</a></li>
<li><a href="#IsExperimental">func IsExperimental<span class="arithmatex">\(name string\)</span> bool</a></li>
<li><a href="#List">func List() []string</a></li>
<li><a href="#ListByCategory">func ListByCategory<span class="arithmatex">\(category string\)</span> <span class="arithmatex">\(map\[string\]Metadata, error\)</span></a></li>
<li><a href="#ListIntegrations">func ListIntegrations() <span class="arithmatex">\(map\[string\]Metadata, error\)</span></a></li>
<li><a href="#Register">func Register<span class="arithmatex">\(name string, constructor func\(\)</span> engine.Integration)</a></li>
<li><a href="#ReloadPlugins">func ReloadPlugins() error</a></li>
<li><a href="#ValidateFilePath">func ValidateFilePath<span class="arithmatex">\(path string\)</span> error</a></li>
<li><a href="#CategoryMetadata">type CategoryMetadata</a></li>
<li><a href="#DatasourceMetadata">type DatasourceMetadata</a></li>
<li><a href="#Metadata">type Metadata</a></li>
<li><a href="#GetMetadata">func GetMetadata<span class="arithmatex">\(name string\)</span> <span class="arithmatex">\(\*Metadata, error\)</span></a></li>
<li><a href="#RegistryMetadata">type RegistryMetadata</a></li>
<li><a href="#LoadMetadata">func LoadMetadata() <span class="arithmatex">\(\*RegistryMetadata, error\)</span></a></li>
</ul>
<p><a name="ClearCache"></a></p>
<h2 id="func-clearcache">func ClearCache<a class="headerlink" href="#func-clearcache" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ClearCache</span><span class="p">()</span>
</span></code></pre></div>
<p>ClearCache clears all cached instances, forcing reinitialization on next access. Useful for testing or when integrations need to be refreshed.</p>
<p><a name="Count"></a></p>
<h2 id="func-count">func Count<a class="headerlink" href="#func-count" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Count</span><span class="p">()</span><span class="w"> </span><span class="kt">int</span>
</span></code></pre></div>
<p>Count returns the number of registered integrations.</p>
<p><a name="Get"></a></p>
<h2 id="func-get_1">func Get<a class="headerlink" href="#func-get_1" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Get</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Integration</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Get returns a single integration by name, creating it lazily if needed. This is more efficient than GetAll() when you only need specific integrations.</p>
<p><a name="GetAll"></a></p>
<h2 id="func-getall">func GetAll<a class="headerlink" href="#func-getall" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetAll</span><span class="p">()</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>GetAll returns a map of all registered integrations. Uses lazy loading - only creates instances for integrations that haven't been created yet.</p>
<p><a name="GetLazy"></a></p>
<h2 id="func-getlazy">func GetLazy<a class="headerlink" href="#func-getlazy" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetLazy</span><span class="p">()</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">func</span><span class="p">()</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>GetLazy returns a map of constructors <span class="arithmatex">\(not instances\)</span>. Use this when you want to defer instantiation until actual use.</p>
<p><a name="IsDisabled"></a></p>
<h2 id="func-isdisabled">func IsDisabled<a class="headerlink" href="#func-isdisabled" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">IsDisabled</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>IsDisabled checks if an integration is disabled in the registry.</p>
<p><a name="IsExperimental"></a></p>
<h2 id="func-isexperimental">func IsExperimental<a class="headerlink" href="#func-isexperimental" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">IsExperimental</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>IsExperimental checks if an integration is marked as experimental.</p>
<p><a name="List"></a></p>
<h2 id="func-list_1">func List<a class="headerlink" href="#func-list_1" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">List</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>List returns a sorted list of all registered integration names.</p>
<p><a name="ListByCategory"></a></p>
<h2 id="func-listbycategory">func ListByCategory<a class="headerlink" href="#func-listbycategory" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ListByCategory</span><span class="p">(</span><span class="nx">category</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">Metadata</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>ListByCategory returns integrations grouped by category.</p>
<p><a name="ListIntegrations"></a></p>
<h2 id="func-listintegrations">func ListIntegrations<a class="headerlink" href="#func-listintegrations" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ListIntegrations</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">Metadata</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>ListIntegrations returns a list of all integration names with their metadata.</p>
<p><a name="Register"></a></p>
<h2 id="func-register_1">func Register<a class="headerlink" href="#func-register_1" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Register</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">constructor</span><span class="w"> </span><span class="kd">func</span><span class="p">()</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Integration</span><span class="p">)</span>
</span></code></pre></div>
<p>Register adds an integration constructor to the global registry. This is typically called from init() functions in integration packages.</p>
<p>Example:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>func init() {
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>    integrations.Register(&quot;npm&quot;, New)
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a>}
</span></code></pre></div>
<p><a name="ReloadPlugins"></a></p>
<h2 id="func-reloadplugins">func ReloadPlugins<a class="headerlink" href="#func-reloadplugins" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ReloadPlugins</span><span class="p">()</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>ReloadPlugins clears the plugin loaded flag and reloads all plugins. This allows hot-reloading of plugins without restarting the application.</p>
<p><a name="ValidateFilePath"></a></p>
<h2 id="func-validatefilepath">func ValidateFilePath<a class="headerlink" href="#func-validatefilepath" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ValidateFilePath</span><span class="p">(</span><span class="nx">path</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>ValidateFilePath validates that a file path is safe to read/write. It checks for directory traversal attempts to prevent security vulnerabilities.</p>
<p><a name="CategoryMetadata"></a></p>
<h2 id="type-categorymetadata">type CategoryMetadata<a class="headerlink" href="#type-categorymetadata" title="Permanent link">&para;</a></h2>
<p>CategoryMetadata contains information about an integration category.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CategoryMetadata</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;name&quot;`</span>
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="w">    </span><span class="nx">Description</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;description&quot;`</span>
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="DatasourceMetadata"></a></p>
<h2 id="type-datasourcemetadata">type DatasourceMetadata<a class="headerlink" href="#type-datasourcemetadata" title="Permanent link">&para;</a></h2>
<p>DatasourceMetadata contains information about a datasource.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">DatasourceMetadata</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;name&quot;`</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="nx">URL</span><span class="w">         </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;url&quot;`</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">    </span><span class="nx">Type</span><span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;type&quot;`</span>
</span><span id="__span-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">    </span><span class="nx">Description</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;description&quot;`</span>
</span><span id="__span-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Metadata"></a></p>
<h2 id="type-metadata">type Metadata<a class="headerlink" href="#type-metadata" title="Permanent link">&para;</a></h2>
<p>Metadata contains information about an integration.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Metadata</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="w">    </span><span class="nx">DisplayName</span><span class="w">  </span><span class="kt">string</span><span class="w">   </span><span class="s">`yaml:&quot;displayName&quot;`</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="nx">Description</span><span class="w">  </span><span class="kt">string</span><span class="w">   </span><span class="s">`yaml:&quot;description&quot;`</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="nx">URL</span><span class="w">          </span><span class="kt">string</span><span class="w">   </span><span class="s">`yaml:&quot;url&quot;`</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">    </span><span class="nx">Category</span><span class="w">     </span><span class="kt">string</span><span class="w">   </span><span class="s">`yaml:&quot;category&quot;`</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">    </span><span class="nx">FilePatterns</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;filePatterns&quot;`</span>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">    </span><span class="nx">Datasources</span><span class="w">  </span><span class="p">[]</span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;datasources&quot;`</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="w">    </span><span class="nx">Experimental</span><span class="w"> </span><span class="kt">bool</span><span class="w">     </span><span class="s">`yaml:&quot;experimental&quot;`</span>
</span><span id="__span-86-9"><a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="w">    </span><span class="nx">Disabled</span><span class="w">     </span><span class="kt">bool</span><span class="w">     </span><span class="s">`yaml:&quot;disabled&quot;`</span>
</span><span id="__span-86-10"><a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="GetMetadata"></a></p>
<h3 id="func-getmetadata">func GetMetadata<a class="headerlink" href="#func-getmetadata" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetMetadata</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">Metadata</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetMetadata returns metadata for a specific integration.</p>
<p><a name="RegistryMetadata"></a></p>
<h2 id="type-registrymetadata">type RegistryMetadata<a class="headerlink" href="#type-registrymetadata" title="Permanent link">&para;</a></h2>
<p>RegistryMetadata represents the full integrations.yaml structure.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">RegistryMetadata</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">    </span><span class="nx">Integrations</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">Metadata</span><span class="w">           </span><span class="s">`yaml:&quot;integrations&quot;`</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="nx">Datasources</span><span class="w">  </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">DatasourceMetadata</span><span class="w"> </span><span class="s">`yaml:&quot;datasources&quot;`</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">    </span><span class="nx">Categories</span><span class="w">   </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">CategoryMetadata</span><span class="w">   </span><span class="s">`yaml:&quot;categories&quot;`</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">    </span><span class="nx">Version</span><span class="w">      </span><span class="kt">string</span><span class="w">                        </span><span class="s">`yaml:&quot;version&quot;`</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="LoadMetadata"></a></p>
<h3 id="func-loadmetadata">func LoadMetadata<a class="headerlink" href="#func-loadmetadata" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">LoadMetadata</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">RegistryMetadata</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>LoadMetadata loads integration metadata from the integrations.yaml file.</p>
<h1 id="policy">policy<a class="headerlink" href="#policy" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/policy&quot;</span>
</span></code></pre></div>
<p>Package policy handles cadence-based update filtering.</p>
<p>Package policy handles configuration file parsing and policy management.</p>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>This package defines the structure for uptool.yaml configuration files, which control:</p>
<ul>
<li>Integration-specific policies <span class="arithmatex">\(update strategies, version pinning, cadence\)</span></li>
<li>Organization-level governance <span class="arithmatex">\(signoffs, signing, auto\-merge guards\)</span></li>
<li>File matching patterns for integration detection</li>
</ul>
<h3 id="configuration-structure">Configuration Structure<a class="headerlink" href="#configuration-structure" title="Permanent link">&para;</a></h3>
<p>uptool.yaml has two main sections:</p>
<ol>
<li>integrations[] - Per-integration update policies</li>
<li>org_policy - Organization-level governance policies</li>
</ol>
<h3 id="policy-precedence_1">Policy Precedence<a class="headerlink" href="#policy-precedence_1" title="Permanent link">&para;</a></h3>
<p>Update policies follow this precedence order <span class="arithmatex">\(highest to lowest\)</span>:</p>
<ol>
<li>CLI flags <span class="arithmatex">\(\-\-update\-level, \-\-allow\-prerelease\)</span></li>
<li>uptool.yaml integration policy <span class="arithmatex">\(integrations\[\*\].policy\)</span></li>
<li>Manifest constraints <span class="arithmatex">\(^, \~, \&gt;=, etc.\)</span></li>
<li>Default behavior</li>
</ol>
<h3 id="example-configuration_1">Example Configuration<a class="headerlink" href="#example-configuration_1" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a>version: 1
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a>integrations:
</span><span id="__span-91-4"><a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a>  - id: npm
</span><span id="__span-91-5"><a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a>    enabled: true
</span><span id="__span-91-6"><a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a>    policy:
</span><span id="__span-91-7"><a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a>      update: minor          # Allow patch + minor updates
</span><span id="__span-91-8"><a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a>      allow_prerelease: false
</span><span id="__span-91-9"><a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a>      pin: false             # Preserve version ranges
</span><span id="__span-91-10"><a id="__codelineno-91-10" name="__codelineno-91-10" href="#__codelineno-91-10"></a>      cadence: weekly
</span><span id="__span-91-11"><a id="__codelineno-91-11" name="__codelineno-91-11" href="#__codelineno-91-11"></a>
</span><span id="__span-91-12"><a id="__codelineno-91-12" name="__codelineno-91-12" href="#__codelineno-91-12"></a>org_policy:
</span><span id="__span-91-13"><a id="__codelineno-91-13" name="__codelineno-91-13" href="#__codelineno-91-13"></a>  require_signoff_from:
</span><span id="__span-91-14"><a id="__codelineno-91-14" name="__codelineno-91-14" href="#__codelineno-91-14"></a>    - &quot;@security-team&quot;
</span><span id="__span-91-15"><a id="__codelineno-91-15" name="__codelineno-91-15" href="#__codelineno-91-15"></a>  auto_merge:
</span><span id="__span-91-16"><a id="__codelineno-91-16" name="__codelineno-91-16" href="#__codelineno-91-16"></a>    enabled: true
</span><span id="__span-91-17"><a id="__codelineno-91-17" name="__codelineno-91-17" href="#__codelineno-91-17"></a>    guards:
</span><span id="__span-91-18"><a id="__codelineno-91-18" name="__codelineno-91-18" href="#__codelineno-91-18"></a>      - &quot;ci-green&quot;
</span><span id="__span-91-19"><a id="__codelineno-91-19" name="__codelineno-91-19" href="#__codelineno-91-19"></a>      - &quot;codeowners-approve&quot;
</span></code></pre></div>
<p>See docs/configuration.md and docs/policy.md for comprehensive documentation.</p>
<p>Package policy implements organization policy enforcement for uptool. This includes signoff requirements, cosign verification, and auto-merge logic.</p>
<h2 id="index_4">Index<a class="headerlink" href="#index_4" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#GetDefaultStateFile">func GetDefaultStateFile() string</a></li>
<li><a href="#SaveCadenceState">func SaveCadenceState<span class="arithmatex">\(stateFile string, state \*CadenceState\)</span> error</a></li>
<li><a href="#ValidateIntegrationPolicy">func ValidateIntegrationPolicy<span class="arithmatex">\(p \*engine.IntegrationPolicy\)</span> error</a></li>
<li><a href="#AutoMergeConfig">type AutoMergeConfig</a></li>
<li><a href="#CadenceState">type CadenceState</a></li>
<li><a href="#LoadCadenceState">func LoadCadenceState<span class="arithmatex">\(stateFile string\)</span> <span class="arithmatex">\(\*CadenceState, error\)</span></a></li>
<li><a href="#CadenceState.MarkChecked">func <span class="arithmatex">\(cs \*CadenceState\)</span> MarkChecked<span class="arithmatex">\(manifestPath string\)</span></a></li>
<li><a href="#CadenceState.ShouldCheckForUpdates">func <span class="arithmatex">\(cs \*CadenceState\)</span> ShouldCheckForUpdates<span class="arithmatex">\(manifestPath, cadence string\)</span> bool</a></li>
<li><a href="#Config">type Config</a></li>
<li><a href="#DefaultConfig">func DefaultConfig() *Config</a></li>
<li><a href="#LoadConfig">func LoadConfig<span class="arithmatex">\(path string\)</span> <span class="arithmatex">\(\*Config, error\)</span></a></li>
<li><a href="#Config.EnabledIntegrations">func <span class="arithmatex">\(c \*Config\)</span> EnabledIntegrations() []string</a></li>
<li><a href="#Config.GetAutoMergeGuards">func <span class="arithmatex">\(c \*Config\)</span> GetAutoMergeGuards() []string</a></li>
<li><a href="#Config.GetOrgPolicy">func <span class="arithmatex">\(c \*Config\)</span> GetOrgPolicy() *OrgPolicy</a></li>
<li><a href="#Config.IsAutoMergeEnabled">func <span class="arithmatex">\(c \*Config\)</span> IsAutoMergeEnabled() bool</a></li>
<li><a href="#Config.RequiresCosignVerification">func <span class="arithmatex">\(c \*Config\)</span> RequiresCosignVerification() bool</a></li>
<li><a href="#Config.RequiresSignoff">func <span class="arithmatex">\(c \*Config\)</span> RequiresSignoff() bool</a></li>
<li><a href="#Config.ToMatchConfigMap">func <span class="arithmatex">\(c \*Config\)</span> ToMatchConfigMap() map[string]*engine.MatchConfig</a></li>
<li><a href="#Config.ToPolicyMap">func <span class="arithmatex">\(c \*Config\)</span> ToPolicyMap() map[string]engine.IntegrationPolicy</a></li>
<li><a href="#Config.Validate">func <span class="arithmatex">\(c \*Config\)</span> Validate() error</a></li>
<li><a href="#EnforcementResult">type EnforcementResult</a></li>
<li><a href="#Enforcer">type Enforcer</a></li>
<li><a href="#NewEnforcer">func NewEnforcer<span class="arithmatex">\(config \*Config\)</span> *Enforcer</a></li>
<li><a href="#Enforcer.Enforce">func <span class="arithmatex">\(e \*Enforcer\)</span> Enforce<span class="arithmatex">\(ctx context.Context\)</span> <span class="arithmatex">\(\*EnforcementResult, error\)</span></a></li>
<li><a href="#IntegrationConfig">type IntegrationConfig</a></li>
<li><a href="#MatchConfig">type MatchConfig</a></li>
<li><a href="#OrgPolicy">type OrgPolicy</a></li>
<li><a href="#SigningConfig">type SigningConfig</a></li>
</ul>
<p><a name="GetDefaultStateFile"></a></p>
<h2 id="func-getdefaultstatefile">func GetDefaultStateFile<a class="headerlink" href="#func-getdefaultstatefile" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetDefaultStateFile</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>GetDefaultStateFile returns the default location for the cadence state file.</p>
<p><a name="SaveCadenceState"></a></p>
<h2 id="func-savecadencestate">func SaveCadenceState<a class="headerlink" href="#func-savecadencestate" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">SaveCadenceState</span><span class="p">(</span><span class="nx">stateFile</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">*</span><span class="nx">CadenceState</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>SaveCadenceState writes the cadence state to disk.</p>
<p><a name="ValidateIntegrationPolicy"></a></p>
<h2 id="func-validateintegrationpolicy">func ValidateIntegrationPolicy<a class="headerlink" href="#func-validateintegrationpolicy" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ValidateIntegrationPolicy</span><span class="p">(</span><span class="nx">p</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">IntegrationPolicy</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>ValidateIntegrationPolicy checks that an integration policy is valid.</p>
<p><a name="AutoMergeConfig"></a></p>
<h2 id="type-automergeconfig">type AutoMergeConfig<a class="headerlink" href="#type-automergeconfig" title="Permanent link">&para;</a></h2>
<p>AutoMergeConfig controls automatic PR merging.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">AutoMergeConfig</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">    </span><span class="nx">Guards</span><span class="w">  </span><span class="p">[]</span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;guards&quot;`</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="nx">Enabled</span><span class="w"> </span><span class="kt">bool</span><span class="w">     </span><span class="s">`yaml:&quot;enabled&quot;`</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="CadenceState"></a></p>
<h2 id="type-cadencestate">type CadenceState<a class="headerlink" href="#type-cadencestate" title="Permanent link">&para;</a></h2>
<p>CadenceState tracks when manifests were last checked for updates.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CadenceState</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="w">    </span><span class="nx">LastChecked</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"> </span><span class="s">`json:&quot;last_checked&quot;`</span><span class="w"> </span><span class="c1">// manifestPath -&gt; timestamp</span>
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="LoadCadenceState"></a></p>
<h3 id="func-loadcadencestate">func LoadCadenceState<a class="headerlink" href="#func-loadcadencestate" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">LoadCadenceState</span><span class="p">(</span><span class="nx">stateFile</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">CadenceState</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>LoadCadenceState loads the cadence state from disk.</p>
<p><a name="CadenceState.MarkChecked"></a></p>
<h3 id="func-cadencestate-markchecked">func <span class="arithmatex">\(\*CadenceState\)</span> MarkChecked<a class="headerlink" href="#func-cadencestate-markchecked" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">cs</span><span class="w"> </span><span class="o">*</span><span class="nx">CadenceState</span><span class="p">)</span><span class="w"> </span><span class="nx">MarkChecked</span><span class="p">(</span><span class="nx">manifestPath</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span>
</span></code></pre></div>
<p>MarkChecked records that a manifest was checked at the current time.</p>
<p><a name="CadenceState.ShouldCheckForUpdates"></a></p>
<h3 id="func-cadencestate-shouldcheckforupdates">func <span class="arithmatex">\(\*CadenceState\)</span> ShouldCheckForUpdates<a class="headerlink" href="#func-cadencestate-shouldcheckforupdates" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">cs</span><span class="w"> </span><span class="o">*</span><span class="nx">CadenceState</span><span class="p">)</span><span class="w"> </span><span class="nx">ShouldCheckForUpdates</span><span class="p">(</span><span class="nx">manifestPath</span><span class="p">,</span><span class="w"> </span><span class="nx">cadence</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>ShouldCheckForUpdates determines if a manifest should be checked based on cadence policy.</p>
<p><a name="Config"></a></p>
<h2 id="type-config">type Config<a class="headerlink" href="#type-config" title="Permanent link">&para;</a></h2>
<p>Config represents the complete uptool.yaml configuration file.</p>
<p>The configuration file controls both integration-specific update policies and organization-level governance settings.</p>
<p>Example:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a>version: 1
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a>integrations:
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a>  - id: npm
</span><span id="__span-100-4"><a id="__codelineno-100-4" name="__codelineno-100-4" href="#__codelineno-100-4"></a>    enabled: true
</span><span id="__span-100-5"><a id="__codelineno-100-5" name="__codelineno-100-5" href="#__codelineno-100-5"></a>    policy:
</span><span id="__span-100-6"><a id="__codelineno-100-6" name="__codelineno-100-6" href="#__codelineno-100-6"></a>      update: minor
</span><span id="__span-100-7"><a id="__codelineno-100-7" name="__codelineno-100-7" href="#__codelineno-100-7"></a>org_policy:
</span><span id="__span-100-8"><a id="__codelineno-100-8" name="__codelineno-100-8" href="#__codelineno-100-8"></a>  auto_merge:
</span><span id="__span-100-9"><a id="__codelineno-100-9" name="__codelineno-100-9" href="#__codelineno-100-9"></a>    enabled: true
</span><span id="__span-100-10"><a id="__codelineno-100-10" name="__codelineno-100-10" href="#__codelineno-100-10"></a>    guards: [&quot;ci-green&quot;]
</span></code></pre></div>
<div class="language-go highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Config</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="w">    </span><span class="c1">// OrgPolicy contains organization-level governance policies (signoffs, signing, auto-merge).</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="w">    </span><span class="c1">// This field is optional - if omitted, no org-level policies are enforced.</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="w">    </span><span class="nx">OrgPolicy</span><span class="w"> </span><span class="o">*</span><span class="nx">OrgPolicy</span><span class="w"> </span><span class="s">`yaml:&quot;org_policy,omitempty&quot;`</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a><span class="w">    </span><span class="c1">// Integrations contains per-integration configuration (update policies, file patterns).</span>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="w">    </span><span class="c1">// Each integration can be individually enabled/disabled and configured with its own policy.</span>
</span><span id="__span-101-8"><a id="__codelineno-101-8" name="__codelineno-101-8" href="#__codelineno-101-8"></a><span class="w">    </span><span class="nx">Integrations</span><span class="w"> </span><span class="p">[]</span><span class="nx">IntegrationConfig</span><span class="w"> </span><span class="s">`yaml:&quot;integrations&quot;`</span>
</span><span id="__span-101-9"><a id="__codelineno-101-9" name="__codelineno-101-9" href="#__codelineno-101-9"></a>
</span><span id="__span-101-10"><a id="__codelineno-101-10" name="__codelineno-101-10" href="#__codelineno-101-10"></a><span class="w">    </span><span class="c1">// Version specifies the configuration format version.</span>
</span><span id="__span-101-11"><a id="__codelineno-101-11" name="__codelineno-101-11" href="#__codelineno-101-11"></a><span class="w">    </span><span class="c1">// Currently only version 1 is supported. This field is required.</span>
</span><span id="__span-101-12"><a id="__codelineno-101-12" name="__codelineno-101-12" href="#__codelineno-101-12"></a><span class="w">    </span><span class="nx">Version</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="s">`yaml:&quot;version&quot;`</span>
</span><span id="__span-101-13"><a id="__codelineno-101-13" name="__codelineno-101-13" href="#__codelineno-101-13"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="DefaultConfig"></a></p>
<h3 id="func-defaultconfig">func DefaultConfig<a class="headerlink" href="#func-defaultconfig" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">DefaultConfig</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span>
</span></code></pre></div>
<p>DefaultConfig returns a default configuration with sensible defaults.</p>
<p><a name="LoadConfig"></a></p>
<h3 id="func-loadconfig">func LoadConfig<a class="headerlink" href="#func-loadconfig" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">LoadConfig</span><span class="p">(</span><span class="nx">path</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">Config</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>LoadConfig reads and parses the configuration file.</p>
<p><a name="Config.EnabledIntegrations"></a></p>
<h3 id="func-config-enabledintegrations">func <span class="arithmatex">\(\*Config\)</span> EnabledIntegrations<a class="headerlink" href="#func-config-enabledintegrations" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">EnabledIntegrations</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>EnabledIntegrations returns the IDs of all enabled integrations.</p>
<p><a name="Config.GetAutoMergeGuards"></a></p>
<h3 id="func-config-getautomergeguards">func <span class="arithmatex">\(\*Config\)</span> GetAutoMergeGuards<a class="headerlink" href="#func-config-getautomergeguards" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">GetAutoMergeGuards</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>GetAutoMergeGuards returns the list of required guards for auto-merge.</p>
<p><a name="Config.GetOrgPolicy"></a></p>
<h3 id="func-config-getorgpolicy">func <span class="arithmatex">\(\*Config\)</span> GetOrgPolicy<a class="headerlink" href="#func-config-getorgpolicy" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">GetOrgPolicy</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">OrgPolicy</span>
</span></code></pre></div>
<p>GetOrgPolicy returns the organization-level policy settings if configured.</p>
<p><a name="Config.IsAutoMergeEnabled"></a></p>
<h3 id="func-config-isautomergeenabled">func <span class="arithmatex">\(\*Config\)</span> IsAutoMergeEnabled<a class="headerlink" href="#func-config-isautomergeenabled" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">IsAutoMergeEnabled</span><span class="p">()</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>IsAutoMergeEnabled returns whether auto-merge is enabled.</p>
<p><a name="Config.RequiresCosignVerification"></a></p>
<h3 id="func-config-requirescosignverification">func <span class="arithmatex">\(\*Config\)</span> RequiresCosignVerification<a class="headerlink" href="#func-config-requirescosignverification" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">RequiresCosignVerification</span><span class="p">()</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>RequiresCosignVerification returns whether cosign verification is required.</p>
<p><a name="Config.RequiresSignoff"></a></p>
<h3 id="func-config-requiressignoff">func <span class="arithmatex">\(\*Config\)</span> RequiresSignoff<a class="headerlink" href="#func-config-requiressignoff" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">RequiresSignoff</span><span class="p">()</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>RequiresSignoff returns whether the organization policy requires signoff for changes.</p>
<p><a name="Config.ToMatchConfigMap"></a></p>
<h3 id="func-config-tomatchconfigmap">func <span class="arithmatex">\(\*Config\)</span> ToMatchConfigMap<a class="headerlink" href="#func-config-tomatchconfigmap" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">ToMatchConfigMap</span><span class="p">()</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">MatchConfig</span>
</span></code></pre></div>
<p>ToMatchConfigMap converts the configuration into a map of match configs per integration. Returns only integrations that have match configuration specified.</p>
<p><a name="Config.ToPolicyMap"></a></p>
<h3 id="func-config-topolicymap">func <span class="arithmatex">\(\*Config\)</span> ToPolicyMap<a class="headerlink" href="#func-config-topolicymap" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">ToPolicyMap</span><span class="p">()</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">engine</span><span class="p">.</span><span class="nx">IntegrationPolicy</span>
</span></code></pre></div>
<p>ToPolicyMap converts the configuration into a map of integration policies.</p>
<p><a name="Config.Validate"></a></p>
<h3 id="func-config-validate">func <span class="arithmatex">\(\*Config\)</span> Validate<a class="headerlink" href="#func-config-validate" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">()</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate checks that the configuration is valid.</p>
<p><a name="EnforcementResult"></a></p>
<h2 id="type-enforcementresult">type EnforcementResult<a class="headerlink" href="#type-enforcementresult" title="Permanent link">&para;</a></h2>
<p>EnforcementResult contains the results of policy enforcement.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">EnforcementResult</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="w">    </span><span class="nx">GuardsStatus</span><span class="w">     </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">bool</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">    </span><span class="nx">SignoffErrors</span><span class="w">    </span><span class="p">[]</span><span class="kt">string</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">    </span><span class="nx">CosignErrors</span><span class="w">     </span><span class="p">[]</span><span class="kt">string</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="w">    </span><span class="nx">AutoMergeErrors</span><span class="w">  </span><span class="p">[]</span><span class="kt">string</span>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="w">    </span><span class="nx">SignoffValid</span><span class="w">     </span><span class="kt">bool</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="w">    </span><span class="nx">CosignValid</span><span class="w">      </span><span class="kt">bool</span>
</span><span id="__span-113-8"><a id="__codelineno-113-8" name="__codelineno-113-8" href="#__codelineno-113-8"></a><span class="w">    </span><span class="nx">AutoMergeAllowed</span><span class="w"> </span><span class="kt">bool</span>
</span><span id="__span-113-9"><a id="__codelineno-113-9" name="__codelineno-113-9" href="#__codelineno-113-9"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Enforcer"></a></p>
<h2 id="type-enforcer">type Enforcer<a class="headerlink" href="#type-enforcer" title="Permanent link">&para;</a></h2>
<p>Enforcer handles organization policy enforcement.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Enforcer</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewEnforcer"></a></p>
<h3 id="func-newenforcer">func NewEnforcer<a class="headerlink" href="#func-newenforcer" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewEnforcer</span><span class="p">(</span><span class="nx">config</span><span class="w"> </span><span class="o">*</span><span class="nx">Config</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">Enforcer</span>
</span></code></pre></div>
<p>NewEnforcer creates a new policy enforcer.</p>
<p><a name="Enforcer.Enforce"></a></p>
<h3 id="func-enforcer-enforce">func <span class="arithmatex">\(\*Enforcer\)</span> Enforce<a class="headerlink" href="#func-enforcer-enforce" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="w"> </span><span class="o">*</span><span class="nx">Enforcer</span><span class="p">)</span><span class="w"> </span><span class="nx">Enforce</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">EnforcementResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Enforce checks all configured organization policies.</p>
<p><a name="IntegrationConfig"></a></p>
<h2 id="type-integrationconfig">type IntegrationConfig<a class="headerlink" href="#type-integrationconfig" title="Permanent link">&para;</a></h2>
<p>IntegrationConfig defines configuration for a specific integration <span class="arithmatex">\(npm, helm, terraform, etc.\)</span>.</p>
<p>Each integration can be independently configured with custom update policies, file matching patterns, and enable/disable state.</p>
<p>Example:</p>
<ul>
<li>id: npm enabled: true match: files: ["package.json", "apps/*/package.json"] policy: update: minor allow_prerelease: false pin: false cadence: weekly</li>
</ul>
<div class="language-go highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">IntegrationConfig</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-117-2"><a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="w">    </span><span class="c1">// Match specifies custom file patterns for this integration.</span>
</span><span id="__span-117-3"><a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="w">    </span><span class="c1">// If omitted, the integration uses its default file patterns.</span>
</span><span id="__span-117-4"><a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="w">    </span><span class="nx">Match</span><span class="w"> </span><span class="o">*</span><span class="nx">MatchConfig</span><span class="w"> </span><span class="s">`yaml:&quot;match,omitempty&quot;`</span>
</span><span id="__span-117-5"><a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a>
</span><span id="__span-117-6"><a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a><span class="w">    </span><span class="c1">// ID is the integration identifier (e.g., &quot;npm&quot;, &quot;helm&quot;, &quot;terraform&quot;).</span>
</span><span id="__span-117-7"><a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a><span class="w">    </span><span class="c1">// Must match one of the registered integration names. Required.</span>
</span><span id="__span-117-8"><a id="__codelineno-117-8" name="__codelineno-117-8" href="#__codelineno-117-8"></a><span class="w">    </span><span class="nx">ID</span><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;id&quot;`</span>
</span><span id="__span-117-9"><a id="__codelineno-117-9" name="__codelineno-117-9" href="#__codelineno-117-9"></a>
</span><span id="__span-117-10"><a id="__codelineno-117-10" name="__codelineno-117-10" href="#__codelineno-117-10"></a><span class="w">    </span><span class="c1">// Policy contains update policy settings for this integration.</span>
</span><span id="__span-117-11"><a id="__codelineno-117-11" name="__codelineno-117-11" href="#__codelineno-117-11"></a><span class="w">    </span><span class="c1">// Controls which updates are allowed (patch/minor/major), version pinning, etc.</span>
</span><span id="__span-117-12"><a id="__codelineno-117-12" name="__codelineno-117-12" href="#__codelineno-117-12"></a><span class="w">    </span><span class="nx">Policy</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">IntegrationPolicy</span><span class="w"> </span><span class="s">`yaml:&quot;policy&quot;`</span>
</span><span id="__span-117-13"><a id="__codelineno-117-13" name="__codelineno-117-13" href="#__codelineno-117-13"></a>
</span><span id="__span-117-14"><a id="__codelineno-117-14" name="__codelineno-117-14" href="#__codelineno-117-14"></a><span class="w">    </span><span class="c1">// Enabled controls whether this integration runs during scan/plan/update.</span>
</span><span id="__span-117-15"><a id="__codelineno-117-15" name="__codelineno-117-15" href="#__codelineno-117-15"></a><span class="w">    </span><span class="c1">// Default: true. Can be overridden by CLI flags (--only, --exclude).</span>
</span><span id="__span-117-16"><a id="__codelineno-117-16" name="__codelineno-117-16" href="#__codelineno-117-16"></a><span class="w">    </span><span class="nx">Enabled</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="s">`yaml:&quot;enabled&quot;`</span>
</span><span id="__span-117-17"><a id="__codelineno-117-17" name="__codelineno-117-17" href="#__codelineno-117-17"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="MatchConfig"></a></p>
<h2 id="type-matchconfig_1">type MatchConfig<a class="headerlink" href="#type-matchconfig_1" title="Permanent link">&para;</a></h2>
<p>MatchConfig specifies file glob patterns for integration detection.</p>
<p>Use this to customize which files an integration should process, particularly useful for monorepos or non-standard project structures.</p>
<p>Example:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a>match:
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a>  files:
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a>    - &quot;package.json&quot;           # Root package
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a>    - &quot;apps/*/package.json&quot;    # App packages
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a>    - &quot;packages/*/package.json&quot; # Library packages
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a>  exclude:
</span><span id="__span-118-7"><a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a>    - &quot;node_modules/**/package.json&quot;  # Ignore dependencies
</span><span id="__span-118-8"><a id="__codelineno-118-8" name="__codelineno-118-8" href="#__codelineno-118-8"></a>    - &quot;dist/**/package.json&quot;          # Ignore build artifacts
</span></code></pre></div>
<div class="language-go highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">MatchConfig</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-119-2"><a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="w">    </span><span class="c1">// Files is a list of glob patterns matching manifest files.</span>
</span><span id="__span-119-3"><a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="w">    </span><span class="c1">// Patterns support standard glob syntax: *, **, ?, [abc], {a,b,c}.</span>
</span><span id="__span-119-4"><a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a><span class="w">    </span><span class="nx">Files</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;files&quot;`</span>
</span><span id="__span-119-5"><a id="__codelineno-119-5" name="__codelineno-119-5" href="#__codelineno-119-5"></a>
</span><span id="__span-119-6"><a id="__codelineno-119-6" name="__codelineno-119-6" href="#__codelineno-119-6"></a><span class="w">    </span><span class="c1">// Exclude is a list of glob patterns to exclude from matches.</span>
</span><span id="__span-119-7"><a id="__codelineno-119-7" name="__codelineno-119-7" href="#__codelineno-119-7"></a><span class="w">    </span><span class="c1">// Files matching any exclude pattern are filtered out even if they match a files pattern.</span>
</span><span id="__span-119-8"><a id="__codelineno-119-8" name="__codelineno-119-8" href="#__codelineno-119-8"></a><span class="w">    </span><span class="c1">// Patterns support standard glob syntax: *, **, ?, [abc], {a,b,c}.</span>
</span><span id="__span-119-9"><a id="__codelineno-119-9" name="__codelineno-119-9" href="#__codelineno-119-9"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-119-10"><a id="__codelineno-119-10" name="__codelineno-119-10" href="#__codelineno-119-10"></a><span class="w">    </span><span class="c1">// Exclude patterns are applied AFTER files patterns, providing fine-grained control.</span>
</span><span id="__span-119-11"><a id="__codelineno-119-11" name="__codelineno-119-11" href="#__codelineno-119-11"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-119-12"><a id="__codelineno-119-12" name="__codelineno-119-12" href="#__codelineno-119-12"></a><span class="w">    </span><span class="c1">// Common use cases:</span>
</span><span id="__span-119-13"><a id="__codelineno-119-13" name="__codelineno-119-13" href="#__codelineno-119-13"></a><span class="w">    </span><span class="c1">//   - Exclude vendor directories: &quot;vendor/**&quot;</span>
</span><span id="__span-119-14"><a id="__codelineno-119-14" name="__codelineno-119-14" href="#__codelineno-119-14"></a><span class="w">    </span><span class="c1">//   - Exclude build artifacts: &quot;dist/**&quot;, &quot;build/**&quot;</span>
</span><span id="__span-119-15"><a id="__codelineno-119-15" name="__codelineno-119-15" href="#__codelineno-119-15"></a><span class="w">    </span><span class="c1">//   - Exclude test fixtures: &quot;testdata/**&quot;, &quot;fixtures/**&quot;</span>
</span><span id="__span-119-16"><a id="__codelineno-119-16" name="__codelineno-119-16" href="#__codelineno-119-16"></a><span class="w">    </span><span class="c1">//   - Exclude specific paths: &quot;legacy/old-app/**&quot;</span>
</span><span id="__span-119-17"><a id="__codelineno-119-17" name="__codelineno-119-17" href="#__codelineno-119-17"></a><span class="w">    </span><span class="nx">Exclude</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;exclude,omitempty&quot;`</span>
</span><span id="__span-119-18"><a id="__codelineno-119-18" name="__codelineno-119-18" href="#__codelineno-119-18"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="OrgPolicy"></a></p>
<h2 id="type-orgpolicy">type OrgPolicy<a class="headerlink" href="#type-orgpolicy" title="Permanent link">&para;</a></h2>
<p>OrgPolicy contains organization-level policies and governance settings.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">OrgPolicy</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a><span class="w">    </span><span class="nx">Signing</span><span class="w">            </span><span class="o">*</span><span class="nx">SigningConfig</span><span class="w">   </span><span class="s">`yaml:&quot;signing,omitempty&quot;`</span>
</span><span id="__span-120-3"><a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a><span class="w">    </span><span class="nx">AutoMerge</span><span class="w">          </span><span class="o">*</span><span class="nx">AutoMergeConfig</span><span class="w"> </span><span class="s">`yaml:&quot;auto_merge,omitempty&quot;`</span>
</span><span id="__span-120-4"><a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a><span class="w">    </span><span class="nx">RequireSignoffFrom</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;require_signoff_from,omitempty&quot;`</span>
</span><span id="__span-120-5"><a id="__codelineno-120-5" name="__codelineno-120-5" href="#__codelineno-120-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="SigningConfig"></a></p>
<h2 id="type-signingconfig">type SigningConfig<a class="headerlink" href="#type-signingconfig" title="Permanent link">&para;</a></h2>
<p>SigningConfig controls artifact signing verification.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-121-1"><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">SigningConfig</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-121-2"><a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="w">    </span><span class="nx">CosignVerify</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="s">`yaml:&quot;cosign_verify&quot;`</span>
</span><span id="__span-121-3"><a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="registry">registry<a class="headerlink" href="#registry" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-122-1"><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/registry&quot;</span>
</span></code></pre></div>
<p>Package registry provides HTTP clients for querying package registries and release APIs. It includes clients for npm Registry, Terraform Registry, GitHub Releases, and Helm repositories, enabling version lookups and constraint-based version resolution.</p>
<h2 id="index_5">Index<a class="headerlink" href="#index_5" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#IsOCIRepository">func IsOCIRepository<span class="arithmatex">\(repository string\)</span> bool</a></li>
<li><a href="#ParseGitHubURL">func ParseGitHubURL<span class="arithmatex">\(url string\)</span> <span class="arithmatex">\(owner, repo string, err error\)</span></a></li>
<li><a href="#ChartIndex">type ChartIndex</a></li>
<li><a href="#ChartIndexEntry">type ChartIndexEntry</a></li>
<li><a href="#GitHubClient">type GitHubClient</a></li>
<li><a href="#NewGitHubClient">func NewGitHubClient<span class="arithmatex">\(token string\)</span> *GitHubClient</a></li>
<li><a href="#GitHubClient.FindBestRelease">func <span class="arithmatex">\(c \*GitHubClient\)</span> FindBestRelease<span class="arithmatex">\(ctx context.Context, owner, repo, constraint string, allowPrerelease bool\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#GitHubClient.GetAllReleases">func <span class="arithmatex">\(c \*GitHubClient\)</span> GetAllReleases<span class="arithmatex">\(ctx context.Context, owner, repo string\)</span> <span class="arithmatex">\(\[\]Release, error\)</span></a></li>
<li><a href="#GitHubClient.GetLatestRelease">func <span class="arithmatex">\(c \*GitHubClient\)</span> GetLatestRelease<span class="arithmatex">\(ctx context.Context, owner, repo string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#HelmClient">type HelmClient</a></li>
<li><a href="#NewHelmClient">func NewHelmClient() *HelmClient</a></li>
<li><a href="#HelmClient.FindBestChartVersion">func <span class="arithmatex">\(c \*HelmClient\)</span> FindBestChartVersion<span class="arithmatex">\(ctx context.Context, repository, chartName, constraint string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#HelmClient.GetChartVersionDetails">func <span class="arithmatex">\(c \*HelmClient\)</span> GetChartVersionDetails<span class="arithmatex">\(ctx context.Context, repository, chartName string\)</span> <span class="arithmatex">\(\[\]ChartIndexEntry, error\)</span></a></li>
<li><a href="#HelmClient.GetChartVersions">func <span class="arithmatex">\(c \*HelmClient\)</span> GetChartVersions<span class="arithmatex">\(ctx context.Context, repository, chartName string\)</span> <span class="arithmatex">\(\[\]string, error\)</span></a></li>
<li><a href="#HelmClient.GetLatestChartVersion">func <span class="arithmatex">\(c \*HelmClient\)</span> GetLatestChartVersion<span class="arithmatex">\(ctx context.Context, repository, chartName string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#Module">type Module</a></li>
<li><a href="#ModuleVersion">type ModuleVersion</a></li>
<li><a href="#ModuleVersions">type ModuleVersions</a></li>
<li><a href="#NPMClient">type NPMClient</a></li>
<li><a href="#NewNPMClient">func NewNPMClient() *NPMClient</a></li>
<li><a href="#NPMClient.FindBestVersion">func <span class="arithmatex">\(c \*NPMClient\)</span> FindBestVersion<span class="arithmatex">\(ctx context.Context, packageName, constraint string, allowPrerelease bool\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#NPMClient.GetLatestVersion">func <span class="arithmatex">\(c \*NPMClient\)</span> GetLatestVersion<span class="arithmatex">\(ctx context.Context, packageName string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#NPMClient.GetPackageInfo">func <span class="arithmatex">\(c \*NPMClient\)</span> GetPackageInfo<span class="arithmatex">\(ctx context.Context, packageName string\)</span> <span class="arithmatex">\(\*PackageInfo, error\)</span></a></li>
<li><a href="#NPMClient.GetVersions">func <span class="arithmatex">\(c \*NPMClient\)</span> GetVersions<span class="arithmatex">\(ctx context.Context, packageName string\)</span> <span class="arithmatex">\(\[\]string, error\)</span></a></li>
<li><a href="#PackageInfo">type PackageInfo</a></li>
<li><a href="#ProviderVersion">type ProviderVersion</a></li>
<li><a href="#ProviderVersions">type ProviderVersions</a></li>
<li><a href="#Release">type Release</a></li>
<li><a href="#TerraformClient">type TerraformClient</a></li>
<li><a href="#NewTerraformClient">func NewTerraformClient() *TerraformClient</a></li>
<li><a href="#TerraformClient.FindBestProviderVersion">func <span class="arithmatex">\(c \*TerraformClient\)</span> FindBestProviderVersion<span class="arithmatex">\(ctx context.Context, source, constraint string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#TerraformClient.GetLatestModuleVersion">func <span class="arithmatex">\(c \*TerraformClient\)</span> GetLatestModuleVersion<span class="arithmatex">\(ctx context.Context, source string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#TerraformClient.GetLatestProviderVersion">func <span class="arithmatex">\(c \*TerraformClient\)</span> GetLatestProviderVersion<span class="arithmatex">\(ctx context.Context, source string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#TerraformClient.GetModuleVersions">func <span class="arithmatex">\(c \*TerraformClient\)</span> GetModuleVersions<span class="arithmatex">\(ctx context.Context, source string\)</span> <span class="arithmatex">\(\[\]ModuleVersion, error\)</span></a></li>
</ul>
<p><a name="IsOCIRepository"></a></p>
<h2 id="func-isocirepository">func IsOCIRepository<a class="headerlink" href="#func-isocirepository" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-123-1"><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">IsOCIRepository</span><span class="p">(</span><span class="nx">repository</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>IsOCIRepository checks if a repository URL is an OCI registry.</p>
<p><a name="ParseGitHubURL"></a></p>
<h2 id="func-parsegithuburl">func ParseGitHubURL<a class="headerlink" href="#func-parsegithuburl" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-124-1"><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ParseGitHubURL</span><span class="p">(</span><span class="nx">url</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">owner</span><span class="p">,</span><span class="w"> </span><span class="nx">repo</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>ParseGitHubURL extracts owner and repo from a GitHub URL. Supports: - https://github.com/owner/repo - github.com/owner/repo - owner/repo</p>
<p><a name="ChartIndex"></a></p>
<h2 id="type-chartindex">type ChartIndex<a class="headerlink" href="#type-chartindex" title="Permanent link">&para;</a></h2>
<p>ChartIndex represents the index.yaml structure from a Helm repository.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-125-1"><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ChartIndex</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-125-2"><a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a><span class="w">    </span><span class="nx">Entries</span><span class="w">    </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="nx">ChartIndexEntry</span><span class="w"> </span><span class="s">`yaml:&quot;entries&quot;`</span>
</span><span id="__span-125-3"><a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a><span class="w">    </span><span class="nx">APIVersion</span><span class="w"> </span><span class="kt">string</span><span class="w">                       </span><span class="s">`yaml:&quot;apiVersion&quot;`</span>
</span><span id="__span-125-4"><a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ChartIndexEntry"></a></p>
<h2 id="type-chartindexentry">type ChartIndexEntry<a class="headerlink" href="#type-chartindexentry" title="Permanent link">&para;</a></h2>
<p>ChartIndexEntry represents a single chart version entry.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-126-1"><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ChartIndexEntry</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-126-2"><a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="w">    </span><span class="nx">Created</span><span class="w">     </span><span class="nx">time</span><span class="p">.</span><span class="nx">Time</span><span class="w"> </span><span class="s">`yaml:&quot;created&quot;`</span>
</span><span id="__span-126-3"><a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">        </span><span class="kt">string</span><span class="w">    </span><span class="s">`yaml:&quot;name&quot;`</span>
</span><span id="__span-126-4"><a id="__codelineno-126-4" name="__codelineno-126-4" href="#__codelineno-126-4"></a><span class="w">    </span><span class="nx">Version</span><span class="w">     </span><span class="kt">string</span><span class="w">    </span><span class="s">`yaml:&quot;version&quot;`</span>
</span><span id="__span-126-5"><a id="__codelineno-126-5" name="__codelineno-126-5" href="#__codelineno-126-5"></a><span class="w">    </span><span class="nx">AppVersion</span><span class="w">  </span><span class="kt">string</span><span class="w">    </span><span class="s">`yaml:&quot;appVersion&quot;`</span>
</span><span id="__span-126-6"><a id="__codelineno-126-6" name="__codelineno-126-6" href="#__codelineno-126-6"></a><span class="w">    </span><span class="nx">Description</span><span class="w"> </span><span class="kt">string</span><span class="w">    </span><span class="s">`yaml:&quot;description&quot;`</span>
</span><span id="__span-126-7"><a id="__codelineno-126-7" name="__codelineno-126-7" href="#__codelineno-126-7"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="GitHubClient"></a></p>
<h2 id="type-githubclient">type GitHubClient<a class="headerlink" href="#type-githubclient" title="Permanent link">&para;</a></h2>
<p>GitHubClient queries GitHub API for release information.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-127-1"><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">GitHubClient</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-127-2"><a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-127-3"><a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewGitHubClient"></a></p>
<h3 id="func-newgithubclient">func NewGitHubClient<a class="headerlink" href="#func-newgithubclient" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-128-1"><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewGitHubClient</span><span class="p">(</span><span class="nx">token</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubClient</span>
</span></code></pre></div>
<p>NewGitHubClient creates a new GitHub API client. Token is optional but recommended to avoid rate limiting.</p>
<p><a name="GitHubClient.FindBestRelease"></a></p>
<h3 id="func-githubclient-findbestrelease">func <span class="arithmatex">\(\*GitHubClient\)</span> FindBestRelease<a class="headerlink" href="#func-githubclient-findbestrelease" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-129-1"><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubClient</span><span class="p">)</span><span class="w"> </span><span class="nx">FindBestRelease</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">owner</span><span class="p">,</span><span class="w"> </span><span class="nx">repo</span><span class="p">,</span><span class="w"> </span><span class="nx">constraint</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">allowPrerelease</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>FindBestRelease finds the best release matching a constraint.</p>
<p><a name="GitHubClient.GetAllReleases"></a></p>
<h3 id="func-githubclient-getallreleases">func <span class="arithmatex">\(\*GitHubClient\)</span> GetAllReleases<a class="headerlink" href="#func-githubclient-getallreleases" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-130-1"><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetAllReleases</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">owner</span><span class="p">,</span><span class="w"> </span><span class="nx">repo</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="nx">Release</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetAllReleases fetches all releases for a repository.</p>
<p><a name="GitHubClient.GetLatestRelease"></a></p>
<h3 id="func-githubclient-getlatestrelease">func <span class="arithmatex">\(\*GitHubClient\)</span> GetLatestRelease<a class="headerlink" href="#func-githubclient-getlatestrelease" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-131-1"><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">GitHubClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestRelease</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">owner</span><span class="p">,</span><span class="w"> </span><span class="nx">repo</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestRelease fetches the latest non-prerelease release for a repository.</p>
<p><a name="HelmClient"></a></p>
<h2 id="type-helmclient">type HelmClient<a class="headerlink" href="#type-helmclient" title="Permanent link">&para;</a></h2>
<p>HelmClient queries Helm chart repositories.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-132-1"><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">HelmClient</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-132-2"><a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-132-3"><a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewHelmClient"></a></p>
<h3 id="func-newhelmclient">func NewHelmClient<a class="headerlink" href="#func-newhelmclient" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-133-1"><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewHelmClient</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmClient</span>
</span></code></pre></div>
<p>NewHelmClient creates a new Helm chart repository client.</p>
<p><a name="HelmClient.FindBestChartVersion"></a></p>
<h3 id="func-helmclient-findbestchartversion">func <span class="arithmatex">\(\*HelmClient\)</span> FindBestChartVersion<a class="headerlink" href="#func-helmclient-findbestchartversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-134-1"><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmClient</span><span class="p">)</span><span class="w"> </span><span class="nx">FindBestChartVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repository</span><span class="p">,</span><span class="w"> </span><span class="nx">chartName</span><span class="p">,</span><span class="w"> </span><span class="nx">constraint</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>FindBestChartVersion finds the best chart version matching a constraint.</p>
<p><a name="HelmClient.GetChartVersionDetails"></a></p>
<h3 id="func-helmclient-getchartversiondetails">func <span class="arithmatex">\(\*HelmClient\)</span> GetChartVersionDetails<a class="headerlink" href="#func-helmclient-getchartversiondetails" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-135-1"><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetChartVersionDetails</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repository</span><span class="p">,</span><span class="w"> </span><span class="nx">chartName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="nx">ChartIndexEntry</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetChartVersionDetails returns all available versions with metadata for a chart from a repository.</p>
<p><a name="HelmClient.GetChartVersions"></a></p>
<h3 id="func-helmclient-getchartversions">func <span class="arithmatex">\(\*HelmClient\)</span> GetChartVersions<a class="headerlink" href="#func-helmclient-getchartversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-136-1"><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetChartVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repository</span><span class="p">,</span><span class="w"> </span><span class="nx">chartName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetChartVersions returns all available versions for a chart.</p>
<p><a name="HelmClient.GetLatestChartVersion"></a></p>
<h3 id="func-helmclient-getlatestchartversion">func <span class="arithmatex">\(\*HelmClient\)</span> GetLatestChartVersion<a class="headerlink" href="#func-helmclient-getlatestchartversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-137-1"><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">HelmClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestChartVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repository</span><span class="p">,</span><span class="w"> </span><span class="nx">chartName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestChartVersion fetches the latest version for a chart from a repository. repository: the base URL of the chart repository <span class="arithmatex">\(e.g., "https://charts.bitnami.com/bitnami"\)</span> chartName: the name of the chart <span class="arithmatex">\(e.g., "postgresql"\)</span></p>
<p><a name="Module"></a></p>
<h2 id="type-module">type Module<a class="headerlink" href="#type-module" title="Permanent link">&para;</a></h2>
<p>Module represents a module with its versions.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-138-1"><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Module</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-138-2"><a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a><span class="w">    </span><span class="nx">Source</span><span class="w">   </span><span class="kt">string</span><span class="w">          </span><span class="s">`json:&quot;source&quot;`</span>
</span><span id="__span-138-3"><a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a><span class="w">    </span><span class="nx">Versions</span><span class="w"> </span><span class="p">[]</span><span class="nx">ModuleVersion</span><span class="w"> </span><span class="s">`json:&quot;versions&quot;`</span>
</span><span id="__span-138-4"><a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ModuleVersion"></a></p>
<h2 id="type-moduleversion">type ModuleVersion<a class="headerlink" href="#type-moduleversion" title="Permanent link">&para;</a></h2>
<p>ModuleVersion represents a single module version.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-139-1"><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ModuleVersion</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-139-2"><a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="w">    </span><span class="nx">Version</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;version&quot;`</span>
</span><span id="__span-139-3"><a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ModuleVersions"></a></p>
<h2 id="type-moduleversions">type ModuleVersions<a class="headerlink" href="#type-moduleversions" title="Permanent link">&para;</a></h2>
<p>ModuleVersions represents the response from /v1/modules/{namespace}/{name}/{provider}/versions.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-140-1"><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ModuleVersions</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-140-2"><a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a><span class="w">    </span><span class="nx">Modules</span><span class="w"> </span><span class="p">[]</span><span class="nx">Module</span><span class="w"> </span><span class="s">`json:&quot;modules&quot;`</span>
</span><span id="__span-140-3"><a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NPMClient"></a></p>
<h2 id="type-npmclient">type NPMClient<a class="headerlink" href="#type-npmclient" title="Permanent link">&para;</a></h2>
<p>NPMClient queries the npm registry for package information.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-141-1"><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">NPMClient</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-141-2"><a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-141-3"><a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewNPMClient"></a></p>
<h3 id="func-newnpmclient">func NewNPMClient<a class="headerlink" href="#func-newnpmclient" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-142-1"><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewNPMClient</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMClient</span>
</span></code></pre></div>
<p>NewNPMClient creates a new npm registry client.</p>
<p><a name="NPMClient.FindBestVersion"></a></p>
<h3 id="func-npmclient-findbestversion">func <span class="arithmatex">\(\*NPMClient\)</span> FindBestVersion<a class="headerlink" href="#func-npmclient-findbestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-143-1"><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMClient</span><span class="p">)</span><span class="w"> </span><span class="nx">FindBestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">packageName</span><span class="p">,</span><span class="w"> </span><span class="nx">constraint</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">allowPrerelease</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>FindBestVersion finds the best version matching a constraint.</p>
<p><a name="NPMClient.GetLatestVersion"></a></p>
<h3 id="func-npmclient-getlatestversion">func <span class="arithmatex">\(\*NPMClient\)</span> GetLatestVersion<a class="headerlink" href="#func-npmclient-getlatestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-144-1"><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">packageName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestVersion fetches the latest version for a package.</p>
<p><a name="NPMClient.GetPackageInfo"></a></p>
<h3 id="func-npmclient-getpackageinfo">func <span class="arithmatex">\(\*NPMClient\)</span> GetPackageInfo<a class="headerlink" href="#func-npmclient-getpackageinfo" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-145-1"><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetPackageInfo</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">packageName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">PackageInfo</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetPackageInfo fetches full package information from npm registry.</p>
<p><a name="NPMClient.GetVersions"></a></p>
<h3 id="func-npmclient-getversions">func <span class="arithmatex">\(\*NPMClient\)</span> GetVersions<a class="headerlink" href="#func-npmclient-getversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-146-1"><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">NPMClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">packageName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetVersions returns all available versions for a package.</p>
<p><a name="PackageInfo"></a></p>
<h2 id="type-packageinfo_1">type PackageInfo<a class="headerlink" href="#type-packageinfo_1" title="Permanent link">&para;</a></h2>
<p>PackageInfo contains npm package metadata.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-147-1"><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PackageInfo</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-147-2"><a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="w">    </span><span class="nx">Versions</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="s">`json:&quot;versions&quot;`</span>
</span><span id="__span-147-3"><a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="w">    </span><span class="nx">DistTags</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w">                 </span><span class="s">`json:&quot;dist-tags&quot;`</span>
</span><span id="__span-147-4"><a id="__codelineno-147-4" name="__codelineno-147-4" href="#__codelineno-147-4"></a><span class="w">    </span><span class="nx">Time</span><span class="w">     </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w">                 </span><span class="s">`json:&quot;time&quot;`</span>
</span><span id="__span-147-5"><a id="__codelineno-147-5" name="__codelineno-147-5" href="#__codelineno-147-5"></a><span class="w">    </span><span class="nx">Name</span><span class="w">     </span><span class="kt">string</span><span class="w">                            </span><span class="s">`json:&quot;name&quot;`</span>
</span><span id="__span-147-6"><a id="__codelineno-147-6" name="__codelineno-147-6" href="#__codelineno-147-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ProviderVersion"></a></p>
<h2 id="type-providerversion">type ProviderVersion<a class="headerlink" href="#type-providerversion" title="Permanent link">&para;</a></h2>
<p>ProviderVersion represents a single provider version.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-148-1"><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ProviderVersion</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-148-2"><a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a><span class="w">    </span><span class="nx">Version</span><span class="w">   </span><span class="kt">string</span><span class="w">   </span><span class="s">`json:&quot;version&quot;`</span>
</span><span id="__span-148-3"><a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a><span class="w">    </span><span class="nx">Platforms</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;platforms&quot;`</span>
</span><span id="__span-148-4"><a id="__codelineno-148-4" name="__codelineno-148-4" href="#__codelineno-148-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ProviderVersions"></a></p>
<h2 id="type-providerversions">type ProviderVersions<a class="headerlink" href="#type-providerversions" title="Permanent link">&para;</a></h2>
<p>ProviderVersions represents the response from /v1/providers/{namespace}/{type}/versions.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-149-1"><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ProviderVersions</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-149-2"><a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="w">    </span><span class="nx">Versions</span><span class="w"> </span><span class="p">[]</span><span class="nx">ProviderVersion</span><span class="w"> </span><span class="s">`json:&quot;versions&quot;`</span>
</span><span id="__span-149-3"><a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Release"></a></p>
<h2 id="type-release">type Release<a class="headerlink" href="#type-release" title="Permanent link">&para;</a></h2>
<p>Release represents a GitHub release.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-150-1"><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Release</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-150-2"><a id="__codelineno-150-2" name="__codelineno-150-2" href="#__codelineno-150-2"></a><span class="w">    </span><span class="nx">TagName</span><span class="w">     </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;tag_name&quot;`</span>
</span><span id="__span-150-3"><a id="__codelineno-150-3" name="__codelineno-150-3" href="#__codelineno-150-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;name&quot;`</span>
</span><span id="__span-150-4"><a id="__codelineno-150-4" name="__codelineno-150-4" href="#__codelineno-150-4"></a><span class="w">    </span><span class="nx">CreatedAt</span><span class="w">   </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;created_at&quot;`</span>
</span><span id="__span-150-5"><a id="__codelineno-150-5" name="__codelineno-150-5" href="#__codelineno-150-5"></a><span class="w">    </span><span class="nx">PublishedAt</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;published_at&quot;`</span>
</span><span id="__span-150-6"><a id="__codelineno-150-6" name="__codelineno-150-6" href="#__codelineno-150-6"></a><span class="w">    </span><span class="nx">Draft</span><span class="w">       </span><span class="kt">bool</span><span class="w">   </span><span class="s">`json:&quot;draft&quot;`</span>
</span><span id="__span-150-7"><a id="__codelineno-150-7" name="__codelineno-150-7" href="#__codelineno-150-7"></a><span class="w">    </span><span class="nx">Prerelease</span><span class="w">  </span><span class="kt">bool</span><span class="w">   </span><span class="s">`json:&quot;prerelease&quot;`</span>
</span><span id="__span-150-8"><a id="__codelineno-150-8" name="__codelineno-150-8" href="#__codelineno-150-8"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="TerraformClient"></a></p>
<h2 id="type-terraformclient">type TerraformClient<a class="headerlink" href="#type-terraformclient" title="Permanent link">&para;</a></h2>
<p>TerraformClient queries the Terraform Registry API.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-151-1"><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">TerraformClient</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-151-2"><a id="__codelineno-151-2" name="__codelineno-151-2" href="#__codelineno-151-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-151-3"><a id="__codelineno-151-3" name="__codelineno-151-3" href="#__codelineno-151-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewTerraformClient"></a></p>
<h3 id="func-newterraformclient">func NewTerraformClient<a class="headerlink" href="#func-newterraformclient" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-152-1"><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewTerraformClient</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformClient</span>
</span></code></pre></div>
<p>NewTerraformClient creates a new Terraform Registry client.</p>
<p><a name="TerraformClient.FindBestProviderVersion"></a></p>
<h3 id="func-terraformclient-findbestproviderversion">func <span class="arithmatex">\(\*TerraformClient\)</span> FindBestProviderVersion<a class="headerlink" href="#func-terraformclient-findbestproviderversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-153-1"><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformClient</span><span class="p">)</span><span class="w"> </span><span class="nx">FindBestProviderVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="p">,</span><span class="w"> </span><span class="nx">constraint</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>FindBestProviderVersion finds the best provider version matching a constraint.</p>
<p><a name="TerraformClient.GetLatestModuleVersion"></a></p>
<h3 id="func-terraformclient-getlatestmoduleversion">func <span class="arithmatex">\(\*TerraformClient\)</span> GetLatestModuleVersion<a class="headerlink" href="#func-terraformclient-getlatestmoduleversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-154-1"><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestModuleVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestModuleVersion fetches the latest version for a module. source format: "namespace/name/provider" <span class="arithmatex">\(e.g., "terraform\-aws\-modules/vpc/aws"\)</span></p>
<p><a name="TerraformClient.GetLatestProviderVersion"></a></p>
<h3 id="func-terraformclient-getlatestproviderversion">func <span class="arithmatex">\(\*TerraformClient\)</span> GetLatestProviderVersion<a class="headerlink" href="#func-terraformclient-getlatestproviderversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-155-1"><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestProviderVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestProviderVersion fetches the latest version for a provider. source format: "namespace/name" <span class="arithmatex">\(e.g., "hashicorp/aws"\)</span></p>
<p><a name="TerraformClient.GetModuleVersions"></a></p>
<h3 id="func-terraformclient-getmoduleversions">func <span class="arithmatex">\(\*TerraformClient\)</span> GetModuleVersions<a class="headerlink" href="#func-terraformclient-getmoduleversions" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-156-1"><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">TerraformClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetModuleVersions</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="nx">ModuleVersion</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetModuleVersions returns all available versions for a module. source format: "namespace/name/provider" <span class="arithmatex">\(e.g., "terraform\-aws\-modules/vpc/aws"\)</span></p>
<h1 id="resolve">resolve<a class="headerlink" href="#resolve" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-157-1"><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/resolve&quot;</span>
</span></code></pre></div>
<p>Package resolve provides semantic version resolution and selection logic. It implements version constraint checking, policy-based version selection, and semantic version impact calculation <span class="arithmatex">\(patch/minor/major\)</span>.</p>
<p>The package supports the following constraint syntaxes:</p>
<ul>
<li>Terraform-style: ~&gt; 5.0, &gt;= 1.0, = 1.2.3</li>
<li>npm/Helm-style: ^1.2.3, ~1.2.3, &gt;=1.0.0</li>
<li>Exact versions: 1.2.3</li>
</ul>
<p>Policy precedence is applied in this order:</p>
<ol>
<li>uptool.yaml policy <span class="arithmatex">\(highest\)</span></li>
<li>CLI flags</li>
<li>Manifest constraints <span class="arithmatex">\(lowest\)</span></li>
</ol>
<h2 id="index_6">Index<a class="headerlink" href="#index_6" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#CompareVersions">func CompareVersions<span class="arithmatex">\(v1, v2 string\)</span> <span class="arithmatex">\(int, error\)</span></a></li>
<li><a href="#IsValidSemver">func IsValidSemver<span class="arithmatex">\(version string\)</span> bool</a></li>
<li><a href="#SelectVersion">func SelectVersion<span class="arithmatex">\(currentVersion string, availableVersions \[\]string, policy engine.IntegrationPolicy\)</span> <span class="arithmatex">\(string, engine.Impact, error\)</span></a></li>
<li><a href="#SelectVersionWithContext">func SelectVersionWithContext<span class="arithmatex">\(currentVersion string, constraint string, availableVersions \[\]string, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(string, engine.Impact, error\)</span></a></li>
<li><a href="#ConstraintType">type ConstraintType</a></li>
<li><a href="#ParsedConstraint">type ParsedConstraint</a></li>
<li><a href="#ParseConstraint">func ParseConstraint<span class="arithmatex">\(constraint string\)</span> *ParsedConstraint</a></li>
<li><a href="#ParsedConstraint.Allows">func <span class="arithmatex">\(pc \*ParsedConstraint\)</span> Allows<span class="arithmatex">\(targetVersion string\)</span> bool</a></li>
<li><a href="#ParsedConstraint.AllowsImpact">func <span class="arithmatex">\(pc \*ParsedConstraint\)</span> AllowsImpact<span class="arithmatex">\(impact engine.Impact\)</span> bool</a></li>
</ul>
<p><a name="CompareVersions"></a></p>
<h2 id="func-compareversions">func CompareVersions<a class="headerlink" href="#func-compareversions" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-158-1"><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">CompareVersions</span><span class="p">(</span><span class="nx">v1</span><span class="p">,</span><span class="w"> </span><span class="nx">v2</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>CompareVersions returns -1 if v1 \&lt; v2, 0 if v1 == v2, 1 if v1 &gt; v2.</p>
<p><a name="IsValidSemver"></a></p>
<h2 id="func-isvalidsemver">func IsValidSemver<a class="headerlink" href="#func-isvalidsemver" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-159-1"><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">IsValidSemver</span><span class="p">(</span><span class="nx">version</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>IsValidSemver checks if a string is a valid semver version.</p>
<p><a name="SelectVersion"></a></p>
<h2 id="func-selectversion">func SelectVersion<a class="headerlink" href="#func-selectversion" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-160-1"><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">SelectVersion</span><span class="p">(</span><span class="nx">currentVersion</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">availableVersions</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">policy</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">IntegrationPolicy</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Impact</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>SelectVersion chooses the best version from a list based on policy. It filters versions by update strategy and prerelease policy, then returns the latest.</p>
<p>Deprecated: Use SelectVersionWithContext for proper policy precedence support.</p>
<p><a name="SelectVersionWithContext"></a></p>
<h2 id="func-selectversionwithcontext">func SelectVersionWithContext<a class="headerlink" href="#func-selectversionwithcontext" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-161-1"><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">SelectVersionWithContext</span><span class="p">(</span><span class="nx">currentVersion</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">constraint</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">availableVersions</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Impact</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>SelectVersionWithContext chooses the best version applying the full precedence chain: 1. CLI flags <span class="arithmatex">\(highest precedence \- if planCtx.CLIFlags.UpdateLevel is set, it overrides everything\)</span> 2. uptool.yaml policy <span class="arithmatex">\(if policy.Update is set\)</span> 3. Manifest constraints <span class="arithmatex">\(respects \~\&gt;, ^, \&gt;= etc.\)</span></p>
<p>The constraint parameter should be the original constraint string from the manifest <span class="arithmatex">\(e.g., "\~\&gt; 5.0", "^1.2.3", "\&gt;= 1.0"\)</span>. If empty, only policy filtering is applied.</p>
<p><a name="ConstraintType"></a></p>
<h2 id="type-constrainttype">type ConstraintType<a class="headerlink" href="#type-constrainttype" title="Permanent link">&para;</a></h2>
<p>ConstraintType represents the type of version constraint.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-162-1"><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ConstraintType</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p><a name="ConstraintExact"></a></p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-163-1"><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-163-2"><a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a><span class="w">    </span><span class="c1">// ConstraintExact matches only the exact version (e.g., &quot;1.2.3&quot; or &quot;= 1.2.3&quot;).</span>
</span><span id="__span-163-3"><a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="w">    </span><span class="nx">ConstraintExact</span><span class="w"> </span><span class="nx">ConstraintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;exact&quot;</span>
</span><span id="__span-163-4"><a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a>
</span><span id="__span-163-5"><a id="__codelineno-163-5" name="__codelineno-163-5" href="#__codelineno-163-5"></a><span class="w">    </span><span class="c1">// ConstraintPessimistic allows patch updates within a minor version (e.g., &quot;~&gt; 5.0&quot; allows 5.0.x to 5.x.x).</span>
</span><span id="__span-163-6"><a id="__codelineno-163-6" name="__codelineno-163-6" href="#__codelineno-163-6"></a><span class="w">    </span><span class="c1">// In Terraform: ~&gt; 5.0 allows &gt;= 5.0, &lt; 6.0</span>
</span><span id="__span-163-7"><a id="__codelineno-163-7" name="__codelineno-163-7" href="#__codelineno-163-7"></a><span class="w">    </span><span class="c1">// In npm/Helm: ~5.0 allows &gt;= 5.0.0, &lt; 5.1.0</span>
</span><span id="__span-163-8"><a id="__codelineno-163-8" name="__codelineno-163-8" href="#__codelineno-163-8"></a><span class="w">    </span><span class="nx">ConstraintPessimistic</span><span class="w"> </span><span class="nx">ConstraintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;pessimistic&quot;</span>
</span><span id="__span-163-9"><a id="__codelineno-163-9" name="__codelineno-163-9" href="#__codelineno-163-9"></a>
</span><span id="__span-163-10"><a id="__codelineno-163-10" name="__codelineno-163-10" href="#__codelineno-163-10"></a><span class="w">    </span><span class="c1">// ConstraintCaret allows minor and patch updates (e.g., &quot;^1.2.3&quot; allows 1.x.x).</span>
</span><span id="__span-163-11"><a id="__codelineno-163-11" name="__codelineno-163-11" href="#__codelineno-163-11"></a><span class="w">    </span><span class="c1">// Commonly used in npm: ^1.2.3 allows &gt;= 1.2.3, &lt; 2.0.0</span>
</span><span id="__span-163-12"><a id="__codelineno-163-12" name="__codelineno-163-12" href="#__codelineno-163-12"></a><span class="w">    </span><span class="nx">ConstraintCaret</span><span class="w"> </span><span class="nx">ConstraintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;caret&quot;</span>
</span><span id="__span-163-13"><a id="__codelineno-163-13" name="__codelineno-163-13" href="#__codelineno-163-13"></a>
</span><span id="__span-163-14"><a id="__codelineno-163-14" name="__codelineno-163-14" href="#__codelineno-163-14"></a><span class="w">    </span><span class="c1">// ConstraintMinimum allows any version &gt;= the specified version (e.g., &quot;&gt;= 1.0&quot;).</span>
</span><span id="__span-163-15"><a id="__codelineno-163-15" name="__codelineno-163-15" href="#__codelineno-163-15"></a><span class="w">    </span><span class="nx">ConstraintMinimum</span><span class="w"> </span><span class="nx">ConstraintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;minimum&quot;</span>
</span><span id="__span-163-16"><a id="__codelineno-163-16" name="__codelineno-163-16" href="#__codelineno-163-16"></a>
</span><span id="__span-163-17"><a id="__codelineno-163-17" name="__codelineno-163-17" href="#__codelineno-163-17"></a><span class="w">    </span><span class="c1">// ConstraintRange allows versions within a range (e.g., &quot;&gt;= 1.0, &lt; 2.0&quot;).</span>
</span><span id="__span-163-18"><a id="__codelineno-163-18" name="__codelineno-163-18" href="#__codelineno-163-18"></a><span class="w">    </span><span class="nx">ConstraintRange</span><span class="w"> </span><span class="nx">ConstraintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;range&quot;</span>
</span><span id="__span-163-19"><a id="__codelineno-163-19" name="__codelineno-163-19" href="#__codelineno-163-19"></a><span class="p">)</span>
</span></code></pre></div>
<p><a name="ParsedConstraint"></a></p>
<h2 id="type-parsedconstraint">type ParsedConstraint<a class="headerlink" href="#type-parsedconstraint" title="Permanent link">&para;</a></h2>
<p>ParsedConstraint represents a parsed version constraint.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-164-1"><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ParsedConstraint</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-164-2"><a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a><span class="w">    </span><span class="c1">// Original is the original constraint string as found in the manifest.</span>
</span><span id="__span-164-3"><a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a><span class="w">    </span><span class="nx">Original</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-164-4"><a id="__codelineno-164-4" name="__codelineno-164-4" href="#__codelineno-164-4"></a>
</span><span id="__span-164-5"><a id="__codelineno-164-5" name="__codelineno-164-5" href="#__codelineno-164-5"></a><span class="w">    </span><span class="c1">// Type indicates the constraint type (exact, pessimistic, caret, minimum, range).</span>
</span><span id="__span-164-6"><a id="__codelineno-164-6" name="__codelineno-164-6" href="#__codelineno-164-6"></a><span class="w">    </span><span class="nx">Type</span><span class="w"> </span><span class="nx">ConstraintType</span>
</span><span id="__span-164-7"><a id="__codelineno-164-7" name="__codelineno-164-7" href="#__codelineno-164-7"></a>
</span><span id="__span-164-8"><a id="__codelineno-164-8" name="__codelineno-164-8" href="#__codelineno-164-8"></a><span class="w">    </span><span class="c1">// BaseVersion is the version number extracted from the constraint (without prefix).</span>
</span><span id="__span-164-9"><a id="__codelineno-164-9" name="__codelineno-164-9" href="#__codelineno-164-9"></a><span class="w">    </span><span class="nx">BaseVersion</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-164-10"><a id="__codelineno-164-10" name="__codelineno-164-10" href="#__codelineno-164-10"></a>
</span><span id="__span-164-11"><a id="__codelineno-164-11" name="__codelineno-164-11" href="#__codelineno-164-11"></a><span class="w">    </span><span class="c1">// Constraint is the parsed semver constraint for validation.</span>
</span><span id="__span-164-12"><a id="__codelineno-164-12" name="__codelineno-164-12" href="#__codelineno-164-12"></a><span class="w">    </span><span class="c1">// May be nil if the constraint couldn&#39;t be parsed as semver.</span>
</span><span id="__span-164-13"><a id="__codelineno-164-13" name="__codelineno-164-13" href="#__codelineno-164-13"></a><span class="w">    </span><span class="nx">Constraint</span><span class="w"> </span><span class="o">*</span><span class="nx">semver</span><span class="p">.</span><span class="nx">Constraints</span>
</span><span id="__span-164-14"><a id="__codelineno-164-14" name="__codelineno-164-14" href="#__codelineno-164-14"></a>
</span><span id="__span-164-15"><a id="__codelineno-164-15" name="__codelineno-164-15" href="#__codelineno-164-15"></a><span class="w">    </span><span class="c1">// MaxAllowedImpact indicates the maximum update impact this constraint allows.</span>
</span><span id="__span-164-16"><a id="__codelineno-164-16" name="__codelineno-164-16" href="#__codelineno-164-16"></a><span class="w">    </span><span class="c1">// For example, ~&gt; 5.0 allows &quot;minor&quot; (5.x), ^1.2.3 allows &quot;minor&quot; (1.x).</span>
</span><span id="__span-164-17"><a id="__codelineno-164-17" name="__codelineno-164-17" href="#__codelineno-164-17"></a><span class="w">    </span><span class="nx">MaxAllowedImpact</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Impact</span>
</span><span id="__span-164-18"><a id="__codelineno-164-18" name="__codelineno-164-18" href="#__codelineno-164-18"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ParseConstraint"></a></p>
<h3 id="func-parseconstraint">func ParseConstraint<a class="headerlink" href="#func-parseconstraint" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-165-1"><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ParseConstraint</span><span class="p">(</span><span class="nx">constraint</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="nx">ParsedConstraint</span>
</span></code></pre></div>
<p>ParseConstraint parses a version constraint string and returns a structured representation. It supports various constraint syntaxes from different ecosystems <span class="arithmatex">\(Terraform, npm, Helm\)</span>.</p>
<p><a name="ParsedConstraint.Allows"></a></p>
<h3 id="func-parsedconstraint-allows">func <span class="arithmatex">\(\*ParsedConstraint\)</span> Allows<a class="headerlink" href="#func-parsedconstraint-allows" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-166-1"><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">ParsedConstraint</span><span class="p">)</span><span class="w"> </span><span class="nx">Allows</span><span class="p">(</span><span class="nx">targetVersion</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>Allows checks if the constraint allows updating to the given version.</p>
<p><a name="ParsedConstraint.AllowsImpact"></a></p>
<h3 id="func-parsedconstraint-allowsimpact">func <span class="arithmatex">\(\*ParsedConstraint\)</span> AllowsImpact<a class="headerlink" href="#func-parsedconstraint-allowsimpact" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-167-1"><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">pc</span><span class="w"> </span><span class="o">*</span><span class="nx">ParsedConstraint</span><span class="p">)</span><span class="w"> </span><span class="nx">AllowsImpact</span><span class="p">(</span><span class="nx">impact</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Impact</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span>
</span></code></pre></div>
<p>AllowsImpact checks if the constraint allows updates of the given impact level.</p>
<h1 id="rewrite">rewrite<a class="headerlink" href="#rewrite" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-168-1"><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/rewrite&quot;</span>
</span></code></pre></div>
<p>Package rewrite provides utilities for rewriting structured files while preserving formatting. It includes functions for YAML manipulation, unified diff generation, and patch creation, enabling integrations to update configuration files without destroying formatting or comments.</p>
<h2 id="index_7">Index<a class="headerlink" href="#index_7" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#CountChanges">func CountChanges<span class="arithmatex">\(diff string\)</span> <span class="arithmatex">\(additions, deletions int\)</span></a></li>
<li><a href="#GeneratePatch">func GeneratePatch<span class="arithmatex">\(filename, oldContent, newContent string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#GenerateUnifiedDiff">func GenerateUnifiedDiff<span class="arithmatex">\(filename, oldContent, newContent string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#ReplaceYAMLValue">func ReplaceYAMLValue<span class="arithmatex">\(content string, path \[\]string, oldValue, newValue string, matcher func\(\*yaml.Node\)</span> bool) <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#UpdateYAMLField">func UpdateYAMLField<span class="arithmatex">\(content string, path \[\]string, newValue string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
</ul>
<p><a name="CountChanges"></a></p>
<h2 id="func-countchanges">func CountChanges<a class="headerlink" href="#func-countchanges" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-169-1"><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">CountChanges</span><span class="p">(</span><span class="nx">diff</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">additions</span><span class="p">,</span><span class="w"> </span><span class="nx">deletions</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>
</span></code></pre></div>
<p>CountChanges returns the number of additions and deletions in a diff.</p>
<p><a name="GeneratePatch"></a></p>
<h2 id="func-generatepatch">func GeneratePatch<a class="headerlink" href="#func-generatepatch" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-170-1"><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GeneratePatch</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span><span class="w"> </span><span class="nx">oldContent</span><span class="p">,</span><span class="w"> </span><span class="nx">newContent</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GeneratePatch creates a git-style patch with timestamps.</p>
<p><a name="GenerateUnifiedDiff"></a></p>
<h2 id="func-generateunifieddiff">func GenerateUnifiedDiff<a class="headerlink" href="#func-generateunifieddiff" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-171-1"><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GenerateUnifiedDiff</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span><span class="w"> </span><span class="nx">oldContent</span><span class="p">,</span><span class="w"> </span><span class="nx">newContent</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GenerateUnifiedDiff creates a unified diff between old and new content.</p>
<p><a name="ReplaceYAMLValue"></a></p>
<h2 id="func-replaceyamlvalue">func ReplaceYAMLValue<a class="headerlink" href="#func-replaceyamlvalue" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-172-1"><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ReplaceYAMLValue</span><span class="p">(</span><span class="nx">content</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">oldValue</span><span class="p">,</span><span class="w"> </span><span class="nx">newValue</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">matcher</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="o">*</span><span class="nx">yaml</span><span class="p">.</span><span class="nx">Node</span><span class="p">)</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>ReplaceYAMLValue replaces a specific value in a YAML document while preserving formatting. path specifies the location <span class="arithmatex">\(e.g., \["repos", "\*", "rev"\]\)</span> where * matches any element. matcher is an optional function to further filter which nodes to update.</p>
<p><a name="UpdateYAMLField"></a></p>
<h2 id="func-updateyamlfield">func UpdateYAMLField<a class="headerlink" href="#func-updateyamlfield" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-173-1"><a id="__codelineno-173-1" name="__codelineno-173-1" href="#__codelineno-173-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">UpdateYAMLField</span><span class="p">(</span><span class="nx">content</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">newValue</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>UpdateYAMLField updates a specific field in a YAML document.</p>
<h1 id="secureio">secureio<a class="headerlink" href="#secureio" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-174-1"><a id="__codelineno-174-1" name="__codelineno-174-1" href="#__codelineno-174-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/secureio&quot;</span>
</span></code></pre></div>
<p>Package secureio provides secure file I/O operations with path validation.</p>
<h2 id="index_8">Index<a class="headerlink" href="#index_8" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Create">func Create<span class="arithmatex">\(path string\)</span> <span class="arithmatex">\(\*os.File, error\)</span></a></li>
<li><a href="#ReadFile">func ReadFile<span class="arithmatex">\(path string\)</span> <span class="arithmatex">\(\[\]byte, error\)</span></a></li>
<li><a href="#ValidateFilePath">func ValidateFilePath<span class="arithmatex">\(path string\)</span> error</a></li>
<li><a href="#WriteFile">func WriteFile<span class="arithmatex">\(path string, data \[\]byte, perm os.FileMode\)</span> error</a></li>
</ul>
<p><a name="Create"></a></p>
<h2 id="func-create">func Create<a class="headerlink" href="#func-create" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-175-1"><a id="__codelineno-175-1" name="__codelineno-175-1" href="#__codelineno-175-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Create</span><span class="p">(</span><span class="nx">path</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">os</span><span class="p">.</span><span class="nx">File</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Create safely creates a file after validating the path</p>
<p><a name="ReadFile"></a></p>
<h2 id="func-readfile">func ReadFile<a class="headerlink" href="#func-readfile" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-176-1"><a id="__codelineno-176-1" name="__codelineno-176-1" href="#__codelineno-176-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ReadFile</span><span class="p">(</span><span class="nx">path</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>ReadFile safely reads a file after validating the path</p>
<p><a name="ValidateFilePath"></a></p>
<h2 id="func-validatefilepath_1">func ValidateFilePath<a class="headerlink" href="#func-validatefilepath_1" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-177-1"><a id="__codelineno-177-1" name="__codelineno-177-1" href="#__codelineno-177-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ValidateFilePath</span><span class="p">(</span><span class="nx">path</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>ValidateFilePath validates that a file path is safe to read/write</p>
<p><a name="WriteFile"></a></p>
<h2 id="func-writefile">func WriteFile<a class="headerlink" href="#func-writefile" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-178-1"><a id="__codelineno-178-1" name="__codelineno-178-1" href="#__codelineno-178-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">WriteFile</span><span class="p">(</span><span class="nx">path</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="p">[]</span><span class="kt">byte</span><span class="p">,</span><span class="w"> </span><span class="nx">perm</span><span class="w"> </span><span class="nx">os</span><span class="p">.</span><span class="nx">FileMode</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>WriteFile safely writes a file after validating the path</p>
<h1 id="version">version<a class="headerlink" href="#version" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-179-1"><a id="__codelineno-179-1" name="__codelineno-179-1" href="#__codelineno-179-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/version&quot;</span>
</span></code></pre></div>
<p>Package version provides version information for uptool. The version is embedded from the VERSION file at the repository root.</p>
<h2 id="index_9">Index<a class="headerlink" href="#index_9" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Get">func Get() string</a></li>
</ul>
<p><a name="Get"></a></p>
<h2 id="func-get_2">func Get<a class="headerlink" href="#func-get_2" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-180-1"><a id="__codelineno-180-1" name="__codelineno-180-1" href="#__codelineno-180-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Get</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Get returns the current uptool version.</p>
<h1 id="cmd">cmd<a class="headerlink" href="#cmd" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-181-1"><a id="__codelineno-181-1" name="__codelineno-181-1" href="#__codelineno-181-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/cmd/uptool/cmd&quot;</span>
</span></code></pre></div>
<p>Package cmd implements the command-line interface for uptool. It provides commands for scanning, planning, and updating dependency manifests across multiple ecosystems <span class="arithmatex">\(npm, Helm, Terraform, pre\-commit, asdf, mise, tflint\)</span>.</p>
<p>The CLI is built using Cobra and provides the following commands:</p>
<ul>
<li>scan: Discover all manifests in a repository</li>
<li>plan: Generate an update plan showing available dependency updates</li>
<li>update: Apply updates to manifest files</li>
<li>list: List all supported integrations and their status</li>
<li>completion: Generate shell completion scripts</li>
</ul>
<p>Global flags available across all commands:</p>
<ul>
<li>-v, --verbose: Enable verbose debug output</li>
<li>-q, --quiet: Suppress informational output <span class="arithmatex">\(errors only\)</span></li>
</ul>
<p>Example usage:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-182-1"><a id="__codelineno-182-1" name="__codelineno-182-1" href="#__codelineno-182-1"></a># Scan repository for manifests
</span><span id="__span-182-2"><a id="__codelineno-182-2" name="__codelineno-182-2" href="#__codelineno-182-2"></a>uptool scan
</span><span id="__span-182-3"><a id="__codelineno-182-3" name="__codelineno-182-3" href="#__codelineno-182-3"></a>
</span><span id="__span-182-4"><a id="__codelineno-182-4" name="__codelineno-182-4" href="#__codelineno-182-4"></a># Generate update plan
</span><span id="__span-182-5"><a id="__codelineno-182-5" name="__codelineno-182-5" href="#__codelineno-182-5"></a>uptool plan
</span><span id="__span-182-6"><a id="__codelineno-182-6" name="__codelineno-182-6" href="#__codelineno-182-6"></a>
</span><span id="__span-182-7"><a id="__codelineno-182-7" name="__codelineno-182-7" href="#__codelineno-182-7"></a># Apply updates (dry-run first)
</span><span id="__span-182-8"><a id="__codelineno-182-8" name="__codelineno-182-8" href="#__codelineno-182-8"></a>uptool update --dry-run --diff
</span><span id="__span-182-9"><a id="__codelineno-182-9" name="__codelineno-182-9" href="#__codelineno-182-9"></a>uptool update
</span><span id="__span-182-10"><a id="__codelineno-182-10" name="__codelineno-182-10" href="#__codelineno-182-10"></a>
</span><span id="__span-182-11"><a id="__codelineno-182-11" name="__codelineno-182-11" href="#__codelineno-182-11"></a># Update only specific integrations
</span><span id="__span-182-12"><a id="__codelineno-182-12" name="__codelineno-182-12" href="#__codelineno-182-12"></a>uptool update --only=npm,helm
</span></code></pre></div>
<p>See individual command documentation for detailed usage and options.</p>
<h2 id="index_10">Index<a class="headerlink" href="#index_10" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Execute">func Execute() error</a></li>
<li><a href="#GetConfigPath">func GetConfigPath() string</a></li>
<li><a href="#GetLogLevel">func GetLogLevel() slog.Level</a></li>
</ul>
<p><a name="Execute"></a></p>
<h2 id="func-execute">func Execute<a class="headerlink" href="#func-execute" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-183-1"><a id="__codelineno-183-1" name="__codelineno-183-1" href="#__codelineno-183-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Execute</span><span class="p">()</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Execute runs the root command</p>
<p><a name="GetConfigPath"></a></p>
<h2 id="func-getconfigpath">func GetConfigPath<a class="headerlink" href="#func-getconfigpath" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-184-1"><a id="__codelineno-184-1" name="__codelineno-184-1" href="#__codelineno-184-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetConfigPath</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>GetConfigPath returns the config file path from the --config flag. Returns empty string if not specified <span class="arithmatex">\(indicating default behavior\)</span>.</p>
<p><a name="GetLogLevel"></a></p>
<h2 id="func-getloglevel">func GetLogLevel<a class="headerlink" href="#func-getloglevel" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-185-1"><a id="__codelineno-185-1" name="__codelineno-185-1" href="#__codelineno-185-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">GetLogLevel</span><span class="p">()</span><span class="w"> </span><span class="nx">slog</span><span class="p">.</span><span class="nx">Level</span>
</span></code></pre></div>
<p>GetLogLevel returns the current log level based on flags</p>
<h1 id="all">all<a class="headerlink" href="#all" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-186-1"><a id="__codelineno-186-1" name="__codelineno-186-1" href="#__codelineno-186-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/all&quot;</span>
</span></code></pre></div>
<p>Package all imports all integration packages to trigger their self-registration. Import this package with a blank identifier to enable all integrations:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-187-1"><a id="__codelineno-187-1" name="__codelineno-187-1" href="#__codelineno-187-1"></a>import _ &quot;github.com/santosr2/uptool/internal/integrations/all&quot;
</span></code></pre></div>
<h2 id="index_11">Index<a class="headerlink" href="#index_11" title="Permanent link">&para;</a></h2>
<h1 id="asdf">asdf<a class="headerlink" href="#asdf" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-188-1"><a id="__codelineno-188-1" name="__codelineno-188-1" href="#__codelineno-188-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/asdf&quot;</span>
</span></code></pre></div>
<p>Package asdf provides integration for asdf tool version manager. It detects and updates .tool-versions files.</p>
<p>Status: EXPERIMENTAL - Version resolution not yet implemented</p>
<h2 id="index_12">Index<a class="headerlink" href="#index_12" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
</ul>
<p><a name="Integration"></a></p>
<h2 id="type-integration_1">type Integration<a class="headerlink" href="#type-integration_1" title="Permanent link">&para;</a></h2>
<p>Integration implements the engine.Integration interface for asdf.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-189-1"><a id="__codelineno-189-1" name="__codelineno-189-1" href="#__codelineno-189-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new">func New<a class="headerlink" href="#func-new" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-190-1"><a id="__codelineno-190-1" name="__codelineno-190-1" href="#__codelineno-190-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new asdf integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-191-1"><a id="__codelineno-191-1" name="__codelineno-191-1" href="#__codelineno-191-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply applies updates to asdf manifest files.</p>
<p>Note: Apply is not implemented for asdf. Use native asdf commands instead:</p>
<ul>
<li>asdf plugin update --all # Update all plugins</li>
<li>asdf install \&lt;tool&gt; latest # Install latest version of a tool</li>
</ul>
<p>To manually update versions in .tool-versions:</p>
<ol>
<li>Check available versions: asdf list all \&lt;tool&gt;</li>
<li>Edit .tool-versions with desired versions</li>
<li>Install: asdf install</li>
</ol>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-192-1"><a id="__codelineno-192-1" name="__codelineno-192-1" href="#__codelineno-192-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect scans for .tool-versions files.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-193-1"><a id="__codelineno-193-1" name="__codelineno-193-1" href="#__codelineno-193-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-194-1"><a id="__codelineno-194-1" name="__codelineno-194-1" href="#__codelineno-194-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan generates an update plan for asdf tools.</p>
<p>Note: asdf integration is experimental. Version resolution is not implemented because each tool <span class="arithmatex">\(.tool\-versions can contain nodejs, python, ruby, terraform, etc.\)</span> has its own registry and update mechanism. This would require datasources for every possible runtime.</p>
<p>Recommended approach: Use native asdf commands:</p>
<ul>
<li>asdf plugin update --all # Update plugin versions</li>
<li>asdf latest --all # Show latest versions</li>
<li>asdf install \&lt;tool&gt; latest # Install latest version</li>
</ul>
<p>Future enhancement: Could implement version checking via tool-specific datasources <span class="arithmatex">\(npm registry, python.org, ruby gems, etc.\)</span> or by calling asdf native commands.</p>
<p>The planCtx parameter is accepted for interface compatibility but not currently used.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-195-1"><a id="__codelineno-195-1" name="__codelineno-195-1" href="#__codelineno-195-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate validates an asdf manifest.</p>
<h1 id="helm">helm<a class="headerlink" href="#helm" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-196-1"><a id="__codelineno-196-1" name="__codelineno-196-1" href="#__codelineno-196-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/helm&quot;</span>
</span></code></pre></div>
<p>Package helm implements the Helm chart integration for updating Chart.yaml dependencies. It detects Chart.yaml files, queries Helm chart repositories for version updates, and rewrites chart dependency versions while preserving YAML structure.</p>
<h2 id="index_13">Index<a class="headerlink" href="#index_13" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Chart">type Chart</a></li>
<li><a href="#Dependency">type Dependency</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
</ul>
<p><a name="Chart"></a></p>
<h2 id="type-chart">type Chart<a class="headerlink" href="#type-chart" title="Permanent link">&para;</a></h2>
<p>Chart represents the structure of Chart.yaml.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-197-1"><a id="__codelineno-197-1" name="__codelineno-197-1" href="#__codelineno-197-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Chart</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-197-2"><a id="__codelineno-197-2" name="__codelineno-197-2" href="#__codelineno-197-2"></a><span class="w">    </span><span class="nx">Raw</span><span class="w">          </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">any</span><span class="w"> </span><span class="s">`yaml:&quot;,inline&quot;`</span>
</span><span id="__span-197-3"><a id="__codelineno-197-3" name="__codelineno-197-3" href="#__codelineno-197-3"></a><span class="w">    </span><span class="nx">APIVersion</span><span class="w">   </span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;apiVersion&quot;`</span>
</span><span id="__span-197-4"><a id="__codelineno-197-4" name="__codelineno-197-4" href="#__codelineno-197-4"></a><span class="w">    </span><span class="nx">Name</span><span class="w">         </span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;name&quot;`</span>
</span><span id="__span-197-5"><a id="__codelineno-197-5" name="__codelineno-197-5" href="#__codelineno-197-5"></a><span class="w">    </span><span class="nx">Description</span><span class="w">  </span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;description&quot;`</span>
</span><span id="__span-197-6"><a id="__codelineno-197-6" name="__codelineno-197-6" href="#__codelineno-197-6"></a><span class="w">    </span><span class="nx">Type</span><span class="w">         </span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;type&quot;`</span>
</span><span id="__span-197-7"><a id="__codelineno-197-7" name="__codelineno-197-7" href="#__codelineno-197-7"></a><span class="w">    </span><span class="nx">Version</span><span class="w">      </span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;version&quot;`</span>
</span><span id="__span-197-8"><a id="__codelineno-197-8" name="__codelineno-197-8" href="#__codelineno-197-8"></a><span class="w">    </span><span class="nx">AppVersion</span><span class="w">   </span><span class="kt">string</span><span class="w">         </span><span class="s">`yaml:&quot;appVersion&quot;`</span>
</span><span id="__span-197-9"><a id="__codelineno-197-9" name="__codelineno-197-9" href="#__codelineno-197-9"></a><span class="w">    </span><span class="nx">Dependencies</span><span class="w"> </span><span class="p">[]</span><span class="nx">Dependency</span><span class="w">   </span><span class="s">`yaml:&quot;dependencies,omitempty&quot;`</span>
</span><span id="__span-197-10"><a id="__codelineno-197-10" name="__codelineno-197-10" href="#__codelineno-197-10"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Dependency"></a></p>
<h2 id="type-dependency_1">type Dependency<a class="headerlink" href="#type-dependency_1" title="Permanent link">&para;</a></h2>
<p>Dependency represents a chart dependency.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-198-1"><a id="__codelineno-198-1" name="__codelineno-198-1" href="#__codelineno-198-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Dependency</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-198-2"><a id="__codelineno-198-2" name="__codelineno-198-2" href="#__codelineno-198-2"></a><span class="w">    </span><span class="nx">Name</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;name&quot;`</span>
</span><span id="__span-198-3"><a id="__codelineno-198-3" name="__codelineno-198-3" href="#__codelineno-198-3"></a><span class="w">    </span><span class="nx">Version</span><span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;version&quot;`</span>
</span><span id="__span-198-4"><a id="__codelineno-198-4" name="__codelineno-198-4" href="#__codelineno-198-4"></a><span class="w">    </span><span class="nx">Repository</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;repository&quot;`</span>
</span><span id="__span-198-5"><a id="__codelineno-198-5" name="__codelineno-198-5" href="#__codelineno-198-5"></a><span class="w">    </span><span class="nx">Condition</span><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;condition,omitempty&quot;`</span>
</span><span id="__span-198-6"><a id="__codelineno-198-6" name="__codelineno-198-6" href="#__codelineno-198-6"></a><span class="w">    </span><span class="nx">Tags</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;tags,omitempty&quot;`</span>
</span><span id="__span-198-7"><a id="__codelineno-198-7" name="__codelineno-198-7" href="#__codelineno-198-7"></a><span class="w">    </span><span class="nx">Alias</span><span class="w">      </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;alias,omitempty&quot;`</span>
</span><span id="__span-198-8"><a id="__codelineno-198-8" name="__codelineno-198-8" href="#__codelineno-198-8"></a><span class="w">    </span><span class="nx">Enabled</span><span class="w">    </span><span class="kt">bool</span><span class="w">   </span><span class="s">`yaml:&quot;enabled,omitempty&quot;`</span>
</span><span id="__span-198-9"><a id="__codelineno-198-9" name="__codelineno-198-9" href="#__codelineno-198-9"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Integration"></a></p>
<h2 id="type-integration_2">type Integration<a class="headerlink" href="#type-integration_2" title="Permanent link">&para;</a></h2>
<p>Integration implements helm chart updates.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-199-1"><a id="__codelineno-199-1" name="__codelineno-199-1" href="#__codelineno-199-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-199-2"><a id="__codelineno-199-2" name="__codelineno-199-2" href="#__codelineno-199-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-199-3"><a id="__codelineno-199-3" name="__codelineno-199-3" href="#__codelineno-199-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new_1">func New<a class="headerlink" href="#func-new_1" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-200-1"><a id="__codelineno-200-1" name="__codelineno-200-1" href="#__codelineno-200-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new helm integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_1">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_1" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-201-1"><a id="__codelineno-201-1" name="__codelineno-201-1" href="#__codelineno-201-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply executes the update by rewriting Chart.yaml.</p>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_1">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_1" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-202-1"><a id="__codelineno-202-1" name="__codelineno-202-1" href="#__codelineno-202-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect finds Chart.yaml files in the repository.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_1">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_1" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-203-1"><a id="__codelineno-203-1" name="__codelineno-203-1" href="#__codelineno-203-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_1">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_1" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-204-1"><a id="__codelineno-204-1" name="__codelineno-204-1" href="#__codelineno-204-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan determines available updates for helm chart dependencies. It applies policy precedence: CLI flags &gt; uptool.yaml &gt; manifest constraints.</p>
<p>The planCtx parameter provides the policy context. If nil, default behavior is used <span class="arithmatex">\(respect constraints only\)</span>.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_1">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_1" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-205-1"><a id="__codelineno-205-1" name="__codelineno-205-1" href="#__codelineno-205-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate checks if the Chart.yaml is valid.</p>
<h1 id="mise">mise<a class="headerlink" href="#mise" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-206-1"><a id="__codelineno-206-1" name="__codelineno-206-1" href="#__codelineno-206-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/mise&quot;</span>
</span></code></pre></div>
<p>Package mise provides integration for mise tool version manager. It detects and updates mise.toml, .mise.toml, and optionally .tool-versions files. mise is backward-compatible with asdf's .tool-versions format.</p>
<p>Status: EXPERIMENTAL - Version resolution not yet implemented</p>
<h2 id="index_14">Index<a class="headerlink" href="#index_14" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Config">type Config</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
</ul>
<p><a name="Config"></a></p>
<h2 id="type-config_1">type Config<a class="headerlink" href="#type-config_1" title="Permanent link">&para;</a></h2>
<p>Config represents the structure of a mise.toml file.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-207-1"><a id="__codelineno-207-1" name="__codelineno-207-1" href="#__codelineno-207-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Config</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-207-2"><a id="__codelineno-207-2" name="__codelineno-207-2" href="#__codelineno-207-2"></a><span class="w">    </span><span class="nx">Tools</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span><span class="w"> </span><span class="s">`toml:&quot;tools&quot;`</span>
</span><span id="__span-207-3"><a id="__codelineno-207-3" name="__codelineno-207-3" href="#__codelineno-207-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Integration"></a></p>
<h2 id="type-integration_3">type Integration<a class="headerlink" href="#type-integration_3" title="Permanent link">&para;</a></h2>
<p>Integration implements the engine.Integration interface for mise.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-208-1"><a id="__codelineno-208-1" name="__codelineno-208-1" href="#__codelineno-208-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new_2">func New<a class="headerlink" href="#func-new_2" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-209-1"><a id="__codelineno-209-1" name="__codelineno-209-1" href="#__codelineno-209-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new mise integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_2">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_2" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-210-1"><a id="__codelineno-210-1" name="__codelineno-210-1" href="#__codelineno-210-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply applies updates to mise manifest files.</p>
<p>Note: Apply is not implemented for mise. Use native mise commands instead:</p>
<ul>
<li>mise upgrade # Upgrade all tools to latest</li>
<li>mise use \&lt;tool&gt;@latest # Pin specific tool to latest</li>
</ul>
<p>To manually update versions in mise.toml or .mise.toml:</p>
<ol>
<li>Check available versions: mise ls-remote \&lt;tool&gt;</li>
<li>Edit mise.toml with desired versions</li>
<li>Install: mise install</li>
</ol>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_2">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_2" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-211-1"><a id="__codelineno-211-1" name="__codelineno-211-1" href="#__codelineno-211-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect scans for mise.toml and .mise.toml files.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_2">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_2" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-212-1"><a id="__codelineno-212-1" name="__codelineno-212-1" href="#__codelineno-212-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_2">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_2" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-213-1"><a id="__codelineno-213-1" name="__codelineno-213-1" href="#__codelineno-213-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan generates an update plan for mise tools.</p>
<p>Note: mise integration is experimental. Version resolution is not implemented because each tool <span class="arithmatex">\(mise.toml can contain nodejs, python, ruby, terraform, etc.\)</span> has its own registry and update mechanism. This would require datasources for every possible runtime.</p>
<p>Recommended approach: Use native mise commands:</p>
<ul>
<li>mise upgrade # Upgrade all tools to latest versions</li>
<li>mise outdated # Show outdated tools</li>
<li>mise use \&lt;tool&gt;@latest # Pin to latest version</li>
</ul>
<p>Future enhancement: Could implement version checking via tool-specific datasources <span class="arithmatex">\(npm registry, python.org, ruby gems, etc.\)</span> or by calling mise native commands.</p>
<p>The planCtx parameter is accepted for interface compatibility but not currently used.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_2">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_2" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-214-1"><a id="__codelineno-214-1" name="__codelineno-214-1" href="#__codelineno-214-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate validates a mise manifest.</p>
<h1 id="npm">npm<a class="headerlink" href="#npm" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-215-1"><a id="__codelineno-215-1" name="__codelineno-215-1" href="#__codelineno-215-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/npm&quot;</span>
</span></code></pre></div>
<p>Package npm implements the npm integration for updating package.json dependencies. It detects package.json files, queries the npm registry for version updates, and rewrites dependency versions while preserving constraint prefixes <span class="arithmatex">\(^, \~, \&gt;=\)</span>.</p>
<h2 id="index_15">Index<a class="headerlink" href="#index_15" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
<li><a href="#PackageJSON">type PackageJSON</a></li>
</ul>
<p><a name="Integration"></a></p>
<h2 id="type-integration_4">type Integration<a class="headerlink" href="#type-integration_4" title="Permanent link">&para;</a></h2>
<p>Integration implements npm package.json updates.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-216-1"><a id="__codelineno-216-1" name="__codelineno-216-1" href="#__codelineno-216-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-216-2"><a id="__codelineno-216-2" name="__codelineno-216-2" href="#__codelineno-216-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-216-3"><a id="__codelineno-216-3" name="__codelineno-216-3" href="#__codelineno-216-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new_3">func New<a class="headerlink" href="#func-new_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-217-1"><a id="__codelineno-217-1" name="__codelineno-217-1" href="#__codelineno-217-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new npm integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_3">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-218-1"><a id="__codelineno-218-1" name="__codelineno-218-1" href="#__codelineno-218-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply executes the update plan by rewriting package.json.</p>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_3">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-219-1"><a id="__codelineno-219-1" name="__codelineno-219-1" href="#__codelineno-219-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect finds package.json files in the repository.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_3">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-220-1"><a id="__codelineno-220-1" name="__codelineno-220-1" href="#__codelineno-220-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_3">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-221-1"><a id="__codelineno-221-1" name="__codelineno-221-1" href="#__codelineno-221-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan determines available updates for npm dependencies. It applies policy precedence: CLI flags &gt; uptool.yaml &gt; manifest constraints.</p>
<p>The planCtx parameter provides the policy context. If nil, default behavior is used <span class="arithmatex">\(respect constraints only\)</span>.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_3">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-222-1"><a id="__codelineno-222-1" name="__codelineno-222-1" href="#__codelineno-222-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate runs npm validation <span class="arithmatex">\(optional\)</span>.</p>
<p><a name="PackageJSON"></a></p>
<h2 id="type-packagejson">type PackageJSON<a class="headerlink" href="#type-packagejson" title="Permanent link">&para;</a></h2>
<p>PackageJSON represents the structure of package.json.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-223-1"><a id="__codelineno-223-1" name="__codelineno-223-1" href="#__codelineno-223-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PackageJSON</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-223-2"><a id="__codelineno-223-2" name="__codelineno-223-2" href="#__codelineno-223-2"></a><span class="w">    </span><span class="nx">Dependencies</span><span class="w">         </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;dependencies,omitempty&quot;`</span>
</span><span id="__span-223-3"><a id="__codelineno-223-3" name="__codelineno-223-3" href="#__codelineno-223-3"></a><span class="w">    </span><span class="nx">DevDependencies</span><span class="w">      </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;devDependencies,omitempty&quot;`</span>
</span><span id="__span-223-4"><a id="__codelineno-223-4" name="__codelineno-223-4" href="#__codelineno-223-4"></a><span class="w">    </span><span class="nx">PeerDependencies</span><span class="w">     </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;peerDependencies,omitempty&quot;`</span>
</span><span id="__span-223-5"><a id="__codelineno-223-5" name="__codelineno-223-5" href="#__codelineno-223-5"></a><span class="w">    </span><span class="nx">OptionalDependencies</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;optionalDependencies,omitempty&quot;`</span>
</span><span id="__span-223-6"><a id="__codelineno-223-6" name="__codelineno-223-6" href="#__codelineno-223-6"></a><span class="w">    </span><span class="nx">Name</span><span class="w">                 </span><span class="kt">string</span><span class="w">            </span><span class="s">`json:&quot;name,omitempty&quot;`</span>
</span><span id="__span-223-7"><a id="__codelineno-223-7" name="__codelineno-223-7" href="#__codelineno-223-7"></a><span class="w">    </span><span class="nx">Version</span><span class="w">              </span><span class="kt">string</span><span class="w">            </span><span class="s">`json:&quot;version,omitempty&quot;`</span>
</span><span id="__span-223-8"><a id="__codelineno-223-8" name="__codelineno-223-8" href="#__codelineno-223-8"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="precommit">precommit<a class="headerlink" href="#precommit" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-224-1"><a id="__codelineno-224-1" name="__codelineno-224-1" href="#__codelineno-224-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/precommit&quot;</span>
</span></code></pre></div>
<p>Package precommit implements the pre-commit integration using the native autoupdate command. It detects .pre-commit-config.yaml files, runs 'pre-commit autoupdate' to update hook versions, and parses the output to report changes. This follows the manifest-first philosophy by using the native tool that directly updates the configuration file.</p>
<h2 id="index_16">Index<a class="headerlink" href="#index_16" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Config">type Config</a></li>
<li><a href="#Hook">type Hook</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
<li><a href="#Repo">type Repo</a></li>
</ul>
<p><a name="Config"></a></p>
<h2 id="type-config_2">type Config<a class="headerlink" href="#type-config_2" title="Permanent link">&para;</a></h2>
<p>Config represents the structure of .pre-commit-config.yaml.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-225-1"><a id="__codelineno-225-1" name="__codelineno-225-1" href="#__codelineno-225-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Config</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-225-2"><a id="__codelineno-225-2" name="__codelineno-225-2" href="#__codelineno-225-2"></a><span class="w">    </span><span class="nx">Repos</span><span class="w"> </span><span class="p">[]</span><span class="nx">Repo</span><span class="w"> </span><span class="s">`yaml:&quot;repos&quot;`</span>
</span><span id="__span-225-3"><a id="__codelineno-225-3" name="__codelineno-225-3" href="#__codelineno-225-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Hook"></a></p>
<h2 id="type-hook">type Hook<a class="headerlink" href="#type-hook" title="Permanent link">&para;</a></h2>
<p>Hook represents a pre-commit hook.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-226-1"><a id="__codelineno-226-1" name="__codelineno-226-1" href="#__codelineno-226-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Hook</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-226-2"><a id="__codelineno-226-2" name="__codelineno-226-2" href="#__codelineno-226-2"></a><span class="w">    </span><span class="nx">ID</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;id&quot;`</span>
</span><span id="__span-226-3"><a id="__codelineno-226-3" name="__codelineno-226-3" href="#__codelineno-226-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Integration"></a></p>
<h2 id="type-integration_5">type Integration<a class="headerlink" href="#type-integration_5" title="Permanent link">&para;</a></h2>
<p>Integration implements pre-commit hook updates using native autoupdate command.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-227-1"><a id="__codelineno-227-1" name="__codelineno-227-1" href="#__codelineno-227-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new_4">func New<a class="headerlink" href="#func-new_4" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-228-1"><a id="__codelineno-228-1" name="__codelineno-228-1" href="#__codelineno-228-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new pre-commit integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_4">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_4" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-229-1"><a id="__codelineno-229-1" name="__codelineno-229-1" href="#__codelineno-229-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply executes the update using native pre-commit autoupdate command.</p>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_4">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_4" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-230-1"><a id="__codelineno-230-1" name="__codelineno-230-1" href="#__codelineno-230-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect finds .pre-commit-config.yaml files in the repository.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_4">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_4" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-231-1"><a id="__codelineno-231-1" name="__codelineno-231-1" href="#__codelineno-231-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_4">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_4" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-232-1"><a id="__codelineno-232-1" name="__codelineno-232-1" href="#__codelineno-232-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan determines available updates for pre-commit hooks. For pre-commit, we use the native autoupdate command in dry-run mode.</p>
<p>Note: The pre-commit native command doesn't support policy-based filtering. The planCtx parameter is accepted for interface compatibility but not currently used. Future versions may implement policy filtering by parsing the autoupdate output.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_4">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_4" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-233-1"><a id="__codelineno-233-1" name="__codelineno-233-1" href="#__codelineno-233-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate runs pre-commit validate-config.</p>
<p><a name="Repo"></a></p>
<h2 id="type-repo">type Repo<a class="headerlink" href="#type-repo" title="Permanent link">&para;</a></h2>
<p>Repo represents a pre-commit repository.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-234-1"><a id="__codelineno-234-1" name="__codelineno-234-1" href="#__codelineno-234-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Repo</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-234-2"><a id="__codelineno-234-2" name="__codelineno-234-2" href="#__codelineno-234-2"></a><span class="w">    </span><span class="nx">Repo</span><span class="w">  </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;repo&quot;`</span>
</span><span id="__span-234-3"><a id="__codelineno-234-3" name="__codelineno-234-3" href="#__codelineno-234-3"></a><span class="w">    </span><span class="nx">Rev</span><span class="w">   </span><span class="kt">string</span><span class="w"> </span><span class="s">`yaml:&quot;rev&quot;`</span>
</span><span id="__span-234-4"><a id="__codelineno-234-4" name="__codelineno-234-4" href="#__codelineno-234-4"></a><span class="w">    </span><span class="nx">Hooks</span><span class="w"> </span><span class="p">[]</span><span class="nx">Hook</span><span class="w"> </span><span class="s">`yaml:&quot;hooks,omitempty&quot;`</span>
</span><span id="__span-234-5"><a id="__codelineno-234-5" name="__codelineno-234-5" href="#__codelineno-234-5"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="terraform">terraform<a class="headerlink" href="#terraform" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-235-1"><a id="__codelineno-235-1" name="__codelineno-235-1" href="#__codelineno-235-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/terraform&quot;</span>
</span></code></pre></div>
<p>Package terraform implements the Terraform integration for updating module versions in .tf files. It detects Terraform configuration files, parses HCL to extract module and provider versions, queries the Terraform Registry for updates, and rewrites versions while preserving HCL formatting.</p>
<h2 id="index_17">Index<a class="headerlink" href="#index_17" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Block">type Block</a></li>
<li><a href="#Config">type Config</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
<li><a href="#ModuleBlock">type ModuleBlock</a></li>
<li><a href="#ProviderBlock">type ProviderBlock</a></li>
<li><a href="#RequiredProvidersBlock">type RequiredProvidersBlock</a></li>
</ul>
<p><a name="Block"></a></p>
<h2 id="type-block">type Block<a class="headerlink" href="#type-block" title="Permanent link">&para;</a></h2>
<p>Block represents a terraform configuration block.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-236-1"><a id="__codelineno-236-1" name="__codelineno-236-1" href="#__codelineno-236-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Block</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-236-2"><a id="__codelineno-236-2" name="__codelineno-236-2" href="#__codelineno-236-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w">            </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w">                </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-236-3"><a id="__codelineno-236-3" name="__codelineno-236-3" href="#__codelineno-236-3"></a><span class="w">    </span><span class="nx">RequiredProviders</span><span class="w"> </span><span class="o">*</span><span class="nx">RequiredProvidersBlock</span><span class="w"> </span><span class="s">`hcl:&quot;required_providers,block&quot;`</span>
</span><span id="__span-236-4"><a id="__codelineno-236-4" name="__codelineno-236-4" href="#__codelineno-236-4"></a><span class="w">    </span><span class="nx">RequiredVersion</span><span class="w">   </span><span class="kt">string</span><span class="w">                  </span><span class="s">`hcl:&quot;required_version,optional&quot;`</span>
</span><span id="__span-236-5"><a id="__codelineno-236-5" name="__codelineno-236-5" href="#__codelineno-236-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Config"></a></p>
<h2 id="type-config_3">type Config<a class="headerlink" href="#type-config_3" title="Permanent link">&para;</a></h2>
<p>Config represents terraform configuration structure.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-237-1"><a id="__codelineno-237-1" name="__codelineno-237-1" href="#__codelineno-237-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Config</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-237-2"><a id="__codelineno-237-2" name="__codelineno-237-2" href="#__codelineno-237-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w">    </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w">        </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-237-3"><a id="__codelineno-237-3" name="__codelineno-237-3" href="#__codelineno-237-3"></a><span class="w">    </span><span class="nx">Terraform</span><span class="w"> </span><span class="p">[]</span><span class="nx">Block</span><span class="w">         </span><span class="s">`hcl:&quot;terraform,block&quot;`</span>
</span><span id="__span-237-4"><a id="__codelineno-237-4" name="__codelineno-237-4" href="#__codelineno-237-4"></a><span class="w">    </span><span class="nx">Modules</span><span class="w">   </span><span class="p">[]</span><span class="nx">ModuleBlock</span><span class="w">   </span><span class="s">`hcl:&quot;module,block&quot;`</span>
</span><span id="__span-237-5"><a id="__codelineno-237-5" name="__codelineno-237-5" href="#__codelineno-237-5"></a><span class="w">    </span><span class="nx">Providers</span><span class="w"> </span><span class="p">[]</span><span class="nx">ProviderBlock</span><span class="w"> </span><span class="s">`hcl:&quot;provider,block&quot;`</span>
</span><span id="__span-237-6"><a id="__codelineno-237-6" name="__codelineno-237-6" href="#__codelineno-237-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Integration"></a></p>
<h2 id="type-integration_6">type Integration<a class="headerlink" href="#type-integration_6" title="Permanent link">&para;</a></h2>
<p>Integration implements terraform configuration updates.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-238-1"><a id="__codelineno-238-1" name="__codelineno-238-1" href="#__codelineno-238-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-238-2"><a id="__codelineno-238-2" name="__codelineno-238-2" href="#__codelineno-238-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-238-3"><a id="__codelineno-238-3" name="__codelineno-238-3" href="#__codelineno-238-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new_5">func New<a class="headerlink" href="#func-new_5" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-239-1"><a id="__codelineno-239-1" name="__codelineno-239-1" href="#__codelineno-239-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new terraform integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_5">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_5" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-240-1"><a id="__codelineno-240-1" name="__codelineno-240-1" href="#__codelineno-240-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply executes the update by rewriting terraform files.</p>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_5">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_5" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-241-1"><a id="__codelineno-241-1" name="__codelineno-241-1" href="#__codelineno-241-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect finds .tf files in the repository.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_5">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_5" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-242-1"><a id="__codelineno-242-1" name="__codelineno-242-1" href="#__codelineno-242-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_5">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_5" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-243-1"><a id="__codelineno-243-1" name="__codelineno-243-1" href="#__codelineno-243-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan determines available updates for terraform providers and modules. It applies policy precedence: CLI flags &gt; uptool.yaml &gt; manifest constraints.</p>
<p>The planCtx parameter provides the policy context. If nil, default behavior is used <span class="arithmatex">\(respect constraints only\)</span>.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_5">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_5" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-244-1"><a id="__codelineno-244-1" name="__codelineno-244-1" href="#__codelineno-244-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate checks if the terraform configuration is valid.</p>
<p><a name="ModuleBlock"></a></p>
<h2 id="type-moduleblock">type ModuleBlock<a class="headerlink" href="#type-moduleblock" title="Permanent link">&para;</a></h2>
<p>ModuleBlock represents a module block.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-245-1"><a id="__codelineno-245-1" name="__codelineno-245-1" href="#__codelineno-245-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ModuleBlock</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-245-2"><a id="__codelineno-245-2" name="__codelineno-245-2" href="#__codelineno-245-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w">  </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-245-3"><a id="__codelineno-245-3" name="__codelineno-245-3" href="#__codelineno-245-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">    </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;name,label&quot;`</span>
</span><span id="__span-245-4"><a id="__codelineno-245-4" name="__codelineno-245-4" href="#__codelineno-245-4"></a><span class="w">    </span><span class="nx">Source</span><span class="w">  </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;source,optional&quot;`</span>
</span><span id="__span-245-5"><a id="__codelineno-245-5" name="__codelineno-245-5" href="#__codelineno-245-5"></a><span class="w">    </span><span class="nx">Version</span><span class="w"> </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;version,optional&quot;`</span>
</span><span id="__span-245-6"><a id="__codelineno-245-6" name="__codelineno-245-6" href="#__codelineno-245-6"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="ProviderBlock"></a></p>
<h2 id="type-providerblock">type ProviderBlock<a class="headerlink" href="#type-providerblock" title="Permanent link">&para;</a></h2>
<p>ProviderBlock represents a provider block.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-246-1"><a id="__codelineno-246-1" name="__codelineno-246-1" href="#__codelineno-246-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">ProviderBlock</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-246-2"><a id="__codelineno-246-2" name="__codelineno-246-2" href="#__codelineno-246-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w"> </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-246-3"><a id="__codelineno-246-3" name="__codelineno-246-3" href="#__codelineno-246-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">   </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;name,label&quot;`</span>
</span><span id="__span-246-4"><a id="__codelineno-246-4" name="__codelineno-246-4" href="#__codelineno-246-4"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="RequiredProvidersBlock"></a></p>
<h2 id="type-requiredprovidersblock">type RequiredProvidersBlock<a class="headerlink" href="#type-requiredprovidersblock" title="Permanent link">&para;</a></h2>
<p>RequiredProvidersBlock represents the required_providers block.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-247-1"><a id="__codelineno-247-1" name="__codelineno-247-1" href="#__codelineno-247-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">RequiredProvidersBlock</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-247-2"><a id="__codelineno-247-2" name="__codelineno-247-2" href="#__codelineno-247-2"></a><span class="w">    </span><span class="nx">Body</span><span class="w"> </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-247-3"><a id="__codelineno-247-3" name="__codelineno-247-3" href="#__codelineno-247-3"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="tflint">tflint<a class="headerlink" href="#tflint" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-248-1"><a id="__codelineno-248-1" name="__codelineno-248-1" href="#__codelineno-248-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/integrations/tflint&quot;</span>
</span></code></pre></div>
<p>Package tflint implements the tflint integration for updating plugin versions in .tflint.hcl files. It detects tflint configuration files, parses HCL to extract plugin versions, queries GitHub Releases for plugin updates, and rewrites versions while preserving HCL formatting.</p>
<h2 id="index_18">Index<a class="headerlink" href="#index_18" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#Config">type Config</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#New">func New() *Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
<li><a href="#Plugin">type Plugin</a></li>
<li><a href="#Rule">type Rule</a></li>
</ul>
<p><a name="Config"></a></p>
<h2 id="type-config_4">type Config<a class="headerlink" href="#type-config_4" title="Permanent link">&para;</a></h2>
<p>Config represents .tflint.hcl structure.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-249-1"><a id="__codelineno-249-1" name="__codelineno-249-1" href="#__codelineno-249-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Config</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-249-2"><a id="__codelineno-249-2" name="__codelineno-249-2" href="#__codelineno-249-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w">  </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-249-3"><a id="__codelineno-249-3" name="__codelineno-249-3" href="#__codelineno-249-3"></a><span class="w">    </span><span class="nx">Plugins</span><span class="w"> </span><span class="p">[]</span><span class="nx">Plugin</span><span class="w"> </span><span class="s">`hcl:&quot;plugin,block&quot;`</span>
</span><span id="__span-249-4"><a id="__codelineno-249-4" name="__codelineno-249-4" href="#__codelineno-249-4"></a><span class="w">    </span><span class="nx">Rules</span><span class="w">   </span><span class="p">[]</span><span class="nx">Rule</span><span class="w">   </span><span class="s">`hcl:&quot;rule,block&quot;`</span>
</span><span id="__span-249-5"><a id="__codelineno-249-5" name="__codelineno-249-5" href="#__codelineno-249-5"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Integration"></a></p>
<h2 id="type-integration_7">type Integration<a class="headerlink" href="#type-integration_7" title="Permanent link">&para;</a></h2>
<p>Integration implements tflint configuration updates.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-250-1"><a id="__codelineno-250-1" name="__codelineno-250-1" href="#__codelineno-250-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-250-2"><a id="__codelineno-250-2" name="__codelineno-250-2" href="#__codelineno-250-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-250-3"><a id="__codelineno-250-3" name="__codelineno-250-3" href="#__codelineno-250-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="New"></a></p>
<h3 id="func-new_6">func New<a class="headerlink" href="#func-new_6" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-251-1"><a id="__codelineno-251-1" name="__codelineno-251-1" href="#__codelineno-251-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new tflint integration.</p>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_6">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_6" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-252-1"><a id="__codelineno-252-1" name="__codelineno-252-1" href="#__codelineno-252-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply executes the update by rewriting the HCL file.</p>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_6">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_6" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-253-1"><a id="__codelineno-253-1" name="__codelineno-253-1" href="#__codelineno-253-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect finds .tflint.hcl files in the repository.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_6">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_6" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-254-1"><a id="__codelineno-254-1" name="__codelineno-254-1" href="#__codelineno-254-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_6">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_6" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-255-1"><a id="__codelineno-255-1" name="__codelineno-255-1" href="#__codelineno-255-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan determines available updates for tflint plugins. It applies policy precedence: CLI flags &gt; uptool.yaml &gt; manifest constraints.</p>
<p>The planCtx parameter provides the policy context. If nil, default behavior is used <span class="arithmatex">\(respect constraints only\)</span>.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_6">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_6" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-256-1"><a id="__codelineno-256-1" name="__codelineno-256-1" href="#__codelineno-256-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate checks if the HCL file is valid.</p>
<p><a name="Plugin"></a></p>
<h2 id="type-plugin">type Plugin<a class="headerlink" href="#type-plugin" title="Permanent link">&para;</a></h2>
<p>Plugin represents a tflint plugin block.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-257-1"><a id="__codelineno-257-1" name="__codelineno-257-1" href="#__codelineno-257-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Plugin</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-257-2"><a id="__codelineno-257-2" name="__codelineno-257-2" href="#__codelineno-257-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w">  </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-257-3"><a id="__codelineno-257-3" name="__codelineno-257-3" href="#__codelineno-257-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">    </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;name,label&quot;`</span>
</span><span id="__span-257-4"><a id="__codelineno-257-4" name="__codelineno-257-4" href="#__codelineno-257-4"></a><span class="w">    </span><span class="nx">Version</span><span class="w"> </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;version,optional&quot;`</span>
</span><span id="__span-257-5"><a id="__codelineno-257-5" name="__codelineno-257-5" href="#__codelineno-257-5"></a><span class="w">    </span><span class="nx">Source</span><span class="w">  </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;source,optional&quot;`</span>
</span><span id="__span-257-6"><a id="__codelineno-257-6" name="__codelineno-257-6" href="#__codelineno-257-6"></a><span class="w">    </span><span class="nx">Enabled</span><span class="w"> </span><span class="kt">bool</span><span class="w">     </span><span class="s">`hcl:&quot;enabled,optional&quot;`</span>
</span><span id="__span-257-7"><a id="__codelineno-257-7" name="__codelineno-257-7" href="#__codelineno-257-7"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Rule"></a></p>
<h2 id="type-rule">type Rule<a class="headerlink" href="#type-rule" title="Permanent link">&para;</a></h2>
<p>Rule represents a tflint rule block.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-258-1"><a id="__codelineno-258-1" name="__codelineno-258-1" href="#__codelineno-258-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Rule</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-258-2"><a id="__codelineno-258-2" name="__codelineno-258-2" href="#__codelineno-258-2"></a><span class="w">    </span><span class="nx">Remain</span><span class="w">  </span><span class="nx">hcl</span><span class="p">.</span><span class="nx">Body</span><span class="w"> </span><span class="s">`hcl:&quot;,remain&quot;`</span>
</span><span id="__span-258-3"><a id="__codelineno-258-3" name="__codelineno-258-3" href="#__codelineno-258-3"></a><span class="w">    </span><span class="nx">Name</span><span class="w">    </span><span class="kt">string</span><span class="w">   </span><span class="s">`hcl:&quot;name,label&quot;`</span>
</span><span id="__span-258-4"><a id="__codelineno-258-4" name="__codelineno-258-4" href="#__codelineno-258-4"></a><span class="w">    </span><span class="nx">Enabled</span><span class="w"> </span><span class="kt">bool</span><span class="w">     </span><span class="s">`hcl:&quot;enabled,optional&quot;`</span>
</span><span id="__span-258-5"><a id="__codelineno-258-5" name="__codelineno-258-5" href="#__codelineno-258-5"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="guards">guards<a class="headerlink" href="#guards" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-259-1"><a id="__codelineno-259-1" name="__codelineno-259-1" href="#__codelineno-259-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/policy/guards&quot;</span>
</span></code></pre></div>
<p>Package guards provides an extensible plugin system for auto-merge guards.</p>
<h3 id="overview_1">Overview<a class="headerlink" href="#overview_1" title="Permanent link">&para;</a></h3>
<p>Guards are pluggable checks that determine whether a Pull Request is ready for auto-merge. uptool provides built-in guards <span class="arithmatex">\(ci\-green, codeowners\-approve, security\-scan\)</span> and supports custom user-defined guards via the Guard interface.</p>
<h3 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h3>
<p>The guard system consists of three main components:</p>
<ol>
<li>Guard Interface - defines the contract for all guards</li>
<li>Registry - manages guard registration and lookup</li>
<li>Environment - provides GitHub context to guards</li>
</ol>
<h3 id="built-in-guards">Built\-in Guards<a class="headerlink" href="#built-in-guards" title="Permanent link">&para;</a></h3>
<p>uptool includes three production-ready guards:</p>
<ul>
<li>ci-green: Verifies all CI checks pass <span class="arithmatex">\(SUCCESS or SKIPPED\)</span></li>
<li>codeowners-approve: Requires approval from repository CODEOWNERS</li>
<li>security-scan: Ensures security scans <span class="arithmatex">\(CodeQL, Trivy, SAST\)</span> pass</li>
</ul>
<p>Built-in guards are automatically registered via init() functions in the builtin package <span class="arithmatex">\(internal/policy/guards/builtin/\)</span>.</p>
<h3 id="custom-guards">Custom Guards<a class="headerlink" href="#custom-guards" title="Permanent link">&para;</a></h3>
<p>To create a custom guard:</p>
<ol>
<li>Implement the Guard interface <span class="arithmatex">\(Name, Description, Check methods\)</span></li>
<li>Register the guard via init() function: guards.Register<span class="arithmatex">\(&amp;MyGuard\{\}\)</span></li>
<li>Import the guard package in your application</li>
<li>Add the guard name to org_policy.auto_merge.guards in uptool.yaml</li>
</ol>
<p>Example custom guard:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-260-1"><a id="__codelineno-260-1" name="__codelineno-260-1" href="#__codelineno-260-1"></a>type MyGuard struct{}
</span><span id="__span-260-2"><a id="__codelineno-260-2" name="__codelineno-260-2" href="#__codelineno-260-2"></a>
</span><span id="__span-260-3"><a id="__codelineno-260-3" name="__codelineno-260-3" href="#__codelineno-260-3"></a>func init() {
</span><span id="__span-260-4"><a id="__codelineno-260-4" name="__codelineno-260-4" href="#__codelineno-260-4"></a>    guards.Register(&amp;MyGuard{})
</span><span id="__span-260-5"><a id="__codelineno-260-5" name="__codelineno-260-5" href="#__codelineno-260-5"></a>}
</span><span id="__span-260-6"><a id="__codelineno-260-6" name="__codelineno-260-6" href="#__codelineno-260-6"></a>
</span><span id="__span-260-7"><a id="__codelineno-260-7" name="__codelineno-260-7" href="#__codelineno-260-7"></a>func (g *MyGuard) Name() string {
</span><span id="__span-260-8"><a id="__codelineno-260-8" name="__codelineno-260-8" href="#__codelineno-260-8"></a>    return &quot;my-custom-guard&quot;
</span><span id="__span-260-9"><a id="__codelineno-260-9" name="__codelineno-260-9" href="#__codelineno-260-9"></a>}
</span><span id="__span-260-10"><a id="__codelineno-260-10" name="__codelineno-260-10" href="#__codelineno-260-10"></a>
</span><span id="__span-260-11"><a id="__codelineno-260-11" name="__codelineno-260-11" href="#__codelineno-260-11"></a>func (g *MyGuard) Description() string {
</span><span id="__span-260-12"><a id="__codelineno-260-12" name="__codelineno-260-12" href="#__codelineno-260-12"></a>    return &quot;Checks my custom approval workflow&quot;
</span><span id="__span-260-13"><a id="__codelineno-260-13" name="__codelineno-260-13" href="#__codelineno-260-13"></a>}
</span><span id="__span-260-14"><a id="__codelineno-260-14" name="__codelineno-260-14" href="#__codelineno-260-14"></a>
</span><span id="__span-260-15"><a id="__codelineno-260-15" name="__codelineno-260-15" href="#__codelineno-260-15"></a>func (g *MyGuard) Check(ctx context.Context, env *guards.Environment) (bool, error) {
</span><span id="__span-260-16"><a id="__codelineno-260-16" name="__codelineno-260-16" href="#__codelineno-260-16"></a>    // Custom logic here - query APIs, check files, etc.
</span><span id="__span-260-17"><a id="__codelineno-260-17" name="__codelineno-260-17" href="#__codelineno-260-17"></a>    return true, nil
</span><span id="__span-260-18"><a id="__codelineno-260-18" name="__codelineno-260-18" href="#__codelineno-260-18"></a>}
</span></code></pre></div>
<h3 id="code-generation">Code Generation<a class="headerlink" href="#code-generation" title="Permanent link">&para;</a></h3>
<p>The guard registry file <span class="arithmatex">\(internal/policy/guards/builtin/all.go\)</span> is automatically generated by scripts/gen_guards.go. Run `go generate` to regenerate after adding new built-in guards.</p>
<p>See docs/guards.md for comprehensive documentation on creating custom guards.</p>
<h2 id="index_19">Index<a class="headerlink" href="#index_19" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#CheckGuard">func CheckGuard<span class="arithmatex">\(ctx context.Context, name string, env \*Environment\)</span> <span class="arithmatex">\(bool, error\)</span></a></li>
<li><a href="#List">func List() []string</a></li>
<li><a href="#Register">func Register<span class="arithmatex">\(guard Guard\)</span></a></li>
<li><a href="#Environment">type Environment</a></li>
<li><a href="#Guard">type Guard</a></li>
<li><a href="#Get">func Get<span class="arithmatex">\(name string\)</span> <span class="arithmatex">\(Guard, bool\)</span></a></li>
<li><a href="#Registry">type Registry</a></li>
<li><a href="#Registry.CheckGuard">func <span class="arithmatex">\(r \*Registry\)</span> CheckGuard<span class="arithmatex">\(ctx context.Context, name string, env \*Environment\)</span> <span class="arithmatex">\(bool, error\)</span></a></li>
<li><a href="#Registry.Get">func <span class="arithmatex">\(r \*Registry\)</span> Get<span class="arithmatex">\(name string\)</span> <span class="arithmatex">\(Guard, bool\)</span></a></li>
<li><a href="#Registry.List">func <span class="arithmatex">\(r \*Registry\)</span> List() []string</a></li>
<li><a href="#Registry.Register">func <span class="arithmatex">\(r \*Registry\)</span> Register<span class="arithmatex">\(guard Guard\)</span></a></li>
</ul>
<p><a name="CheckGuard"></a></p>
<h2 id="func-checkguard">func CheckGuard<a class="headerlink" href="#func-checkguard" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-261-1"><a id="__codelineno-261-1" name="__codelineno-261-1" href="#__codelineno-261-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">CheckGuard</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>CheckGuard executes a guard check by name using the global registry.</p>
<p>This is a convenience function that looks up the guard and executes its Check method. Returns an error if the guard is not found.</p>
<p>Returns:</p>
<ul>
<li>true, nil: Guard found and satisfied</li>
<li>false, nil: Guard found but not satisfied</li>
<li>false, error: Guard not found or check failed</li>
</ul>
<p><a name="List"></a></p>
<h2 id="func-list_2">func List<a class="headerlink" href="#func-list_2" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-262-1"><a id="__codelineno-262-1" name="__codelineno-262-1" href="#__codelineno-262-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">List</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>List returns all registered guard names from the global registry.</p>
<p>The returned slice is a snapshot of registered guard names at the time of the call. The order is not guaranteed.</p>
<p>This is useful for displaying available guards to users or debugging.</p>
<p><a name="Register"></a></p>
<h2 id="func-register_2">func Register<a class="headerlink" href="#func-register_2" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-263-1"><a id="__codelineno-263-1" name="__codelineno-263-1" href="#__codelineno-263-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Register</span><span class="p">(</span><span class="nx">guard</span><span class="w"> </span><span class="nx">Guard</span><span class="p">)</span>
</span></code></pre></div>
<p>Register adds a guard to the global registry.</p>
<p>This function is typically called from init() functions to self-register guards:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-264-1"><a id="__codelineno-264-1" name="__codelineno-264-1" href="#__codelineno-264-1"></a>func init() {
</span><span id="__span-264-2"><a id="__codelineno-264-2" name="__codelineno-264-2" href="#__codelineno-264-2"></a>    guards.Register(&amp;MyCustomGuard{})
</span><span id="__span-264-3"><a id="__codelineno-264-3" name="__codelineno-264-3" href="#__codelineno-264-3"></a>}
</span></code></pre></div>
<p>Panics if a guard with the same name is already registered, as duplicate guard names indicate a programming error.</p>
<p><a name="Environment"></a></p>
<h2 id="type-environment">type Environment<a class="headerlink" href="#type-environment" title="Permanent link">&para;</a></h2>
<p>Environment contains the GitHub context for guard checks.</p>
<p>This struct is passed to all Guard.Check() calls and provides the necessary information to query GitHub APIs or other systems about the PR.</p>
<p>All fields are guaranteed to be populated and validated before being passed to guards.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-265-1"><a id="__codelineno-265-1" name="__codelineno-265-1" href="#__codelineno-265-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Environment</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-265-2"><a id="__codelineno-265-2" name="__codelineno-265-2" href="#__codelineno-265-2"></a><span class="w">    </span><span class="c1">// GitHubRepo is the repository in &quot;owner/repo&quot; format (e.g., &quot;santosr2/uptool&quot;).</span>
</span><span id="__span-265-3"><a id="__codelineno-265-3" name="__codelineno-265-3" href="#__codelineno-265-3"></a><span class="w">    </span><span class="nx">GitHubRepo</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-265-4"><a id="__codelineno-265-4" name="__codelineno-265-4" href="#__codelineno-265-4"></a>
</span><span id="__span-265-5"><a id="__codelineno-265-5" name="__codelineno-265-5" href="#__codelineno-265-5"></a><span class="w">    </span><span class="c1">// GitHubToken is a GitHub API token with permissions to access the repository.</span>
</span><span id="__span-265-6"><a id="__codelineno-265-6" name="__codelineno-265-6" href="#__codelineno-265-6"></a><span class="w">    </span><span class="c1">// Typically has repo scope for private repos or public_repo for public repos.</span>
</span><span id="__span-265-7"><a id="__codelineno-265-7" name="__codelineno-265-7" href="#__codelineno-265-7"></a><span class="w">    </span><span class="nx">GitHubToken</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-265-8"><a id="__codelineno-265-8" name="__codelineno-265-8" href="#__codelineno-265-8"></a>
</span><span id="__span-265-9"><a id="__codelineno-265-9" name="__codelineno-265-9" href="#__codelineno-265-9"></a><span class="w">    </span><span class="c1">// GitHubPRNumber is the pull request number as a string.</span>
</span><span id="__span-265-10"><a id="__codelineno-265-10" name="__codelineno-265-10" href="#__codelineno-265-10"></a><span class="w">    </span><span class="c1">// Guaranteed to be a valid numeric string (e.g., &quot;42&quot;, &quot;123&quot;).</span>
</span><span id="__span-265-11"><a id="__codelineno-265-11" name="__codelineno-265-11" href="#__codelineno-265-11"></a><span class="w">    </span><span class="nx">GitHubPRNumber</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-265-12"><a id="__codelineno-265-12" name="__codelineno-265-12" href="#__codelineno-265-12"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Guard"></a></p>
<h2 id="type-guard">type Guard<a class="headerlink" href="#type-guard" title="Permanent link">&para;</a></h2>
<p>Guard represents a pluggable auto-merge guard check.</p>
<p>Guards determine whether a Pull Request meets the criteria for auto-merge. They can be built-in <span class="arithmatex">\(ci\-green, codeowners\-approve, security\-scan\)</span> or custom user-defined plugins.</p>
<p>All guards must be thread-safe as they may be executed concurrently.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-266-1"><a id="__codelineno-266-1" name="__codelineno-266-1" href="#__codelineno-266-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Guard</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-266-2"><a id="__codelineno-266-2" name="__codelineno-266-2" href="#__codelineno-266-2"></a><span class="w">    </span><span class="c1">// Name returns the unique identifier for this guard.</span>
</span><span id="__span-266-3"><a id="__codelineno-266-3" name="__codelineno-266-3" href="#__codelineno-266-3"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-4"><a id="__codelineno-266-4" name="__codelineno-266-4" href="#__codelineno-266-4"></a><span class="w">    </span><span class="c1">// The name is used in configuration (org_policy.auto_merge.guards) and</span>
</span><span id="__span-266-5"><a id="__codelineno-266-5" name="__codelineno-266-5" href="#__codelineno-266-5"></a><span class="w">    </span><span class="c1">// must be globally unique across all registered guards.</span>
</span><span id="__span-266-6"><a id="__codelineno-266-6" name="__codelineno-266-6" href="#__codelineno-266-6"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-7"><a id="__codelineno-266-7" name="__codelineno-266-7" href="#__codelineno-266-7"></a><span class="w">    </span><span class="c1">// Examples: &quot;ci-green&quot;, &quot;codeowners-approve&quot;, &quot;slack-approval&quot;</span>
</span><span id="__span-266-8"><a id="__codelineno-266-8" name="__codelineno-266-8" href="#__codelineno-266-8"></a><span class="w">    </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-266-9"><a id="__codelineno-266-9" name="__codelineno-266-9" href="#__codelineno-266-9"></a>
</span><span id="__span-266-10"><a id="__codelineno-266-10" name="__codelineno-266-10" href="#__codelineno-266-10"></a><span class="w">    </span><span class="c1">// Description returns a human-readable description of what this guard checks.</span>
</span><span id="__span-266-11"><a id="__codelineno-266-11" name="__codelineno-266-11" href="#__codelineno-266-11"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-12"><a id="__codelineno-266-12" name="__codelineno-266-12" href="#__codelineno-266-12"></a><span class="w">    </span><span class="c1">// The description is shown in help text and error messages to help users</span>
</span><span id="__span-266-13"><a id="__codelineno-266-13" name="__codelineno-266-13" href="#__codelineno-266-13"></a><span class="w">    </span><span class="c1">// understand what the guard does and why it might be failing.</span>
</span><span id="__span-266-14"><a id="__codelineno-266-14" name="__codelineno-266-14" href="#__codelineno-266-14"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-15"><a id="__codelineno-266-15" name="__codelineno-266-15" href="#__codelineno-266-15"></a><span class="w">    </span><span class="c1">// Example: &quot;Verifies that all CI checks pass (SUCCESS or SKIPPED)&quot;</span>
</span><span id="__span-266-16"><a id="__codelineno-266-16" name="__codelineno-266-16" href="#__codelineno-266-16"></a><span class="w">    </span><span class="nx">Description</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span><span id="__span-266-17"><a id="__codelineno-266-17" name="__codelineno-266-17" href="#__codelineno-266-17"></a>
</span><span id="__span-266-18"><a id="__codelineno-266-18" name="__codelineno-266-18" href="#__codelineno-266-18"></a><span class="w">    </span><span class="c1">// Check executes the guard check and returns true if the guard is satisfied.</span>
</span><span id="__span-266-19"><a id="__codelineno-266-19" name="__codelineno-266-19" href="#__codelineno-266-19"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-20"><a id="__codelineno-266-20" name="__codelineno-266-20" href="#__codelineno-266-20"></a><span class="w">    </span><span class="c1">// The context can be used for cancellation and timeout control. Guards should</span>
</span><span id="__span-266-21"><a id="__codelineno-266-21" name="__codelineno-266-21" href="#__codelineno-266-21"></a><span class="w">    </span><span class="c1">// respect context cancellation to avoid blocking during shutdown.</span>
</span><span id="__span-266-22"><a id="__codelineno-266-22" name="__codelineno-266-22" href="#__codelineno-266-22"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-23"><a id="__codelineno-266-23" name="__codelineno-266-23" href="#__codelineno-266-23"></a><span class="w">    </span><span class="c1">// The environment provides GitHub context (repo, PR number, API token) that</span>
</span><span id="__span-266-24"><a id="__codelineno-266-24" name="__codelineno-266-24" href="#__codelineno-266-24"></a><span class="w">    </span><span class="c1">// most guards need to query the GitHub API or related services.</span>
</span><span id="__span-266-25"><a id="__codelineno-266-25" name="__codelineno-266-25" href="#__codelineno-266-25"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-26"><a id="__codelineno-266-26" name="__codelineno-266-26" href="#__codelineno-266-26"></a><span class="w">    </span><span class="c1">// Returns:</span>
</span><span id="__span-266-27"><a id="__codelineno-266-27" name="__codelineno-266-27" href="#__codelineno-266-27"></a><span class="w">    </span><span class="c1">//   - true, nil: Guard is satisfied (PR can be auto-merged)</span>
</span><span id="__span-266-28"><a id="__codelineno-266-28" name="__codelineno-266-28" href="#__codelineno-266-28"></a><span class="w">    </span><span class="c1">//   - false, nil: Guard is not satisfied (PR should not be auto-merged)</span>
</span><span id="__span-266-29"><a id="__codelineno-266-29" name="__codelineno-266-29" href="#__codelineno-266-29"></a><span class="w">    </span><span class="c1">//   - false, error: Guard check failed (treat as not satisfied)</span>
</span><span id="__span-266-30"><a id="__codelineno-266-30" name="__codelineno-266-30" href="#__codelineno-266-30"></a><span class="w">    </span><span class="c1">//</span>
</span><span id="__span-266-31"><a id="__codelineno-266-31" name="__codelineno-266-31" href="#__codelineno-266-31"></a><span class="w">    </span><span class="c1">// Guards should return descriptive errors to help with debugging.</span>
</span><span id="__span-266-32"><a id="__codelineno-266-32" name="__codelineno-266-32" href="#__codelineno-266-32"></a><span class="w">    </span><span class="nx">Check</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span><span id="__span-266-33"><a id="__codelineno-266-33" name="__codelineno-266-33" href="#__codelineno-266-33"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Get"></a></p>
<h3 id="func-get_3">func Get<a class="headerlink" href="#func-get_3" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-267-1"><a id="__codelineno-267-1" name="__codelineno-267-1" href="#__codelineno-267-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">Get</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">Guard</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span>
</span></code></pre></div>
<p>Get retrieves a guard by name from the global registry.</p>
<p>Returns the guard and true if found, or nil and false if not registered.</p>
<p>This function is thread-safe and can be called concurrently.</p>
<p><a name="Registry"></a></p>
<h2 id="type-registry">type Registry<a class="headerlink" href="#type-registry" title="Permanent link">&para;</a></h2>
<p>Registry manages registered guards <span class="arithmatex">\(both built\-in and custom\)</span>.</p>
<p>The registry provides thread-safe registration and lookup of guards. Guards are registered via init() functions and looked up by name during policy checks.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-268-1"><a id="__codelineno-268-1" name="__codelineno-268-1" href="#__codelineno-268-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Registry</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-268-2"><a id="__codelineno-268-2" name="__codelineno-268-2" href="#__codelineno-268-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-268-3"><a id="__codelineno-268-3" name="__codelineno-268-3" href="#__codelineno-268-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Registry.CheckGuard"></a></p>
<h3 id="func-registry-checkguard">func <span class="arithmatex">\(\*Registry\)</span> CheckGuard<a class="headerlink" href="#func-registry-checkguard" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-269-1"><a id="__codelineno-269-1" name="__codelineno-269-1" href="#__codelineno-269-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">r</span><span class="w"> </span><span class="o">*</span><span class="nx">Registry</span><span class="p">)</span><span class="w"> </span><span class="nx">CheckGuard</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>CheckGuard executes a guard check by name using this registry.</p>
<p>Looks up the guard by name and executes its Check method with the provided context and environment.</p>
<p><a name="Registry.Get"></a></p>
<h3 id="func-registry-get">func <span class="arithmatex">\(\*Registry\)</span> Get<a class="headerlink" href="#func-registry-get" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-270-1"><a id="__codelineno-270-1" name="__codelineno-270-1" href="#__codelineno-270-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">r</span><span class="w"> </span><span class="o">*</span><span class="nx">Registry</span><span class="p">)</span><span class="w"> </span><span class="nx">Get</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nx">Guard</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span>
</span></code></pre></div>
<p>Get retrieves a guard by name from this registry.</p>
<p>Returns the guard and true if found, or nil and false if not registered.</p>
<p><a name="Registry.List"></a></p>
<h3 id="func-registry-list">func <span class="arithmatex">\(\*Registry\)</span> List<a class="headerlink" href="#func-registry-list" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-271-1"><a id="__codelineno-271-1" name="__codelineno-271-1" href="#__codelineno-271-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">r</span><span class="w"> </span><span class="o">*</span><span class="nx">Registry</span><span class="p">)</span><span class="w"> </span><span class="nx">List</span><span class="p">()</span><span class="w"> </span><span class="p">[]</span><span class="kt">string</span>
</span></code></pre></div>
<p>List returns all registered guard names from this registry.</p>
<p>Returns a new slice containing all registered guard names.</p>
<p><a name="Registry.Register"></a></p>
<h3 id="func-registry-register">func <span class="arithmatex">\(\*Registry\)</span> Register<a class="headerlink" href="#func-registry-register" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-272-1"><a id="__codelineno-272-1" name="__codelineno-272-1" href="#__codelineno-272-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">r</span><span class="w"> </span><span class="o">*</span><span class="nx">Registry</span><span class="p">)</span><span class="w"> </span><span class="nx">Register</span><span class="p">(</span><span class="nx">guard</span><span class="w"> </span><span class="nx">Guard</span><span class="p">)</span>
</span></code></pre></div>
<p>Register adds a guard to this registry.</p>
<p>Panics if a guard with the same name is already registered. This is the underlying implementation used by the package-level Register function.</p>
<h1 id="custom">custom<a class="headerlink" href="#custom" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-273-1"><a id="__codelineno-273-1" name="__codelineno-273-1" href="#__codelineno-273-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/examples/plugins/guards/custom&quot;</span>
</span></code></pre></div>
<p>Package custom provides example custom guard implementations. This demonstrates how to create custom guards that extend uptool's auto-merge capabilities.</p>
<h2 id="index_20">Index<a class="headerlink" href="#index_20" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#SlackApprovalGuard">type SlackApprovalGuard</a></li>
<li><a href="#SlackApprovalGuard.Check">func <span class="arithmatex">\(g \*SlackApprovalGuard\)</span> Check<span class="arithmatex">\(ctx context.Context, env \*guards.Environment\)</span> <span class="arithmatex">\(bool, error\)</span></a></li>
<li><a href="#SlackApprovalGuard.Description">func <span class="arithmatex">\(g \*SlackApprovalGuard\)</span> Description() string</a></li>
<li><a href="#SlackApprovalGuard.Name">func <span class="arithmatex">\(g \*SlackApprovalGuard\)</span> Name() string</a></li>
</ul>
<p><a name="SlackApprovalGuard"></a></p>
<h2 id="type-slackapprovalguard">type SlackApprovalGuard<a class="headerlink" href="#type-slackapprovalguard" title="Permanent link">&para;</a></h2>
<p>SlackApprovalGuard checks if the PR has been approved via Slack reaction. This is an example custom guard that demonstrates: - Using external APIs <span class="arithmatex">\(Slack\)</span> - Reading custom environment variables - Implementing custom approval workflows</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-274-1"><a id="__codelineno-274-1" name="__codelineno-274-1" href="#__codelineno-274-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">SlackApprovalGuard</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="SlackApprovalGuard.Check"></a></p>
<h3 id="func-slackapprovalguard-check">func <span class="arithmatex">\(\*SlackApprovalGuard\)</span> Check<a class="headerlink" href="#func-slackapprovalguard-check" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-275-1"><a id="__codelineno-275-1" name="__codelineno-275-1" href="#__codelineno-275-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">SlackApprovalGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Check</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">guards</span><span class="p">.</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Check verifies that the PR has Slack approval via thumbs-up reaction.</p>
<p><a name="SlackApprovalGuard.Description"></a></p>
<h3 id="func-slackapprovalguard-description">func <span class="arithmatex">\(\*SlackApprovalGuard\)</span> Description<a class="headerlink" href="#func-slackapprovalguard-description" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-276-1"><a id="__codelineno-276-1" name="__codelineno-276-1" href="#__codelineno-276-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">SlackApprovalGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Description</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Description returns a human-readable description of the guard.</p>
<p><a name="SlackApprovalGuard.Name"></a></p>
<h3 id="func-slackapprovalguard-name">func <span class="arithmatex">\(\*SlackApprovalGuard\)</span> Name<a class="headerlink" href="#func-slackapprovalguard-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-277-1"><a id="__codelineno-277-1" name="__codelineno-277-1" href="#__codelineno-277-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">SlackApprovalGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the guard's unique identifier.</p>
<h1 id="python">python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-278-1"><a id="__codelineno-278-1" name="__codelineno-278-1" href="#__codelineno-278-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/examples/plugins/python&quot;</span>
</span></code></pre></div>
<p>Package main implements an uptool plugin for Python requirements.txt dependencies. This plugin demonstrates the external plugin architecture for uptool.</p>
<h2 id="index_21">Index<a class="headerlink" href="#index_21" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#New">func New() engine.Integration</a></li>
<li><a href="#ParseRequirements">func ParseRequirements<span class="arithmatex">\(content string\)</span> <span class="arithmatex">\(\[\]\*engine.Dependency, error\)</span></a></li>
<li><a href="#RegisterWith">func RegisterWith<span class="arithmatex">\(register func\(name string, constructor func\(\)</span> engine.Integration))</a></li>
<li><a href="#Integration">type Integration</a></li>
<li><a href="#Integration.Apply">func <span class="arithmatex">\(i \*Integration\)</span> Apply<span class="arithmatex">\(ctx context.Context, plan \*engine.UpdatePlan\)</span> <span class="arithmatex">\(\*engine.ApplyResult, error\)</span></a></li>
<li><a href="#Integration.Detect">func <span class="arithmatex">\(i \*Integration\)</span> Detect<span class="arithmatex">\(ctx context.Context, repoRoot string\)</span> <span class="arithmatex">\(\[\]\*engine.Manifest, error\)</span></a></li>
<li><a href="#Integration.Name">func <span class="arithmatex">\(i \*Integration\)</span> Name() string</a></li>
<li><a href="#Integration.Plan">func <span class="arithmatex">\(i \*Integration\)</span> Plan<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest, planCtx \*engine.PlanContext\)</span> <span class="arithmatex">\(\*engine.UpdatePlan, error\)</span></a></li>
<li><a href="#Integration.Validate">func <span class="arithmatex">\(i \*Integration\)</span> Validate<span class="arithmatex">\(ctx context.Context, manifest \*engine.Manifest\)</span> error</a></li>
<li><a href="#PyPIClient">type PyPIClient</a></li>
<li><a href="#NewPyPIClient">func NewPyPIClient() *PyPIClient</a></li>
<li><a href="#PyPIClient.GetLatestVersion">func <span class="arithmatex">\(c \*PyPIClient\)</span> GetLatestVersion<span class="arithmatex">\(ctx context.Context, packageName string\)</span> <span class="arithmatex">\(string, error\)</span></a></li>
<li><a href="#PyPIResponse">type PyPIResponse</a></li>
</ul>
<p><a name="New"></a></p>
<h2 id="func-new_7">func New<a class="headerlink" href="#func-new_7" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-279-1"><a id="__codelineno-279-1" name="__codelineno-279-1" href="#__codelineno-279-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">New</span><span class="p">()</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Integration</span>
</span></code></pre></div>
<p>New creates a new Python integration instance.</p>
<p><a name="ParseRequirements"></a></p>
<h2 id="func-parserequirements">func ParseRequirements<a class="headerlink" href="#func-parserequirements" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-280-1"><a id="__codelineno-280-1" name="__codelineno-280-1" href="#__codelineno-280-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">ParseRequirements</span><span class="p">(</span><span class="nx">content</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Dependency</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>ParseRequirements parses a requirements.txt file and extracts dependencies. It handles: - Simple version pins <span class="arithmatex">\(package==1.0.0\)</span> - Version constraints <span class="arithmatex">\(package\&gt;=1.0.0\)</span> - Comments <span class="arithmatex">\(\# comment\)</span> - Blank lines - Extras <span class="arithmatex">\(package\[extra\]==1.0.0\)</span></p>
<p><a name="RegisterWith"></a></p>
<h2 id="func-registerwith">func RegisterWith<a class="headerlink" href="#func-registerwith" title="Permanent link">&para;</a></h2>
<div class="language-go highlight"><pre><span></span><code><span id="__span-281-1"><a id="__codelineno-281-1" name="__codelineno-281-1" href="#__codelineno-281-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">RegisterWith</span><span class="p">(</span><span class="nx">register</span><span class="w"> </span><span class="kd">func</span><span class="p">(</span><span class="nx">name</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">constructor</span><span class="w"> </span><span class="kd">func</span><span class="p">()</span><span class="w"> </span><span class="nx">engine</span><span class="p">.</span><span class="nx">Integration</span><span class="p">))</span>
</span></code></pre></div>
<p>RegisterWith is called by uptool to register this plugin's integrations. This function MUST be exported and have this exact signature for the plugin to work.</p>
<p>uptool will call this function and pass its Register function, which the plugin should call to register each integration it provides.</p>
<p><a name="Integration"></a></p>
<h2 id="type-integration_8">type Integration<a class="headerlink" href="#type-integration_8" title="Permanent link">&para;</a></h2>
<p>Integration implements the engine.Integration interface for Python requirements.txt.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-282-1"><a id="__codelineno-282-1" name="__codelineno-282-1" href="#__codelineno-282-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">Integration</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-282-2"><a id="__codelineno-282-2" name="__codelineno-282-2" href="#__codelineno-282-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-282-3"><a id="__codelineno-282-3" name="__codelineno-282-3" href="#__codelineno-282-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="Integration.Apply"></a></p>
<h3 id="func-integration-apply_7">func <span class="arithmatex">\(\*Integration\)</span> Apply<a class="headerlink" href="#func-integration-apply_7" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-283-1"><a id="__codelineno-283-1" name="__codelineno-283-1" href="#__codelineno-283-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Apply</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">plan</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">ApplyResult</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Apply executes the update plan by rewriting requirements.txt.</p>
<p><a name="Integration.Detect"></a></p>
<h3 id="func-integration-detect_7">func <span class="arithmatex">\(\*Integration\)</span> Detect<a class="headerlink" href="#func-integration-detect_7" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-284-1"><a id="__codelineno-284-1" name="__codelineno-284-1" href="#__codelineno-284-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Detect</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">repoRoot</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">([]</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Detect finds requirements.txt files in the repository.</p>
<p><a name="Integration.Name"></a></p>
<h3 id="func-integration-name_7">func <span class="arithmatex">\(\*Integration\)</span> Name<a class="headerlink" href="#func-integration-name_7" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-285-1"><a id="__codelineno-285-1" name="__codelineno-285-1" href="#__codelineno-285-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the integration identifier.</p>
<p><a name="Integration.Plan"></a></p>
<h3 id="func-integration-plan_7">func <span class="arithmatex">\(\*Integration\)</span> Plan<a class="headerlink" href="#func-integration-plan_7" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-286-1"><a id="__codelineno-286-1" name="__codelineno-286-1" href="#__codelineno-286-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Plan</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">,</span><span class="w"> </span><span class="nx">planCtx</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">PlanContext</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">UpdatePlan</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Plan generates an update plan for a requirements.txt file.</p>
<p><a name="Integration.Validate"></a></p>
<h3 id="func-integration-validate_7">func <span class="arithmatex">\(\*Integration\)</span> Validate<a class="headerlink" href="#func-integration-validate_7" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-287-1"><a id="__codelineno-287-1" name="__codelineno-287-1" href="#__codelineno-287-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="nx">Integration</span><span class="p">)</span><span class="w"> </span><span class="nx">Validate</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">manifest</span><span class="w"> </span><span class="o">*</span><span class="nx">engine</span><span class="p">.</span><span class="nx">Manifest</span><span class="p">)</span><span class="w"> </span><span class="kt">error</span>
</span></code></pre></div>
<p>Validate checks if a requirements.txt file is valid.</p>
<p><a name="PyPIClient"></a></p>
<h2 id="type-pypiclient">type PyPIClient<a class="headerlink" href="#type-pypiclient" title="Permanent link">&para;</a></h2>
<p>PyPIClient queries the PyPI JSON API for package information.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-288-1"><a id="__codelineno-288-1" name="__codelineno-288-1" href="#__codelineno-288-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PyPIClient</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-288-2"><a id="__codelineno-288-2" name="__codelineno-288-2" href="#__codelineno-288-2"></a><span class="w">    </span><span class="c1">// contains filtered or unexported fields</span>
</span><span id="__span-288-3"><a id="__codelineno-288-3" name="__codelineno-288-3" href="#__codelineno-288-3"></a><span class="p">}</span>
</span></code></pre></div>
<p><a name="NewPyPIClient"></a></p>
<h3 id="func-newpypiclient">func NewPyPIClient<a class="headerlink" href="#func-newpypiclient" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-289-1"><a id="__codelineno-289-1" name="__codelineno-289-1" href="#__codelineno-289-1"></a><span class="kd">func</span><span class="w"> </span><span class="nx">NewPyPIClient</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="nx">PyPIClient</span>
</span></code></pre></div>
<p>NewPyPIClient creates a new PyPI client.</p>
<p><a name="PyPIClient.GetLatestVersion"></a></p>
<h3 id="func-pypiclient-getlatestversion">func <span class="arithmatex">\(\*PyPIClient\)</span> GetLatestVersion<a class="headerlink" href="#func-pypiclient-getlatestversion" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-290-1"><a id="__codelineno-290-1" name="__codelineno-290-1" href="#__codelineno-290-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">c</span><span class="w"> </span><span class="o">*</span><span class="nx">PyPIClient</span><span class="p">)</span><span class="w"> </span><span class="nx">GetLatestVersion</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">packageName</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>GetLatestVersion fetches the latest stable version for a package from PyPI.</p>
<p><a name="PyPIResponse"></a></p>
<h2 id="type-pypiresponse">type PyPIResponse<a class="headerlink" href="#type-pypiresponse" title="Permanent link">&para;</a></h2>
<p>PyPIResponse represents the PyPI JSON API response.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-291-1"><a id="__codelineno-291-1" name="__codelineno-291-1" href="#__codelineno-291-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">PyPIResponse</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-291-2"><a id="__codelineno-291-2" name="__codelineno-291-2" href="#__codelineno-291-2"></a><span class="w">    </span><span class="nx">Info</span><span class="w"> </span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-291-3"><a id="__codelineno-291-3" name="__codelineno-291-3" href="#__codelineno-291-3"></a><span class="w">        </span><span class="nx">Name</span><span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;name&quot;`</span>
</span><span id="__span-291-4"><a id="__codelineno-291-4" name="__codelineno-291-4" href="#__codelineno-291-4"></a><span class="w">        </span><span class="nx">Version</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="s">`json:&quot;version&quot;`</span>
</span><span id="__span-291-5"><a id="__codelineno-291-5" name="__codelineno-291-5" href="#__codelineno-291-5"></a><span class="w">    </span><span class="p">}</span><span class="w">   </span><span class="s">`json:&quot;info&quot;`</span>
</span><span id="__span-291-6"><a id="__codelineno-291-6" name="__codelineno-291-6" href="#__codelineno-291-6"></a><span class="w">    </span><span class="nx">Releases</span><span class="w"> </span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">][]</span><span class="kd">struct</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-291-7"><a id="__codelineno-291-7" name="__codelineno-291-7" href="#__codelineno-291-7"></a><span class="w">        </span><span class="nx">Yanked</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="s">`json:&quot;yanked&quot;`</span>
</span><span id="__span-291-8"><a id="__codelineno-291-8" name="__codelineno-291-8" href="#__codelineno-291-8"></a><span class="w">    </span><span class="p">}</span><span class="w">   </span><span class="s">`json:&quot;releases&quot;`</span>
</span><span id="__span-291-9"><a id="__codelineno-291-9" name="__codelineno-291-9" href="#__codelineno-291-9"></a><span class="p">}</span>
</span></code></pre></div>
<h1 id="builtin">builtin<a class="headerlink" href="#builtin" title="Permanent link">&para;</a></h1>
<div class="language-go highlight"><pre><span></span><code><span id="__span-292-1"><a id="__codelineno-292-1" name="__codelineno-292-1" href="#__codelineno-292-1"></a><span class="kn">import</span><span class="w"> </span><span class="s">&quot;github.com/santosr2/uptool/internal/policy/guards/builtin&quot;</span>
</span></code></pre></div>
<p>Package builtin registers all built-in auto-merge guards. Import this package to automatically register guards like ci-green, codeowners-approve, security-scan.</p>
<p>The guards are registered via init() functions in their individual files:</p>
<ul>
<li>ci_green.go</li>
<li>codeowners.go</li>
<li>security_scan.go</li>
</ul>
<h2 id="index_22">Index<a class="headerlink" href="#index_22" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#CIGreenGuard">type CIGreenGuard</a></li>
<li><a href="#CIGreenGuard.Check">func <span class="arithmatex">\(g \*CIGreenGuard\)</span> Check<span class="arithmatex">\(ctx context.Context, env \*guards.Environment\)</span> <span class="arithmatex">\(bool, error\)</span></a></li>
<li><a href="#CIGreenGuard.Description">func <span class="arithmatex">\(g \*CIGreenGuard\)</span> Description() string</a></li>
<li><a href="#CIGreenGuard.Name">func <span class="arithmatex">\(g \*CIGreenGuard\)</span> Name() string</a></li>
<li><a href="#CodeownersApproveGuard">type CodeownersApproveGuard</a></li>
<li><a href="#CodeownersApproveGuard.Check">func <span class="arithmatex">\(g \*CodeownersApproveGuard\)</span> Check<span class="arithmatex">\(ctx context.Context, env \*guards.Environment\)</span> <span class="arithmatex">\(bool, error\)</span></a></li>
<li><a href="#CodeownersApproveGuard.Description">func <span class="arithmatex">\(g \*CodeownersApproveGuard\)</span> Description() string</a></li>
<li><a href="#CodeownersApproveGuard.Name">func <span class="arithmatex">\(g \*CodeownersApproveGuard\)</span> Name() string</a></li>
<li><a href="#SecurityScanGuard">type SecurityScanGuard</a></li>
<li><a href="#SecurityScanGuard.Check">func <span class="arithmatex">\(g \*SecurityScanGuard\)</span> Check<span class="arithmatex">\(ctx context.Context, env \*guards.Environment\)</span> <span class="arithmatex">\(bool, error\)</span></a></li>
<li><a href="#SecurityScanGuard.Description">func <span class="arithmatex">\(g \*SecurityScanGuard\)</span> Description() string</a></li>
<li><a href="#SecurityScanGuard.Name">func <span class="arithmatex">\(g \*SecurityScanGuard\)</span> Name() string</a></li>
</ul>
<p><a name="CIGreenGuard"></a></p>
<h2 id="type-cigreenguard">type CIGreenGuard<a class="headerlink" href="#type-cigreenguard" title="Permanent link">&para;</a></h2>
<p>CIGreenGuard checks if all CI checks are passing.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-293-1"><a id="__codelineno-293-1" name="__codelineno-293-1" href="#__codelineno-293-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CIGreenGuard</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="CIGreenGuard.Check"></a></p>
<h3 id="func-cigreenguard-check">func <span class="arithmatex">\(\*CIGreenGuard\)</span> Check<a class="headerlink" href="#func-cigreenguard-check" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-294-1"><a id="__codelineno-294-1" name="__codelineno-294-1" href="#__codelineno-294-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">CIGreenGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Check</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">guards</span><span class="p">.</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Check verifies that all CI checks are passing.</p>
<p><a name="CIGreenGuard.Description"></a></p>
<h3 id="func-cigreenguard-description">func <span class="arithmatex">\(\*CIGreenGuard\)</span> Description<a class="headerlink" href="#func-cigreenguard-description" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-295-1"><a id="__codelineno-295-1" name="__codelineno-295-1" href="#__codelineno-295-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">CIGreenGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Description</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Description returns a human-readable description of the guard.</p>
<p><a name="CIGreenGuard.Name"></a></p>
<h3 id="func-cigreenguard-name">func <span class="arithmatex">\(\*CIGreenGuard\)</span> Name<a class="headerlink" href="#func-cigreenguard-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-296-1"><a id="__codelineno-296-1" name="__codelineno-296-1" href="#__codelineno-296-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">CIGreenGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the guard's unique identifier.</p>
<p><a name="CodeownersApproveGuard"></a></p>
<h2 id="type-codeownersapproveguard">type CodeownersApproveGuard<a class="headerlink" href="#type-codeownersapproveguard" title="Permanent link">&para;</a></h2>
<p>CodeownersApproveGuard checks if CODEOWNERS have approved the PR.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-297-1"><a id="__codelineno-297-1" name="__codelineno-297-1" href="#__codelineno-297-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">CodeownersApproveGuard</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="CodeownersApproveGuard.Check"></a></p>
<h3 id="func-codeownersapproveguard-check">func <span class="arithmatex">\(\*CodeownersApproveGuard\)</span> Check<a class="headerlink" href="#func-codeownersapproveguard-check" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-298-1"><a id="__codelineno-298-1" name="__codelineno-298-1" href="#__codelineno-298-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">CodeownersApproveGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Check</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">guards</span><span class="p">.</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Check verifies that CODEOWNERS have approved the PR.</p>
<p><a name="CodeownersApproveGuard.Description"></a></p>
<h3 id="func-codeownersapproveguard-description">func <span class="arithmatex">\(\*CodeownersApproveGuard\)</span> Description<a class="headerlink" href="#func-codeownersapproveguard-description" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-299-1"><a id="__codelineno-299-1" name="__codelineno-299-1" href="#__codelineno-299-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">CodeownersApproveGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Description</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Description returns a human-readable description of the guard.</p>
<p><a name="CodeownersApproveGuard.Name"></a></p>
<h3 id="func-codeownersapproveguard-name">func <span class="arithmatex">\(\*CodeownersApproveGuard\)</span> Name<a class="headerlink" href="#func-codeownersapproveguard-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-300-1"><a id="__codelineno-300-1" name="__codelineno-300-1" href="#__codelineno-300-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">CodeownersApproveGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the guard's unique identifier.</p>
<p><a name="SecurityScanGuard"></a></p>
<h2 id="type-securityscanguard">type SecurityScanGuard<a class="headerlink" href="#type-securityscanguard" title="Permanent link">&para;</a></h2>
<p>SecurityScanGuard checks if security scans have passed.</p>
<div class="language-go highlight"><pre><span></span><code><span id="__span-301-1"><a id="__codelineno-301-1" name="__codelineno-301-1" href="#__codelineno-301-1"></a><span class="kd">type</span><span class="w"> </span><span class="nx">SecurityScanGuard</span><span class="w"> </span><span class="kd">struct</span><span class="p">{}</span>
</span></code></pre></div>
<p><a name="SecurityScanGuard.Check"></a></p>
<h3 id="func-securityscanguard-check">func <span class="arithmatex">\(\*SecurityScanGuard\)</span> Check<a class="headerlink" href="#func-securityscanguard-check" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-302-1"><a id="__codelineno-302-1" name="__codelineno-302-1" href="#__codelineno-302-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">SecurityScanGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Check</span><span class="p">(</span><span class="nx">ctx</span><span class="w"> </span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span><span class="w"> </span><span class="nx">env</span><span class="w"> </span><span class="o">*</span><span class="nx">guards</span><span class="p">.</span><span class="nx">Environment</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="kt">bool</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span>
</span></code></pre></div>
<p>Check verifies that security scans have passed.</p>
<p><a name="SecurityScanGuard.Description"></a></p>
<h3 id="func-securityscanguard-description">func <span class="arithmatex">\(\*SecurityScanGuard\)</span> Description<a class="headerlink" href="#func-securityscanguard-description" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-303-1"><a id="__codelineno-303-1" name="__codelineno-303-1" href="#__codelineno-303-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">SecurityScanGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Description</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Description returns a human-readable description of the guard.</p>
<p><a name="SecurityScanGuard.Name"></a></p>
<h3 id="func-securityscanguard-name">func <span class="arithmatex">\(\*SecurityScanGuard\)</span> Name<a class="headerlink" href="#func-securityscanguard-name" title="Permanent link">&para;</a></h3>
<div class="language-go highlight"><pre><span></span><code><span id="__span-304-1"><a id="__codelineno-304-1" name="__codelineno-304-1" href="#__codelineno-304-1"></a><span class="kd">func</span><span class="w"> </span><span class="p">(</span><span class="nx">g</span><span class="w"> </span><span class="o">*</span><span class="nx">SecurityScanGuard</span><span class="p">)</span><span class="w"> </span><span class="nx">Name</span><span class="p">()</span><span class="w"> </span><span class="kt">string</span>
</span></code></pre></div>
<p>Name returns the guard's unique identifier.</p>
<p>Generated by <a href="https://github.com/princjef/gomarkdoc">gomarkdoc</a></p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="November 29, 2025 21:36:43 UTC"><span class="timeago" datetime="2025-11-29T21:36:43+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="November 29, 2025 21:36:43 UTC">2025-11-29</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="November 29, 2025 21:36:43 UTC"><span class="timeago" datetime="2025-11-29T21:36:43+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="November 29, 2025 21:36:43 UTC">2025-11-29</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../architecture/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Architecture">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Architecture
              </div>
            </div>
          </a>
        
        
          
          <a href="../cli/commands/" class="md-footer__link md-footer__link--next" aria-label="Next: CLI Commands">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                CLI Commands
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 santosr2
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/santosr2/uptool" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/santosr2" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "navigation.footer", "navigation.indexes", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.tabs.link", "content.tooltips", "toc.follow", "toc.integrate", "announce.dismiss"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  </body>
</html>