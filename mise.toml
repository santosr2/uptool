# mise configuration for consistent toolchain management
# https://mise.jdx.dev/
#
# This file defines ALL tools used across development and CI/CD.
# All workflows MUST use mise to install these tools for consistency.

[tools]
# Core language
go = "1.25"

# Go tooling
golangci-lint = "2.6"
"go:github.com/fzipp/gocyclo/cmd/gocyclo" = "latest"

# Release & changelog
"cargo:git-cliff" = "2.10"
"pipx:bump-my-version" = "1.2"

# Workflow validation
actionlint = "1.7"

# Code quality
pre-commit = "4.4"
yamllint = "1.37"

# Documentation
# Note: mkdocs-material doesn't work well with mise, install manually in workflows
# https://github.com/astral-sh/uv/issues/14142
# "pipx:mkdocs-material" = "9.5"
"go:github.com/princjef/gomarkdoc/cmd/gomarkdoc" = "latest"

# Security scanning
"go:github.com/google/go-licenses" = "latest"
"go:golang.org/x/vuln/cmd/govulncheck" = "latest"
"go:github.com/sigstore/cosign/v2/cmd/cosign" = "latest"
"go:github.com/slsa-framework/slsa-verifier/v2/cli/slsa-verifier" = "latest"
"pipx:detect-secrets" = "latest"

# Commit conventions
node = "22"
"npm:@commitlint/cli" = "latest"
"npm:@commitlint/config-conventional" = "latest"

# Package managers
pipx = "1.8"
uv = "latest"

# Development tools
"go:github.com/air-verse/air" = "1.63.1"

# Environment variables for development
[env]
# Go configuration
CGO_ENABLED = "0"
# GOOS = "{{ os }}"
# GOARCH = "{{ arch }}"

# uptool configuration
UPTOOL_LOG_LEVEL = "info"
UPTOOL_CONFIG = "{{ config_root }}/uptool.yaml"

# Development flags
UPTOOL_DEV_MODE = "true"
UPTOOL_DEBUG = "false"

# Build information
# UPTOOL_BUILD_USER = "{{ env.USER | env.USERNAME }}"
# UPTOOL_BUILD_HOST = "{{ env.HOSTNAME }}"
